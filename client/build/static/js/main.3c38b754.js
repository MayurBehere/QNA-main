/*! For license information please see main.3c38b754.js.LICENSE.txt */
(()=>{"use strict";var e={730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),A=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case T:return"Profiler";case I:return"StrictMode";case C:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function $(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,Ie=null;function Te(e){if(e=wi(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Ee(e.stateNode,e.type,t))}}function ke(e){Se?Ie?Ie.push(e):Ie=[e]:Se=e}function Ae(){if(Se){var e=Se,t=Ie;if(Ie=Se=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function xe(e,t){return e(t)}function Ce(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return xe(e,t,n)}finally{Ne=!1,(null!==Se||null!==Ie)&&(Ce(),Ae())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Pe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Pe=!1}function Le(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,je=null,Fe=!1,Ue=null,Be={onError:function(e){Me=!0,je=e}};function Ve(e,t,n,r,i,s,o,a,l){Me=!1,je=null,Le.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,Et,St,It,Tt,kt=!1,At=[],xt=null,Ct=null,Nt=null,Rt=new Map,Ot=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=vi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Bt(){kt=!1,null!==xt&&Ft(xt)&&(xt=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),Rt.forEach(Ut),Ot.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Vt(t,e)}if(0<At.length){Vt(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&Vt(xt,e),null!==Ct&&Vt(Ct,e),null!==Nt&&Vt(Nt,e),Rt.forEach(t),Ot.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)jt(n),null===n.blockedOn&&Pt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=1,Kt(e,t,n,r)}finally{wt=i,qt.transition=s}}function Gt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=4,Kt(e,t,n,r)}finally{wt=i,qt.transition=s}}function Kt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Mt(xt,e,t,n,r,i),!0;case"dragenter":return Ct=Mt(Ct,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rt.set(s,Mt(Rt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ot.set(s,Mt(Ot.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&_t(s),null===(s=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=vi(e=_e(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=j({},cn,{view:0,detail:0}),dn=sn(hn),fn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(j({},fn,{dataTransfer:0})),gn=sn(j({},hn,{relatedTarget:0})),yn=sn(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(vn),bn=sn(j({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Tn(){return In}var kn=j({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=sn(kn),xn=sn(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=sn(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Nn=sn(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=sn(Rn),Pn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,jn=u&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){ke(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){Fr(e,0)}function Yn(e){if(K(bi(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Xn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Wn(t,Kn,e,_e(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function sr(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Sr={},Ir={};function Tr(e){if(Sr[e])return Sr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return Sr[e]=n[t];return e}u&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var kr=Tr("animationend"),Ar=Tr("animationiteration"),xr=Tr("animationstart"),Cr=Tr("transitionend"),Nr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Nr.set(e,t),l(t,[e])}for(var Pr=0;Pr<Rr.length;Pr++){var Dr=Rr[Pr];Or(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Or(kr,"onAnimationEnd"),Or(Ar,"onAnimationIteration"),Or(xr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(s(198));var u=je;Me=!1,je=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;jr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;jr(i,a,c),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=vi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Re((function(){var r=s,i=_e(n),o=[];e:{var a=Nr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case kr:case Ar:case xr:l=yn;break;case Cr:l=Nn;break;case"scroll":l=dn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Oe(p,d))&&u.push(Wr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=xn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:bi(l),f=null==c?a:bi(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,vi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=d;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)d=Kr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Kr(u),d=Kr(d)}u=null}else u=null;null!==l&&Qr(o,a,l,u,!1),null!==c&&null!==h&&Qr(o,h,c,u,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Jn;else if(Hn(a))if(Xn)g=or;else{g=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?bi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zn?Bn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(jn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(v=en()):($t="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Gr(r,w)).length&&(w=new bn(w,e,null,n,i),o.push({event:w,listeners:y}),v?w.data=v:null!==(v=Vn(n))&&(w.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),Zt=$t=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Oe(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=Oe(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Oe(n,s))&&o.unshift(Wr(n,l,a)):i||null!=(l=Oe(n,s))&&o.push(Wr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function $r(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Ei=[],Si=-1;function Ii(e){return{current:e}}function Ti(e){0>Si||(e.current=Ei[Si],Ei[Si]=null,Si--)}function ki(e,t){Si++,Ei[Si]=e.current,e.current=t}var Ai={},xi=Ii(Ai),Ci=Ii(!1),Ni=Ai;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ai;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ti(Ci),Ti(xi)}function Di(e,t,n){if(xi.current!==Ai)throw Error(s(168));ki(xi,t),ki(Ci,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ai,Ni=xi.current,ki(xi,e),ki(Ci,Ci.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ci),Ti(xi),ki(xi,e)):Ti(Ci),ki(Ci,n)}var Fi=null,Ui=!1,Bi=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=wt;try{var n=Fi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Ze,zi),i}finally{wt=t,Bi=!1}}return null}var qi=[],Hi=0,Wi=null,Gi=0,Ki=[],Qi=0,Yi=null,Ji=1,Xi="";function $i(e,t){qi[Hi++]=Gi,qi[Hi++]=Wi,Wi=e,Gi=t}function Zi(e,t,n){Ki[Qi++]=Ji,Ki[Qi++]=Xi,Ki[Qi++]=Yi,Yi=e;var r=Ji;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Xi=s+e}else Ji=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ts(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Gi=qi[--Hi],qi[Hi]=null;for(;e===Yi;)Yi=Ki[--Qi],Ki[Qi]=null,Xi=Ki[--Qi],Ki[Qi]=null,Ji=Ki[--Qi],Ki[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ys=Ii(null),vs=null,ws=null,bs=null;function _s(){bs=ws=vs=null}function Es(e){var t=ys.current;Ti(ys),e._currentValue=t}function Ss(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Is(e,t){vs=e,bs=ws=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(bs!==e)if(e={context:e,memoizedValue:t,next:null},null===ws){if(null===vs)throw Error(s(308));ws=e,vs.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var ks=null;function As(e){null===ks?ks=[e]:ks.push(e)}function xs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,As(t)):(n.next=i.next,i.next=n),t.interleaved=n,Cs(e,r)}function Cs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ns=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Os(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ps(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ds(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Cs(e,n)}return null===(i=r.interleaved)?(t.next=t,As(r)):(t.next=i.next,i.next=t),r.interleaved=t,Cs(e,n)}function Ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function js(e,t,n,r){var i=e.updateQueue;Ns=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=j({},h,d);break e;case 2:Ns=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);jl|=o,e.lanes=o,e.memoizedState=h}}function Fs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Us=(new r.Component).refs;function Bs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vs={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ps(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(rc(t,e,i,r),Ls(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ps(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(rc(t,e,i,r),Ls(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ps(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ds(e,i,r))&&(rc(t,e,r,n),Ls(t,e,r))}};function zs(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function qs(e,t,n){var r=!1,i=Ai,s=t.contextType;return"object"===typeof s&&null!==s?s=Ts(s):(i=Oi(t)?Ni:xi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ai),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Hs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vs.enqueueReplaceState(t,t.state,null)}function Ws(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Us,Rs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ts(s):(s=Oi(t)?Ni:xi.current,i.context=Ri(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Bs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Vs.enqueueReplaceState(i,i.state,null),js(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Us&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ks(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Gs(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Gs(e,null,t),n.return=e,n;case E:return(t=Uc(t,e.mode,n)).return=e,t;case O:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ks(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Ks(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Ks(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===a.length)return n(i,h),is&&$i(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&$i(i,m),c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&$i(i,m),c}function g(i,a,l,c){var u=L(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,c);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===h?u=w:h.sibling=w,h=w,m=y}if(v.done)return n(i,m),is&&$i(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return is&&$i(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),is&&$i(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===S){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qs(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=Gs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===S?((s=Mc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Lc(o.type,o.key,o.props,null,r.mode,l)).ref=Gs(r,s,o),l.return=r,r=l)}return a(r);case E:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uc(o,r.mode,l)).return=r,r=s}return a(r);case O:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(L(o))return g(r,s,o,l);Ks(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Fc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var Js=Ys(!0),Xs=Ys(!1),$s={},Zs=Ii($s),eo=Ii($s),to=Ii($s);function no(e){if(e===$s)throw Error(s(174));return e}function ro(e,t){switch(ki(to,t),ki(eo,e),ki(Zs,$s),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Zs),ki(Zs,t)}function io(){Ti(Zs),Ti(eo),Ti(to)}function so(e){no(to.current);var t=no(Zs.current),n=le(t,e.type);t!==n&&(ki(eo,e),ki(Zs,n))}function oo(e){eo.current===e&&(Ti(Zs),Ti(eo))}var ao=Ii(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function uo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,mo=null,go=null,yo=null,vo=!1,wo=!1,bo=0,_o=0;function Eo(){throw Error(s(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),wo){o=0;do{if(wo=!1,bo=0,25<=o)throw Error(s(301));o+=1,yo=go=null,t.updateQueue=null,ho.current=ca,e=n(r,i)}while(wo)}if(ho.current=oa,t=null!==go&&null!==go.next,po=0,yo=go=mo=null,vo=!1,t)throw Error(s(300));return e}function To(){var e=0!==bo;return bo=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?mo.memoizedState=yo=e:yo=yo.next=e,yo}function Ao(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===yo?mo.memoizedState:yo.next;if(null!==t)yo=t,go=e;else{if(null===e)throw Error(s(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===yo?mo.memoizedState=yo=e:yo=yo.next=e}return yo}function xo(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=Ao(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((po&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,mo.lanes|=h,jl|=h}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,jl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=Ao(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Oo(e,t){var n=mo,r=Ao(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ba=!0),r=r.queue,Ho(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(s(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function jo(e){var t=Cs(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,mo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return Ao().memoizedState}function Vo(e,t,n,r){var i=ko();mo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=Ao();r=void 0===r?null:r;var s=void 0;if(null!==go){var o=go.memoizedState;if(s=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=Uo(t,n,s,r))}mo.flags|=e,i.memoizedState=Uo(1|t,n,s,r)}function qo(e,t){return Vo(8390656,8,e,t)}function Ho(e,t){return zo(2048,8,e,t)}function Wo(e,t){return zo(4,2,e,t)}function Go(e,t){return zo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ko.bind(null,t,e),n)}function Yo(){}function Jo(e,t){var n=Ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),mo.lanes|=n,jl|=n,e.baseState=!0),t)}function Zo(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{wt=n,fo.transition=r}}function ea(){return Ao().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=xs(e,t,n,r))){rc(n,e,r,tc()),sa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,As(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=xs(e,t,i,r))&&(rc(n,e,r,i=tc()),sa(n,t,r))}}function ra(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function ia(e,t){wo=vo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var oa={readContext:Ts,useCallback:Eo,useContext:Eo,useEffect:Eo,useImperativeHandle:Eo,useInsertionEffect:Eo,useLayoutEffect:Eo,useMemo:Eo,useReducer:Eo,useRef:Eo,useState:Eo,useDebugValue:Eo,useDeferredValue:Eo,useTransition:Eo,useMutableSource:Eo,useSyncExternalStore:Eo,useId:Eo,unstable_isNewReconciler:!1},aa={readContext:Ts,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Ts,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return ko().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=ko();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Nl)throw Error(s(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=Nl.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Ts,useCallback:Jo,useContext:Ts,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Xo,useReducer:Co,useRef:Bo,useState:function(){return Co(xo)},useDebugValue:Yo,useDeferredValue:function(e){return $o(Ao(),go.memoizedState,e)},useTransition:function(){return[Co(xo)[0],Ao().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Oo,useId:ea,unstable_isNewReconciler:!1},ca={readContext:Ts,useCallback:Jo,useContext:Ts,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Xo,useReducer:No,useRef:Bo,useState:function(){return No(xo)},useDebugValue:Yo,useDeferredValue:function(e){var t=Ao();return null===go?t.memoizedState=e:$o(t,go.memoizedState,e)},useTransition:function(){return[No(xo)[0],Ao().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Oo,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Ps(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Gl=r),da(0,t)},n}function ma(e,t,n){(n=Ps(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function ya(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ps(-1,1)).tag=2,Ds(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=b.ReactCurrentOwner,ba=!1;function _a(e,t,n,r){t.child=null===e?Xs(t,null,n,r):Js(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var s=t.ref;return Is(t,i),r=Io(e,t,n,r,s,i),n=To(),null===e||ba?(is&&n&&es(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Pc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ia(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Wa(e,t,i)}return t.flags|=1,(e=Dc(s,r)).ref=t.ref,e.return=t,t.child=e}function Ia(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Wa(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Aa(e,t,n,r,i)}function Ta(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Dl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Dl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(Dl,Pl),Pl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(Dl,Pl),Pl|=r;return _a(e,t,i,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Aa(e,t,n,r,i){var s=Oi(n)?Ni:xi.current;return s=Ri(t,s),Is(t,i),n=Io(e,t,n,r,s,i),r=To(),null===e||ba?(is&&r&&es(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function xa(e,t,n,r,i){if(Oi(n)){var s=!0;Mi(t)}else s=!1;if(Is(t,i),null===t.stateNode)Ha(e,t),qs(t,n,r),Ws(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ts(c):c=Ri(t,c=Oi(n)?Ni:xi.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&Hs(t,o,r,c),Ns=!1;var d=t.memoizedState;o.state=d,js(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Ci.current||Ns?("function"===typeof u&&(Bs(t,n,u,r),l=t.memoizedState),(a=Ns||zs(t,n,a,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Os(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:gs(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ts(l):l=Ri(t,l=Oi(n)?Ni:xi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&Hs(t,o,r,l),Ns=!1,d=t.memoizedState,o.state=d,js(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Ci.current||Ns?("function"===typeof f&&(Bs(t,n,f,r),p=t.memoizedState),(c=Ns||zs(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ca(e,t,n,r,s,i)}function Ca(e,t,n,r,i,s){ka(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Wa(e,t,s);r=t.stateNode,wa.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Js(t,e.child,null,s),t.child=Js(t,null,a,s)):_a(e,t,a,s),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ra(e,t,n,r,i){return fs(),ps(i),t.flags|=256,_a(e,t,n,r),t.child}var Oa,Pa,Da,La,Ma={dehydrated:null,treeContext:null,retryLane:0};function ja(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,o=ao.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ki(ao,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=jc(l,i,0,null),e=Mc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ja(n),t.memoizedState=Ma,e):Ua(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ba(e,t,a,r=ha(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Js(t,e.child,null,a),t.child.memoizedState=ja(a),t.memoizedState=Ma,o);if(0===(1&t.mode))return Ba(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ba(e,t,a,r=ha(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Nl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Cs(e,i),rc(r,e,i,-1))}return gc(),Ba(e,t,a,r=ha(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ki[Qi++]=Ji,Ki[Qi++]=Xi,Ki[Qi++]=Yi,Ji=e.id,Xi=e.overflow,Yi=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Dc(r,a):(a=Mc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?ja(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Dc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ba(e,t,n,r){return null!==r&&ps(r),Js(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ss(e.return,t,n)}function za(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=ao.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(ao,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),za(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}za(t,!0,n,null,s);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ga(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Oi(t.type)&&Pi(),Ka(t),null;case 3:return r=t.stateNode,io(),Ti(Ci),Ti(xi),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Pa(e,t),Ka(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ka(t),null}if(e=no(Zs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Oa(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ve(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ur("scroll",e):null!=u&&w(e,o,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no(Zs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ka(t),null;case 13:if(Ti(ao),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),o=!1}else null!==ss&&(ac(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Ll&&(Ll=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return io(),Pa(e,t),null===e&&zr(t.stateNode.containerInfo),Ka(t),null;case 10:return Es(t.type._context),Ka(t),null;case 19:if(Ti(ao),null===(o=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ga(o,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Ga(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>ql&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ga(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ka(t),null}else 2*Xe()-o.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=ao.current,ki(ao,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ya(e,t){switch(ts(t),t.tag){case 1:return Oi(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ti(Ci),Ti(xi),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ti(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ao),null;case 4:return io(),null;case 10:return Es(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Oa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(){},Da=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Zs.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ja=!1,Xa=!1,$a="function"===typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Tc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tl(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Xa&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,fl(e,t,n),Xa=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $a),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(o,a,i),hl=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Tc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Tc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Tc(e,e.return,g)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Tc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(i,o),we(l,a);var u=we(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,u)}switch(l){case"input":$(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Tc(e,e.return,g)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Tc(e,e.return,g)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Tc(e,e.return,g)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Xe())),4&r&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(u=Xa)||h,gl(t,e),Xa=u):gl(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){El(d);continue}}null!==p?(p.return=f,Za=p):El(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Tc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Tc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),vl(e),4&r&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cl(e,ll(e),o);break;default:throw Error(s(161))}}catch(a){Tc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){Za=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ja;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Ja;var c=Xa;if(Ja=o,(Xa=l)&&!c)for(Za=i;null!==Za;)l=(o=Za).child,22===o.tag&&null!==o.memoizedState?Sl(i):null!==l?(l.return=o,Za=l):Sl(i);for(;null!==s;)Za=s,bl(s,t,n),s=s.sibling;Za=i,Ja=a,Xa=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Za=s):_l(e)}}function _l(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(s(163))}Xa||512&t.flags&&sl(t)}catch(f){Tc(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function El(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Sl(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Tc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Tc(t,i,l)}}var s=t.return;try{sl(t)}catch(l){Tc(t,s,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){Tc(t,o,l)}}}catch(l){Tc(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Il,Tl=Math.ceil,kl=b.ReactCurrentDispatcher,Al=b.ReactCurrentOwner,xl=b.ReactCurrentBatchConfig,Cl=0,Nl=null,Rl=null,Ol=0,Pl=0,Dl=Ii(0),Ll=0,Ml=null,jl=0,Fl=0,Ul=0,Bl=null,Vl=null,zl=0,ql=1/0,Hl=null,Wl=!1,Gl=null,Kl=null,Ql=!1,Yl=null,Jl=0,Xl=0,$l=null,Zl=-1,ec=0;function tc(){return 0!==(6&Cl)?Xe():-1!==Zl?Zl:Zl=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Ol?Ol&-Ol:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,n,r){if(50<Xl)throw Xl=0,$l=null,Error(s(185));yt(e,n,r),0!==(2&Cl)&&e===Nl||(e===Nl&&(0===(2&Cl)&&(Fl|=n),4===Ll&&lc(e,Ol)),ic(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(ql=Xe()+500,Ui&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Nl?Ol:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),oi((function(){0===(6&Cl)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Cl))throw Error(s(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=dt(e,e===Nl?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Cl;Cl|=2;var o=mc();for(Nl===e&&Ol===t||(Hl=null,ql=Xe()+500,fc(e,t));;)try{wc();break}catch(l){pc(e,l)}_s(),kl.current=o,Cl=i,null!==Rl?t=0:(Nl=null,Ol=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ml,fc(e,0),lc(e,r),ic(e,Xe()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ml,fc(e,0),lc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ec(e,Vl,Hl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=zl+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ec.bind(null,e,Vl,Hl),t);break}Ec(e,Vl,Hl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=ri(Ec.bind(null,e,Vl,Hl),r);break}Ec(e,Vl,Hl);break;default:throw Error(s(329))}}}return ic(e,Xe()),e.callbackNode===n?sc.bind(null,e):null}function oc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Vl,Vl=n,null!==t&&ac(t)),e}function ac(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function lc(e,t){for(t&=~Ul,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Cl))throw Error(s(327));Sc();var t=dt(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ml,fc(e,0),lc(e,t),ic(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Vl,Hl),ic(e,Xe()),null}function uc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(ql=Xe()+500,Ui&&zi())}}function hc(e){null!==Yl&&0===Yl.tag&&0===(6&Cl)&&Sc();var t=Cl;Cl|=1;var n=xl.transition,r=wt;try{if(xl.transition=null,wt=1,e)return e()}finally{wt=r,xl.transition=n,0===(6&(Cl=t))&&zi()}}function dc(){Pl=Dl.current,Ti(Dl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Ti(Ci),Ti(xi),uo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ti(ao);break;case 10:Es(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Nl=e,Rl=e=Dc(e.current,null),Ol=Pl=t,Ll=0,Ml=null,Ul=Fl=jl=0,Vl=Bl=null,null!==ks){for(t=0;t<ks.length;t++)if(null!==(r=(n=ks[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}ks=null}return e}function pc(e,t){for(;;){var n=Rl;try{if(_s(),ho.current=oa,vo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}vo=!1}if(po=0,yo=go=mo=null,wo=!1,bo=0,Al.current=null,null===n||null===n.return){Ll=1,Ml=t,Rl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ga(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(o,u,t),gc();break e}c=Error(s(426))}else if(is&&1&l.mode){var y=ya(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),va(y,a,l,0,t),ps(ua(c,l));break e}}o=c=ua(c,l),4!==Ll&&(Ll=2),null===Bl?Bl=[o]:Bl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,pa(0,c,t));break e;case 1:l=c;var v=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Kl||!Kl.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,ma(o,l,t));break e}}o=o.return}while(null!==o)}_c(n)}catch(b){t=b,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function mc(){var e=kl.current;return kl.current=oa,null===e?oa:e}function gc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Nl||0===(268435455&jl)&&0===(268435455&Fl)||lc(Nl,Ol)}function yc(e,t){var n=Cl;Cl|=2;var r=mc();for(Nl===e&&Ol===t||(Hl=null,fc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(_s(),Cl=n,kl.current=r,null!==Rl)throw Error(s(261));return Nl=null,Ol=0,Ll}function vc(){for(;null!==Rl;)bc(Rl)}function wc(){for(;null!==Rl&&!Ye();)bc(Rl)}function bc(e){var t=Il(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?_c(e):Rl=t,Al.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Pl)))return void(Rl=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Ll=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Ll&&(Ll=5)}function Ec(e,t,n){var r=wt,i=xl.transition;try{xl.transition=null,wt=1,function(e,t,n,r){do{Sc()}while(null!==Yl);if(0!==(6&Cl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Nl&&(Rl=Nl=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Nc(tt,(function(){return Sc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=xl.transition,xl.transition=null;var a=wt;wt=1;var l=Cl;Cl|=4,Al.current=null,function(e,t){if(ei=Ht,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(_){Tc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nl,nl=!1}(e,n),yl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,wl(n,e,i),Je(),Cl=l,wt=a,xl.transition=o}else e.current=n;if(Ql&&(Ql=!1,Yl=e,Jl=i),o=e.pendingLanes,0===o&&(Kl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Gl,Gl=null,e;0!==(1&Jl)&&0!==e.tag&&Sc(),o=e.pendingLanes,0!==(1&o)?e===$l?Xl++:(Xl=0,$l=e):Xl=0,zi()}(e,t,n,r)}finally{xl.transition=i,wt=r}return null}function Sc(){if(null!==Yl){var e=bt(Jl),t=xl.transition,n=wt;try{if(xl.transition=null,wt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Jl=0,0!==(6&Cl))throw Error(s(331));var i=Cl;for(Cl|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:rl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(ol(h),h===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Za=v;break e}Za=o.return}}var w=e.current;for(Za=w;null!==Za;){var b=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Za=b;else e:for(a=w;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(E){Tc(l,l.return,E)}if(l===a){Za=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Za=_;break e}Za=l.return}}if(Cl=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{wt=n,xl.transition=t}}return!1}function Ic(e,t,n){e=Ds(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Tc(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Ds(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Ol&n)===n&&(4===Ll||3===Ll&&(130023424&Ol)===Ol&&500>Xe()-zl?fc(e,0):Ul|=n),ic(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Cs(e,t))&&(yt(e,t,n),ic(e,n))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ac(e,n)}function Nc(e,t){return Ke(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Rc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Pc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Mc(n.children,i,o,t);case I:a=8,i|=8;break;case T:return(e=Oc(12,n,t,2|i)).elementType=T,e.lanes=o,e;case C:return(e=Oc(13,n,t,i)).elementType=C,e.lanes=o,e;case N:return(e=Oc(19,n,t,i)).elementType=N,e.lanes=o,e;case P:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case A:a=9;break e;case x:a=11;break e;case R:a=14;break e;case O:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Oc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,s,o,a,l){return e=new Bc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Oc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(s),e}function zc(e){if(!e)return Ai;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,s,o,a,l){return(e=Vc(n,r,!0,e,0,s,0,a,l)).context=zc(null),n=e.current,(s=Ps(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Ds(n,s,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,s=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ps(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ds(i,t,o))&&(rc(e,i,o,s),Ls(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Il=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Na(t),fs();break;case 5:so(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(ys,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fa(e,t,n):(ki(ao,1&ao.current),null!==(e=Wa(e,t,n))?e.sibling:null);ki(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,Ta(e,t,n)}return Wa(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,is&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ha(e,t),e=t.pendingProps;var i=Ri(t,xi.current);Is(t,n),i=Io(null,t,r,e,i,n);var o=To();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Rs(t),i.updater=Vs,t.stateNode=i,i._reactInternals=t,Ws(t,r,e,n),t=Ca(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===R)return 14}return 2}(r),e=gs(r,e),i){case 0:t=Aa(null,t,r,e,n);break e;case 1:t=xa(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Aa(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Na(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Os(e,t),js(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ra(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Ra(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Wa(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return so(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),ka(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Fa(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Js(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ki(ys,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ci.current){t=Wa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ps(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ss(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ss(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Is(t,n),r=r(i=Ts(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),Sa(e,t,r,i=gs(r.type,i),n);case 15:return Ia(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Ha(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Is(t,n),qs(t,r,i),Ws(t,r,i,n),Ca(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return Ta(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Wc(o);a.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Wc(o);s.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),hc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),hc((function(){Hc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(o)}Jc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Jc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Hc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&jt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),ic(t,Xe()),0===(6&Cl)&&(ql=Xe()+500,zi()))}break;case 13:hc((function(){var t=Cs(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},Et=function(e){if(13===e.tag){var t=Cs(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},St=function(e){if(13===e.tag){var t=nc(e),n=Cs(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},It=function(){return wt},Tt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Ee=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));K(r),$(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=uc,Ce=hc;var tu={usingClientEntryPoint:!1,Events:[wi,bi,_i,ke,Ae,uc]},nu={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,m(b,y.prototype),b.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,i)&&!I.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:S.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+x(l,0):s,_(o)?(i="",null!=e&&(i=e.replace(A,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(A,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",_(e))for(var c=0;c<e.length;c++){var u=s+x(a=e[c],c);l+=C(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=C(a=a.value,t,i,u=s+x(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},P={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:P,ReactCurrentOwner:S};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},766:(e,t,n)=>{t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e);return{getItem:function(e){return new Promise((function(n,r){n(t.getItem(e))}))},setItem:function(e,n){return new Promise((function(r,i){r(t.setItem(e,n))}))},removeItem:function(e){return new Promise((function(n,r){n(t.removeItem(e))}))}}};var r,i=(r=n(4))&&r.__esModule?r:{default:r}},4:(e,t)=>{function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(){}t.__esModule=!0,t.default=function(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"===typeof self?"undefined":n(self))||!(e in self))return!1;try{var t=self[e],r="redux-persist ".concat(e," test");t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch(i){return!1}return!0}(t)?self[t]:i};var i={getItem:r,setItem:r,removeItem:r}},901:(e,t,n)=>{var r;t.A=void 0;var i=(0,((r=n(766))&&r.__esModule?r:{default:r}).default)("local");t.A=i},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,P(E);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,v(k),k=-1),p=!0;var s=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!C());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&D(_,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,I=!1,T=null,k=-1,A=5,x=-1;function C(){return!(t.unstable_now()-x<A)}function N(){if(null!==T){var e=t.unstable_now();x=e;var n=!0;try{n=T(!0,e)}finally{n?S():(I=!1,T=null)}}else I=!1}if("function"===typeof w)S=function(){w(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,O=R.port2;R.port1.onmessage=N,S=function(){O.postMessage(null)}}else S=function(){y(N,0)};function P(e){T=e,I||(I=!0,S())}function D(e,n){k=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(k),k=-1):g=!0,D(_,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,P(E))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{e.exports=n(234)},895:(e,t,n)=>{var r=n(43);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useSyncExternalStore,o=r.useRef,a=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,u){var h=o(null);if(null===h.current){var d={hasValue:!1,value:null};h.current=d}else d=h.current;h=l((function(){function e(e){if(!a){if(a=!0,s=e,e=r(e),void 0!==u&&d.hasValue){var t=d.value;if(u(t,e))return o=t}return o=e}if(t=o,i(s,e))return t;var n=r(e);return void 0!==u&&u(t,n)?t:(s=e,o=n)}var s,o,a=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,u]);var f=s(e,h[0],h[1]);return a((function(){d.hasValue=!0,d.value=f}),[f]),c(f),f}},237:(e,t,n)=>{e.exports=n(895)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={};n.r(e),n.d(e,{FirebaseError:()=>Je,SDK_VERSION:()=>Zt,_DEFAULT_ENTRY_NAME:()=>Vt,_addComponent:()=>Wt,_addOrOverwriteComponent:()=>Gt,_apps:()=>qt,_clearComponents:()=>Jt,_components:()=>Ht,_getProvider:()=>Qt,_registerComponent:()=>Kt,_removeServiceInstance:()=>Yt,deleteApp:()=>rn,getApp:()=>tn,getApps:()=>nn,initializeApp:()=>en,onLog:()=>on,registerVersion:()=>sn,setLogLevel:()=>an});var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>Mk,hasStandardBrowserEnv:()=>jk,hasStandardBrowserWebWorkerEnv:()=>Uk});var r,i=n(43),s=n.t(i,2),o=n(391),a=n(950),l=n.t(a,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(rS){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,a=s.history,l=r.Pop,d=null,g=y();function y(){return(a.state||{idx:null}).idx}function v(){l=r.Pop;let e=y(),t=null==e?null:e-g;g=e,d&&d({action:l,location:b.location,delta:t})}function w(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(c({},a.state,{idx:g}),""));let b={get action(){return l},get location(){return e(s,a)},listen(e){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(u,v),d=e,()=>{s.removeEventListener(u,v),d=null}},createHref:e=>t(s,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=p(b.location,e,t);n&&n(i,e),g=y()+1;let c=f(i,g),u=b.createHref(i);try{a.pushState(c,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;s.location.assign(u)}o&&d&&d({action:l,location:b.location,delta:1})},replace:function(e,t){l=r.Replace;let i=p(b.location,e,t);n&&n(i,e),g=y();let s=f(i,g),c=b.createHref(i);a.replaceState(s,"",c),o&&d&&d({action:l,location:b.location,delta:0})},go:e=>a.go(e)};return b}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function w(e,t,n){void 0===n&&(n="/");let r=P(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;let i=b(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=O(r);s=N(i[o],e)}return s}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(h(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=F([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),b(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:C(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of _(e.path))i(e,t,r);else i(e,t)})),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=_(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const E=/^:[\w-]+$/,S=3,I=2,T=1,k=10,A=-2,x=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(x)&&(r+=A),t&&(r+=I),n.filter((e=>!x(e))).reduce(((e,t)=>e+(E.test(t)?S:""===t?T:k)),r)}function N(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;s.push({params:r,pathname:F([i,c.pathname]),pathnameBase:U(F([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=F([i,c.pathnameBase]))}return s}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function O(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function M(e,t){let n=L(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function j(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=g(e):(i=c({},e),h(!i.pathname||!i.pathname.includes("?"),D("?","pathname","search",i)),h(!i.pathname||!i.pathname.includes("#"),D("#","pathname","hash",i)),h(!i.search||!i.search.includes("#"),D("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?g(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:B(r),hash:V(i)}}(i,s),u=a&&"/"!==a&&a.endsWith("/"),d=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}const F=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],H=(new Set(q),["get",...q]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const G=i.createContext(null);const K=i.createContext(null);const Q=i.createContext(null);const Y=i.createContext(null);const J=i.createContext({outlet:null,matches:[],isDataRoute:!1});const X=i.createContext(null);function $(){return null!=i.useContext(Y)}function Z(){return $()||h(!1),i.useContext(Y).location}function ee(e){i.useContext(Q).static||i.useLayoutEffect(e)}function te(){let{isDataRoute:e}=i.useContext(J);return e?function(){let{router:e}=de(ue.UseNavigateStable),t=pe(he.UseNavigateStable),n=i.useRef(!1);ee((()=>{n.current=!0}));let r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},i)))}),[e,t]);return r}():function(){$()||h(!1);let e=i.useContext(G),{basename:t,future:n,navigator:r}=i.useContext(Q),{matches:s}=i.useContext(J),{pathname:o}=Z(),a=JSON.stringify(M(s,n.v7_relativeSplatPath)),l=i.useRef(!1);return ee((()=>{l.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=j(n,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:F([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[t,r,a,o,e])}()}function ne(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(Q),{matches:s}=i.useContext(J),{pathname:o}=Z(),a=JSON.stringify(M(s,r.v7_relativeSplatPath));return i.useMemo((()=>j(e,JSON.parse(a),o,"path"===n)),[e,a,o,n])}function re(e,t){return ie(e,t)}function ie(e,t,n,s){$()||h(!1);let{navigator:o}=i.useContext(Q),{matches:a}=i.useContext(J),l=a[a.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=Z();if(t){var p;let e="string"===typeof t?g(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||h(!1),d=e}else d=f;let m=d.pathname||"/",y=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=w(e,{pathname:y});let b=ce(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:F([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:F([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n,s);return t&&b?i.createElement(Y.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:r.Pop}},b):b}function se(){let e=function(){var e;let t=i.useContext(X),n=fe(he.UseRouteError),r=pe(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const oe=i.createElement(se,null);class ae extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(J.Provider,{value:this.props.routeContext},i.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(G);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(J.Provider,{value:t},r)}function ce(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let a=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||h(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight(((e,r,s)=>{let o,h=!1,d=null,f=null;var p;n&&(o=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||oe,c&&(u<0&&0===s?(p="route-fallback",!1||me[p]||(me[p]=!0),h=!0,f=null):u===s&&(h=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,s+1)),g=()=>{let t;return t=o?d:h?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(le,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(ae,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function de(e){let t=i.useContext(G);return t||h(!1),t}function fe(e){let t=i.useContext(K);return t||h(!1),t}function pe(e){let t=function(e){let t=i.useContext(J);return t||h(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const me={};s.startTransition;function ge(e){h(!1)}function ye(e){let{basename:t="/",children:n=null,location:s,navigationType:o=r.Pop,navigator:a,static:l=!1,future:c}=e;$()&&h(!1);let u=t.replace(/^\/*/,"/"),d=i.useMemo((()=>({basename:u,navigator:a,static:l,future:W({v7_relativeSplatPath:!1},c)})),[u,c,a,l]);"string"===typeof s&&(s=g(s));let{pathname:f="/",search:p="",hash:m="",state:y=null,key:v="default"}=s,w=i.useMemo((()=>{let e=P(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:y,key:v},navigationType:o}}),[u,f,p,m,y,v,o]);return null==w?null:i.createElement(Q.Provider,{value:d},i.createElement(Y.Provider,{children:n,value:w}))}function ve(e){let{children:t,location:n}=e;return re(we(t),n)}new Promise((()=>{}));i.Component;function we(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,we(e.props.children,s));e.type!==ge&&h(!1),e.props.index&&e.props.children&&h(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=we(e.props.children,s)),n.push(o)})),n}function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},be.apply(this,arguments)}function _e(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(rS){}new Map;const Se=s.startTransition;l.flushSync,s.useId;function Ie(e){let{basename:t,children:n,future:r,window:s}=e,o=i.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),y((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:m(t)}),null,a)));let l=o.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},d=i.useCallback((e=>{h&&Se?Se((()=>u(e))):u(e)}),[u,h]);return i.useLayoutEffect((()=>l.listen(d)),[l,d]),i.createElement(ye,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ke=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=i.forwardRef((function(e,t){let n,{onClick:r,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:d,unstable_viewTransition:f}=e,p=_e(e,Ee),{basename:g}=i.useContext(Q),y=!1;if("string"===typeof u&&ke.test(u)&&(n=u,Te))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=P(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:y=!0}catch(rS){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;$()||h(!1);let{basename:r,navigator:s}=i.useContext(Q),{hash:o,pathname:a,search:l}=ne(e,{relative:n}),c=a;return"/"!==r&&(c="/"===a?r:F([r,a])),s.createHref({pathname:c,search:l,hash:o})}(u,{relative:s}),w=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l}=void 0===t?{}:t,c=te(),u=Z(),h=ne(e,{relative:a});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(h);c(e,{replace:n,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l})}}),[u,c,h,r,s,n,e,o,a,l])}(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,unstable_viewTransition:f});return i.createElement("a",be({},p,{href:n||v,onClick:y||o?r:function(e){r&&r(e),e.defaultPrevented||w(e)},ref:t,target:c}))}));var xe,Ce;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(xe||(xe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ce||(Ce={}));const Ne=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ne(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Oe;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pe=function(e){return function(e){const t=Ne(e);return Re.encodeByteArray(t,!0)}(e).replace(/\./g,"")},De=function(e){try{return Re.decodeString(e,!0)}catch(rS){console.error("base64Decode failed: ",rS)}return null};function Le(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Le(e[n],t[n]));return e}const Me=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,je=()=>{try{return Me()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(rS){return}const t=e&&De(e[1]);return t&&JSON.parse(t)})()}catch(rS){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(rS))}},Fe=e=>{var t,n;return null===(n=null===(t=je())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ue=()=>{var e;return null===(e=je())||void 0===e?void 0:e.config},Be=e=>{var t;return null===(t=je())||void 0===t?void 0:t["_".concat(e)]};class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function ze(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Pe(JSON.stringify({alg:"none",type:"JWT"})),Pe(JSON.stringify(s)),""].join(".")}function qe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function He(){var e;const t=null===(e=je())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(rS){return!1}}function We(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ge(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ke(){const e=qe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Qe(){return!He()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ye(){try{return"object"===typeof indexedDB}catch(rS){return!1}}class Je extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xe.prototype.create)}}class Xe{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace($e,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Je(n,s,t)}}const $e=/\{\$([^}]+)}/g;function Ze(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function et(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(tt(n)&&tt(s)){if(!et(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function tt(e){return null!==e&&"object"===typeof e}function nt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function rt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function it(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function st(e,t){const n=new ot(e,t);return n.subscribe.bind(n)}class ot{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=at),void 0===r.error&&(r.error=at),void 0===r.complete&&(r.complete=at);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(rS){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(rS){"undefined"!==typeof console&&console.error&&console.error(rS)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function at(){}function lt(e){return e&&e._delegate?e._delegate:e}class ct{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ut="[DEFAULT]";class ht{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ve;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(rS){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(rS){if(r)return null;throw rS}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ut})}catch(rS){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(rS){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===ut?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;return this.component?this.component.multipleInstances?e:ut:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class dt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ht(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ft=[];var pt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(pt||(pt={}));const mt={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},gt=pt.INFO,yt={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},vt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=yt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class wt{constructor(e){this.name=e,this._logLevel=gt,this._logHandler=vt,this._userLogHandler=null,ft.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?mt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...t),this._logHandler(this,pt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...t),this._logHandler(this,pt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.INFO,...t),this._logHandler(this,pt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.WARN,...t),this._logHandler(this,pt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...t),this._logHandler(this,pt.ERROR,...t)}}const bt=(e,t)=>t.some((t=>e instanceof t));let _t,Et;const St=new WeakMap,It=new WeakMap,Tt=new WeakMap,kt=new WeakMap,At=new WeakMap;let xt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return It.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Tt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ct(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Et||(Et=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ot(this),n),Rt(St.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Rt(e.apply(Ot(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Ot(this),t,...r);return Tt.set(s,t.sort?t.sort():[t]),Rt(s)}}function Nt(e){return"function"===typeof e?Ct(e):(e instanceof IDBTransaction&&function(e){if(It.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));It.set(e,t)}(e),bt(e,_t||(_t=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,xt):e)}function Rt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Rt(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&St.set(t,e)})).catch((()=>{})),At.set(t,e),t}(e);if(kt.has(e))return kt.get(e);const t=Nt(e);return t!==e&&(kt.set(e,t),At.set(t,e)),t}const Ot=e=>At.get(e);const Pt=["get","getKey","getAll","getAllKeys","count"],Dt=["put","add","delete","clear"],Lt=new Map;function Mt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Lt.get(t))return Lt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Dt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Pt.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return Lt.set(t,s),s}xt=(e=>({...e,get:(t,n,r)=>Mt(t,n)||e.get(t,n,r),has:(t,n)=>!!Mt(t,n)||e.has(t,n)}))(xt);class jt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Ft="@firebase/app",Ut="0.9.29",Bt=new wt("@firebase/app"),Vt="[DEFAULT]",zt={[Ft]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qt=new Map,Ht=new Map;function Wt(e,t){try{e.container.addComponent(t)}catch(rS){Bt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),rS)}}function Gt(e,t){e.container.addOrOverwriteComponent(t)}function Kt(e){const t=e.name;if(Ht.has(t))return Bt.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ht.set(t,e);for(const n of qt.values())Wt(n,e);return!0}function Qt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Yt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vt;Qt(e,t).clearInstance(n)}function Jt(){Ht.clear()}const Xt=new Xe("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class $t{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ct("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xt.create("app-deleted",{appName:this._name})}}const Zt="10.9.0";function en(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Vt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Xt.create("bad-app-name",{appName:String(i)});if(n||(n=Ue()),!n)throw Xt.create("no-options");const s=qt.get(i);if(s){if(et(n,s.options)&&et(r,s.config))return s;throw Xt.create("duplicate-app",{appName:i})}const o=new dt(i);for(const l of Ht.values())o.addComponent(l);const a=new $t(n,r,o);return qt.set(i,a),a}function tn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt;const t=qt.get(e);if(!t&&e===Vt&&Ue())return en();if(!t)throw Xt.create("no-app",{appName:e});return t}function nn(){return Array.from(qt.values())}async function rn(e){const t=e.name;qt.has(t)&&(qt.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function sn(e,t,n){var r;let i=null!==(r=zt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Bt.warn(e.join(" "))}Kt(new ct("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function on(e,t){if(null!==e&&"function"!==typeof e)throw Xt.create("invalid-log-argument");!function(e,t){for(const n of ft){let r=null;t&&t.level&&(r=mt[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:pt[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function an(e){var t;t=e,ft.forEach((e=>{e.setLogLevel(t)}))}const ln="firebase-heartbeat-database",cn=1,un="firebase-heartbeat-store";let hn=null;function dn(){return hn||(hn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Rt(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Rt(o.result),e.oldVersion,e.newVersion,Rt(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(ln,cn,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(un)}catch(rS){console.warn(rS)}}}).catch((e=>{throw Xt.create("idb-open",{originalErrorMessage:e.message})}))),hn}async function fn(e,t){try{const n=(await dn()).transaction(un,"readwrite"),r=n.objectStore(un);await r.put(t,pn(e)),await n.done}catch(rS){if(rS instanceof Je)Bt.warn(rS.message);else{const t=Xt.create("idb-set",{originalErrorMessage:null===rS||void 0===rS?void 0:rS.message});Bt.warn(t.message)}}}function pn(e){return"".concat(e.name,"!").concat(e.options.appId)}class mn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=gn();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=gn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),vn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Pe(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function gn(){return(new Date).toISOString().substring(0,10)}class yn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ye()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await dn()).transaction(un),n=await t.objectStore(un).get(pn(e));return await t.done,n}catch(rS){if(rS instanceof Je)Bt.warn(rS.message);else{const t=Xt.create("idb-get",{originalErrorMessage:null===rS||void 0===rS?void 0:rS.message});Bt.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return fn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return fn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function vn(e){return Pe(JSON.stringify({version:2,heartbeats:e})).length}var wn;wn="",Kt(new ct("platform-logger",(e=>new jt(e)),"PRIVATE")),Kt(new ct("heartbeat",(e=>new mn(e)),"PRIVATE")),sn(Ft,Ut,wn),sn(Ft,Ut,"esm2017"),sn("fire-js","");sn("firebase","10.9.0","app");function bn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const _n={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},En="EMAIL_SIGNIN",Sn="PASSWORD_RESET",In="RECOVER_EMAIL",Tn="REVERT_SECOND_FACTOR_ADDITION",kn="VERIFY_AND_CHANGE_EMAIL",An="VERIFY_EMAIL";function xn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Cn=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Nn=xn,Rn=new Xe("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),On=new wt("@firebase/auth");function Pn(e){if(On.logLevel<=pt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];On.error("Auth (".concat(Zt,"): ").concat(e),...n)}}function Dn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Fn(e,...n)}function Ln(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Fn(e,...n)}function Mn(e,t,n){const r=Object.assign(Object.assign({},Nn()),{[t]:n});return new Xe("auth","Firebase",r).create(t,{appName:e.name})}function jn(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Dn(e,"argument-error"),Mn(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Fn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Rn.create(e,...n)}function Un(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Fn(t,...r)}}function Bn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Pn(t),new Error(t)}function Vn(e,t){e||Bn(t)}function zn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function qn(){return"http:"===Hn()||"https:"===Hn()}function Hn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Wn{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())||Ge()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(qn()||We()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Gn(e,t){Vn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Kn{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Yn=new Wn(3e4,6e4);function Jn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Xn(e,t,n,r){return $n(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=nt(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Kn.fetch()(er(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function $n(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Qn),t);try{const t=new nr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw rr(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw rr(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw rr(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw rr(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Mn(e,a,o);Dn(e,a)}}catch(rS){if(rS instanceof Je)throw rS;Dn(e,"network-request-failed",{message:String(rS)})}}async function Zn(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Xn(e,t,n,r,i);return"mfaPendingCredential"in s&&Dn(e,"multi-factor-auth-required",{_serverResponse:s}),s}function er(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Gn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function tr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nr{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Ln(this.auth,"network-request-failed"))),Yn.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function rr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ln(e,t,r);return i.customData._tokenResponse=n,i}function ir(e){return void 0!==e&&void 0!==e.getResponse}function sr(e){return void 0!==e&&void 0!==e.enterprise}class or{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return tr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function ar(e,t){return Xn(e,"GET","/v2/recaptchaConfig",Jn(e,t))}function lr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(rS){}}function cr(e){return 1e3*Number(e)}function ur(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Pn("JWT malformed, contained fewer than 3 sections"),null;try{const e=De(n);return e?JSON.parse(e):(Pn("Failed to decode base64 JWT payload"),null)}catch(rS){return Pn("Caught error parsing JWT payload as JSON",null===rS||void 0===rS?void 0:rS.toString()),null}}async function hr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(rS){throw rS instanceof Je&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(rS)&&e.auth.currentUser===e&&await e.auth.signOut(),rS}}class dr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(rS){return void((null===rS||void 0===rS?void 0:rS.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class fr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=lr(this.lastLoginAt),this.creationTime=lr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function pr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await hr(e,async function(e,t){return Xn(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Un(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=bn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,o),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!l&&c,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new fr(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,h)}class mr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Un(e.idToken,"internal-error"),Un("undefined"!==typeof e.idToken,"internal-error"),Un("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=ur(e);return Un(t,"internal-error"),Un("undefined"!==typeof t.exp,"internal-error"),Un("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Un(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await $n(e,{},(async()=>{const n=nt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=er(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Kn.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new mr;return n&&(Un("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Un("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Un("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mr,this.toJSON())}_performRefresh(){return Bn("not implemented")}}function gr(e,t){Un("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class yr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=bn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new fr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await hr(this,this.stsTokenManager.getToken(this.auth,e));return Un(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=lt(e),r=await n.getIdToken(t),i=ur(r);Un(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:lr(cr(i.auth_time)),issuedAtTime:lr(cr(i.iat)),expirationTime:lr(cr(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=lt(e);await pr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Un(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Un(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await pr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await hr(this,async function(e,t){return Xn(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:E}=t;Un(v&&E,e,"internal-error");const S=mr.fromJSON(this.name,E);Un("string"===typeof v,e,"internal-error"),gr(u,e.name),gr(h,e.name),Un("boolean"===typeof w,e,"internal-error"),Un("boolean"===typeof b,e,"internal-error"),gr(d,e.name),gr(f,e.name),gr(p,e.name),gr(m,e.name),gr(g,e.name),gr(y,e.name);const I=new yr({uid:v,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(I.providerData=_.map((e=>Object.assign({},e)))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new mr;r.updateFromServerResponse(t);const i=new yr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await pr(i),i}}const vr=new Map;function wr(e){Vn(e instanceof Function,"Expected a class definition");let t=vr.get(e);return t?(Vn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,vr.set(e,t),t)}class br{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}br.type="NONE";const _r=br;function Er(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Sr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Er(this.userKey,r.apiKey,i),this.fullPersistenceKey=Er("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Sr(wr(_r),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||wr(_r);const s=Er(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=yr._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new Sr(i,e,n)):new Sr(i,e,n)}}function Ir(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Tr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Nr(t))return"Blackberry";if(Rr(t))return"Webos";if(kr(t))return"Safari";if((t.includes("chrome/")||Ar(t))&&!t.includes("edge/"))return"Chrome";if(Cr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Tr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/firefox\//i.test(e)}function kr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/crios\//i.test(e)}function xr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/iemobile/i.test(e)}function Cr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/android/i.test(e)}function Nr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/blackberry/i.test(e)}function Rr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/webos/i.test(e)}function Or(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Pr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return Or(e)||Cr(e)||Rr(e)||Nr(e)||/windows phone/i.test(e)||xr(e)}function Dr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ir(qe());break;case"Worker":t="".concat(Ir(qe()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Zt,"/").concat(r)}class Lr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(rS){r(rS)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(rS){t.reverse();for(const n of t)try{n()}catch(ZS){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===rS||void 0===rS?void 0:rS.message})}}}class Mr{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class jr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ur(this),this.idTokenSubscription=new Ur(this),this.beforeStateQueue=new Lr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wr(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Sr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(rS){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(rS){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(rS)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Un(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(rS){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await pr(e)}catch(rS){if((null===rS||void 0===rS?void 0:rS.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?lt(e):null;return t&&Un(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Un(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(wr(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Xn(e,"GET","/v2/passwordPolicy",Jn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Mr(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xe("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Xn(e,"POST","/v2/accounts:revokeToken",Jn(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&wr(e)||this._popupRedirectResolver;Un(t,this,"argument-error"),this.redirectPersistenceManager=await Sr.create(this,[wr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Un(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Un(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Dr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(On.logLevel<=pt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];On.warn("Auth (".concat(Zt,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Fr(e){return lt(e)}class Ur{constructor(e){this.auth=e,this.observer=null,this.addObserver=st((e=>this.observer=e))}get next(){return Un(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Br={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vr(e){return Br.loadJS(e)}function zr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class qr{constructor(e){this.type="recaptcha-enterprise",this.auth=Fr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;sr(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{ar(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new or(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&sr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Br.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Vr(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Hr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new qr(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Wr(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Hr(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Hr(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Gr(e,t,n){const r=Fr(e);Un(r._canInitEmulator,r,"emulator-config-failed"),Un(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Kr(t),{host:o,port:a}=function(e){const t=Kr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Qr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Qr(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Kr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Qr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Yr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bn("not implemented")}_getIdTokenResponse(e){return Bn("not implemented")}_linkToIdToken(e,t){return Bn("not implemented")}_getReauthenticationResolver(e){return Bn("not implemented")}}async function Jr(e,t){return Xn(e,"POST","/v1/accounts:resetPassword",Jn(e,t))}async function Xr(e,t){return Xn(e,"POST","/v1/accounts:signUp",t)}async function $r(e,t){return Zn(e,"POST","/v1/accounts:signInWithPassword",Jn(e,t))}async function Zr(e,t){return Xn(e,"POST","/v1/accounts:sendOobCode",Jn(e,t))}async function ei(e,t){return Zr(e,t)}async function ti(e,t){return Zr(e,t)}class ni extends Yr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ni(e,t,"password")}static _fromEmailAndCode(e,t){return new ni(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Wr(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",$r);case"emailLink":return async function(e,t){return Zn(e,"POST","/v1/accounts:signInWithEmailLink",Jn(e,t))}(e,{email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Wr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xr);case"emailLink":return async function(e,t){return Zn(e,"POST","/v1/accounts:signInWithEmailLink",Jn(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ri(e,t){return Zn(e,"POST","/v1/accounts:signInWithIdp",Jn(e,t))}class ii extends Yr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ii(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Dn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=bn(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new ii(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return ri(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ri(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ri(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=nt(t)}return e}}const si={USER_NOT_FOUND:"user-not-found"};class oi extends Yr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new oi({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new oi({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Zn(e,"POST","/v1/accounts:signInWithPhoneNumber",Jn(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Zn(e,"POST","/v1/accounts:signInWithPhoneNumber",Jn(e,t));if(n.temporaryProof)throw rr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Zn(e,"POST","/v1/accounts:signInWithPhoneNumber",Jn(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),si)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new oi({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ai{constructor(e){var t,n,r,i,s,o;const a=rt(it(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Un(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=rt(it(e)).link,n=t?rt(it(t)).deep_link_id:null,r=rt(it(e)).deep_link_id;return(r?rt(it(r)).link:null)||r||n||t||e}(e);try{return new ai(t)}catch(n){return null}}}class li{constructor(){this.providerId=li.PROVIDER_ID}static credential(e,t){return ni._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ai.parseLink(t);return Un(n,"argument-error"),ni._fromEmailAndCode(e,n.code,n.tenantId)}}li.PROVIDER_ID="password",li.EMAIL_PASSWORD_SIGN_IN_METHOD="password",li.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ci{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ui extends ci{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class hi extends ui{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Un("providerId"in t&&"signInMethod"in t,"argument-error"),ii._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Un(e.idToken||e.accessToken,"argument-error"),ii._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return hi.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return hi.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=t;if(!r&&!i&&!n&&!s)return null;if(!a)return null;try{return new hi(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch(rS){return null}}}class di extends ui{constructor(){super("facebook.com")}static credential(e){return ii._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return di.credential(t.oauthAccessToken)}catch(n){return null}}}di.FACEBOOK_SIGN_IN_METHOD="facebook.com",di.PROVIDER_ID="facebook.com";class fi extends ui{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ii._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return fi.credential(n,r)}catch(i){return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com",fi.PROVIDER_ID="google.com";class pi extends ui{constructor(){super("github.com")}static credential(e){return ii._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return pi.credential(t.oauthAccessToken)}catch(n){return null}}}pi.GITHUB_SIGN_IN_METHOD="github.com",pi.PROVIDER_ID="github.com";class mi extends Yr{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return ri(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ri(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ri(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new mi(n,i):null}static _create(e,t){return new mi(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class gi extends ci{constructor(e){Un(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return gi.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return gi.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=mi.fromJSON(e);return Un(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return mi._create(r,n)}catch(rS){return null}}}class yi extends ui{constructor(){super("twitter.com")}static credential(e,t){return ii._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return yi.credential(n,r)}catch(i){return null}}}async function vi(e,t){return Zn(e,"POST","/v1/accounts:signUp",Jn(e,t))}yi.TWITTER_SIGN_IN_METHOD="twitter.com",yi.PROVIDER_ID="twitter.com";class wi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await yr._fromIdTokenResponse(e,n,r),s=bi(n);return new wi({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=bi(n);return new wi({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function bi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class _i extends Je{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,_i.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new _i(e,t,n,r)}}function Ei(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw _i._fromErrorAndOperation(e,n,t,r);throw n}))}function Si(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Ii(e,t){const n=lt(e);await ki(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Xn(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Si(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Ti(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await hr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return wi._forOperation(e,"link",r)}async function ki(e,t,n){await pr(t);const r=!1===e?"provider-already-linked":"no-such-provider";Un(Si(t.providerData).has(n)===e,t.auth,r)}async function Ai(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await hr(e,Ei(r,i,t,e),n);Un(s.idToken,r,"internal-error");const o=ur(s.idToken);Un(o,r,"internal-error");const{sub:a}=o;return Un(e.uid===a,r,"user-mismatch"),wi._forOperation(e,i,s)}catch(rS){throw(null===rS||void 0===rS?void 0:rS.code)==="auth/".concat("user-not-found")&&Dn(r,"user-mismatch"),rS}}async function xi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Ei(e,r,t),s=await wi._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Ci(e,t){return xi(Fr(e),t)}async function Ni(e,t){const n=lt(e);return await ki(!1,n,t.providerId),Ti(n,t)}async function Ri(e,t){return Ai(lt(e),t)}async function Oi(e,t){const n=Fr(e),r=await async function(e,t){return Zn(e,"POST","/v1/accounts:signInWithCustomToken",Jn(e,t))}(n,{token:t,returnSecureToken:!0}),i=await wi._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Pi{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Di._fromServerResponse(e,t):"totpInfo"in t?Li._fromServerResponse(e,t):Dn(e,"internal-error")}}class Di extends Pi{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Di(t)}}class Li extends Pi{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Li(t)}}function Mi(e,t,n){var r;Un((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Un("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Un(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Un(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function ji(e){const t=Fr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Fi(e,t,n){const r=Fr(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Mi(r,i,n),await Wr(r,i,"getOobCode",ei)}async function Ui(e,t){await async function(e,t){return Xn(e,"POST","/v1/accounts:update",Jn(e,t))}(lt(e),{oobCode:t})}async function Bi(e,t){const n=lt(e),r=await Jr(n,{oobCode:t}),i=r.requestType;switch(Un(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Un(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Un(r.mfaInfo,n,"internal-error");default:Un(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Pi._fromServerResponse(Fr(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Vi(e,t,n){const r=Fr(e),i=Wr(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vi),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ji(e),t})),o=await wi._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function zi(e,t,n){return Ci(lt(e),li.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ji(e),t}))}async function qi(e,t){const n={identifier:t,continueUri:qn()?zn():"http://localhost"},{signinMethods:r}=await async function(e,t){return Xn(e,"POST","/v1/accounts:createAuthUri",Jn(e,t))}(lt(e),n);return r||[]}async function Hi(e,t){const n=lt(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Mi(n.auth,r,t);const{email:i}=await async function(e,t){return Zr(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Wi(e,t,n){const r=lt(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Mi(r.auth,i,n);const{email:s}=await async function(e,t){return Zr(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function Gi(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=lt(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await hr(i,async function(e,t){return Xn(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}async function Ki(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await hr(e,async function(e,t){return Xn(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}class Qi{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Yi extends Qi{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Ji extends Qi{constructor(e,t){super(e,"facebook.com",t)}}class Xi extends Yi{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class $i extends Qi{constructor(e,t){super(e,"google.com",t)}}class Zi extends Yi{constructor(e,t,n){super(e,"twitter.com",t,n)}}function es(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=ur(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Qi(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Ji(s,i);case"github.com":return new Xi(s,i);case"google.com":return new $i(s,i);case"twitter.com":return new Zi(s,i,e.screenName||null);case"custom":case"anonymous":return new Qi(s,null);default:return new Qi(s,r,i)}}(n)}class ts{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new ts("enroll",e,t)}static _fromMfaPendingCredential(e){return new ts("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return ts._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return ts._fromIdtoken(e.multiFactorSession.idToken)}return null}}class ns{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Fr(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Pi._fromServerResponse(n,e)));Un(r.mfaPendingCredential,n,"internal-error");const s=ts._fromMfaPendingCredential(r.mfaPendingCredential);return new ns(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await wi._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Un(t.user,n,"internal-error"),wi._forOperation(t.user,t.operationType,o);default:Dn(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class rs{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Pi._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new rs(e)}async getSession(){return ts._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await hr(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await hr(this.user,function(e,t){return Xn(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Jn(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(rS){throw rS}}}const is=new WeakMap;const ss="__sak";class os{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ss,"1"),this.storage.removeItem(ss),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class as extends os{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=qe();return kr(e)||Or(e)}()&&function(){try{return!(!window||window===window.top)}catch(rS){return!1}}(),this.fallbackToPolling=Pr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Ke()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}as.type="LOCAL";const ls=as;class cs extends os{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}cs.type="SESSION";const us=cs;class hs{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new hs(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}hs.receivers=[];class fs{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=ds("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function ps(){return window}function ms(){return"undefined"!==typeof ps().WorkerGlobalScope&&"function"===typeof ps().importScripts}const gs="firebaseLocalStorageDb",ys="firebaseLocalStorage",vs="fbase_key";class ws{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function bs(e,t){return e.transaction([ys],t?"readwrite":"readonly").objectStore(ys)}function _s(){const e=indexedDB.open(gs,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(ys,{keyPath:vs})}catch(rS){n(rS)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(ys)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(gs);return new ws(e).toPromise()}(),t(await _s()))}))}))}async function Es(e,t,n){const r=bs(e,!0).put({[vs]:t,value:n});return new ws(r).toPromise()}function Ss(e,t){const n=bs(e,!0).delete(t);return new ws(n).toPromise()}class Is{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await _s()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(rS){if(t++>3)throw rS;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ms()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hs._getInstance(ms()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new fs(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _s();return await Es(e,ss,"1"),await Ss(e,ss),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Es(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=bs(e,!1).get(t),r=await new ws(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ss(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=bs(e,!1).getAll();return new ws(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Is.type="LOCAL";const Ts=Is;const ks=1e12;class As{constructor(e){this.auth=e,this.counter=ks,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new xs(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||ks;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||ks;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||ks;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class xs{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Un(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(rS){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(rS){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Cs=zr("rcb"),Ns=new Wn(3e4,6e4);class Rs{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=ps().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Un(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&ir(ps().grecaptcha)?Promise.resolve(ps().grecaptcha):new Promise(((n,r)=>{const i=ps().setTimeout((()=>{r(Ln(e,"network-request-failed"))}),Ns.get());ps()[Cs]=()=>{ps().clearTimeout(i),delete ps()[Cs];const s=ps().grecaptcha;if(!s||!ir(s))return void r(Ln(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};Vr("".concat(Br.recaptchaV2Script,"?").concat(nt({onload:Cs,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Ln(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=ps().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Os{async load(e){return new As(e)}clearedOneInstance(){}}const Ps="recaptcha",Ds={theme:"light",type:"image"};class Ls{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Ds);this.parameters=n,this.type=Ps,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fr(e),this.isInvisible="invisible"===this.parameters.size,Un("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;Un(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Os:new Rs,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(rS){return Promise.reject(rS)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Un(!this.parameters.sitekey,this.auth,"argument-error"),Un(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Un("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=ps()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Un(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Un(qn()&&!ms(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Xn(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Un(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Un(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ms{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=oi._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function js(e,t,n){var r;const i=await n.verify();try{let s;if(Un("string"===typeof i,e,"argument-error"),Un(n.type===Ps,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Un("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Xn(e,"POST","/v2/accounts/mfaEnrollment:start",Jn(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Un("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Un(n,e,"missing-multi-factor-info");const o=await function(e,t){return Xn(e,"POST","/v2/accounts/mfaSignIn:start",Jn(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Xn(e,"POST","/v1/accounts:sendVerificationCode",Jn(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Fs{constructor(e){this.providerId=Fs.PROVIDER_ID,this.auth=Fr(e)}verifyPhoneNumber(e,t){return js(this.auth,e,lt(t))}static credential(e,t){return oi._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Fs.credentialFromTaggedObject(t)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?oi._fromTokenResponse(n,r):null}}function Us(e,t){return t?wr(t):(Un(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Fs.PROVIDER_ID="phone",Fs.PHONE_SIGN_IN_METHOD="phone";class Bs extends Yr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ri(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ri(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ri(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Vs(e){return xi(e.auth,new Bs(e),e.bypassAuthState)}function zs(e){const{auth:t,user:n}=e;return Un(n,t,"internal-error"),Ai(n,new Bs(e),e.bypassAuthState)}async function qs(e){const{auth:t,user:n}=e;return Un(n,t,"internal-error"),Ti(n,new Bs(e),e.bypassAuthState)}class Hs{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(rS){this.reject(rS)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(rS){this.reject(rS)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vs;case"linkViaPopup":case"linkViaRedirect":return qs;case"reauthViaPopup":case"reauthViaRedirect":return zs;default:Dn(this.auth,"internal-error")}}resolve(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ws=new Wn(2e3,1e4);async function Gs(e,t,n){const r=Fr(e);jn(e,t,ci);const i=Us(r,n);return new Ks(r,"signInViaPopup",t,i).executeNotNull()}class Ks extends Hs{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Ks.currentPopupAction&&Ks.currentPopupAction.cancel(),Ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Un(e,this.auth,"internal-error"),e}async onExecution(){Vn(1===this.filter.length,"Popup operations only handle one event");const e=ds();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Ln(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ws.get())};e()}}Ks.currentPopupAction=null;const Qs="pendingRedirect",Ys=new Map;class Js extends Hs{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ys.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=eo(t),r=Zs(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(rS){e=()=>Promise.reject(rS)}Ys.set(this.auth._key(),e)}return this.bypassAuthState||Ys.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Xs(e,t){return Zs(e)._set(eo(t),"true")}function $s(e,t){Ys.set(e._key(),t)}function Zs(e){return wr(e._redirectPersistence)}function eo(e){return Er(Qs,e.config.apiKey,e.name)}function to(e,t,n){return async function(e,t,n){const r=Fr(e);jn(e,t,ci),await r._initializationPromise;const i=Us(r,n);return await Xs(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function no(e,t,n){return async function(e,t,n){const r=lt(e);jn(r.auth,t,ci),await r.auth._initializationPromise;const i=Us(r.auth,n);await Xs(i,r.auth);const s=await so(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function ro(e,t,n){return async function(e,t,n){const r=lt(e);jn(r.auth,t,ci),await r.auth._initializationPromise;const i=Us(r.auth,n);await ki(!1,r,t.providerId),await Xs(i,r.auth);const s=await so(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function io(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Fr(e),i=Us(r,t),s=new Js(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function so(e){const t=ds("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class oo{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lo(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!lo(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ln(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ao(e))}saveEventToCache(e){this.cachedEventUids.add(ao(e)),this.lastProcessedEventTime=Date.now()}}function ao(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function lo(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function co(e){return Xn(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const uo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ho=/^https?/;function fo(e){const t=zn(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!ho.test(n))return!1;if(uo.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const po=new Wn(3e4,6e4);function mo(){const e=ps().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function go(e){return new Promise(((t,n)=>{var r,i,s;function o(){mo(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{mo(),n(Ln(e,"network-request-failed"))},timeout:po.get()})}if(null===(i=null===(r=ps().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=ps().gapi)||void 0===s?void 0:s.load)){const t=zr("iframefcb");return ps()[t]=()=>{gapi.load?o():n(Ln(e,"network-request-failed"))},Vr("".concat(Br.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw yo=null,e}))}let yo=null;const vo=new Wn(5e3,15e3),wo="__/auth/iframe",bo="emulator/auth/iframe",_o={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Eo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function So(e){const t=e.config;Un(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Gn(t,bo):"https://".concat(e.config.authDomain,"/").concat(wo),r={apiKey:t.apiKey,appName:e.name,v:Zt},i=Eo.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(nt(r).slice(1))}async function Io(e){const t=await function(e){return yo=yo||go(e),yo}(e),n=ps().gapi;return Un(n,e,"internal-error"),t.open({where:document.body,url:So(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_o,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Ln(e,"network-request-failed"),s=ps().setTimeout((()=>{r(i)}),vo.get());function o(){ps().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const To={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ko{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(rS){}}}function Ao(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},To),{width:r.toString(),height:i.toString(),top:s,left:o}),c=qe().toLowerCase();n&&(a=Ar(c)?"_blank":n),Tr(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Or(arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new ko(null);const h=window.open(t||"",a,u);Un(h,e,"popup-blocked");try{h.focus()}catch(rS){}return new ko(h)}const xo="__/auth/handler",Co="emulator/auth/handler",No=encodeURIComponent("fac");async function Ro(e,t,n,r,i,s){Un(e.config.authDomain,e,"auth-domain-config-required"),Un(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Zt,eventId:i};if(t instanceof ci){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof ui){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(No,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(xo);return Gn(t,Co)}(e),"?").concat(nt(a).slice(1)).concat(c)}const Oo="webStorageSupport";const Po=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=us,this._completeRedirectFn=io,this._overrideRedirectResult=$s}async _openPopup(e,t,n,r){var i;Vn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ao(e,await Ro(e,t,n,zn(),r),ds())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ps().location.href=e}(await Ro(e,t,n,zn(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Vn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Io(e),n=new oo(e);return t.register("authEvent",(t=>{Un(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Oo,{type:Oo},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Oo];void 0!==i&&t(!!i),Dn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await co(e);for(const r of t)try{if(fo(r))return}catch(n){}Dn(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Pr()||kr()||Or()}};class Do{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Bn("unexpected MultiFactorSessionType")}}}class Lo extends Do{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Lo(e)}_finalizeEnroll(e,t,n){return function(e,t){return Xn(e,"POST","/v2/accounts/mfaEnrollment:finalize",Jn(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Xn(e,"POST","/v2/accounts/mfaSignIn:finalize",Jn(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Mo{constructor(){}static assertion(e){return Lo._fromCredential(e)}}Mo.FACTOR_ID="phone";var jo="@firebase/auth",Fo="1.6.2";class Uo{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Un(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Bo=Be("authIdTokenMaxAge")||300;let Vo=null;function zo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn();const t=Qt(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Qt(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(et(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Dn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Po,persistence:[Ts,ls,us]}),r=Be("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Bo)return;const r=null===t||void 0===t?void 0:t.token;Vo!==r&&(Vo=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){lt(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){lt(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const s=Fe("auth");return s&&Gr(n,"http://".concat(s)),n}var qo;!function(e){Br=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ln("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),qo="Browser",Kt(new ct("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Un(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:qo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dr(qo)},c=new jr(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Kt(new ct("auth-internal",(e=>(e=>new Uo(e))(Fr(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),sn(jo,Fo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(qo)),sn(jo,Fo,"esm2017");var Ho,Wo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Go={},Ko=Ko||{},Qo=Wo||self;function Yo(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Jo(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Xo="closure_uid_"+(1e9*Math.random()>>>0),$o=0;function Zo(e,t,n){return e.call.apply(e.bind,arguments)}function ea(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ta(e,t,n){return(ta=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zo:ea).apply(null,arguments)}function na(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ra(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function ia(){this.s=this.s,this.o=this.o}ia.prototype.s=!1,ia.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Xo)&&e[Xo]||(e[Xo]=++$o)}(this)},ia.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const sa=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function oa(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function aa(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Yo(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function la(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}la.prototype.h=function(){this.defaultPrevented=!0};var ca=function(){if(!Qo.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};Qo.addEventListener("test",e,t),Qo.removeEventListener("test",e,t)}catch(cS){}return e}();function ua(e){return/^[\s\xa0]*$/.test(e)}function ha(){var e=Qo.navigator;return e&&(e=e.userAgent)?e:""}function da(e){return-1!=ha().indexOf(e)}function fa(e){return fa[" "](e),e}fa[" "]=function(){};var pa,ma,ga=da("Opera"),ya=da("Trident")||da("MSIE"),va=da("Edge"),wa=va||ya,ba=da("Gecko")&&!(-1!=ha().toLowerCase().indexOf("webkit")&&!da("Edge"))&&!(da("Trident")||da("MSIE"))&&!da("Edge"),_a=-1!=ha().toLowerCase().indexOf("webkit")&&!da("Edge");function Ea(){var e=Qo.document;return e?e.documentMode:void 0}e:{var Sa="",Ia=function(){var e=ha();return ba?/rv:([^\);]+)(\)|;)/.exec(e):va?/Edge\/([\d\.]+)/.exec(e):ya?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):_a?/WebKit\/(\S+)/.exec(e):ga?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ia&&(Sa=Ia?Ia[1]:""),ya){var Ta=Ea();if(null!=Ta&&Ta>parseFloat(Sa)){pa=String(Ta);break e}}pa=Sa}if(Qo.document&&ya){var ka=Ea();ma=ka||(parseInt(pa,10)||void 0)}else ma=void 0;var Aa=ma;function xa(e,t){if(la.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ba){e:{try{fa(t.nodeName);var i=!0;break e}catch(mS){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ca[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&xa.$.h.call(this)}}ra(xa,la);var Ca={2:"touch",3:"pen",4:"mouse"};xa.prototype.h=function(){xa.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Na="closure_listenable_"+(1e6*Math.random()|0),Ra=0;function Oa(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Ra,this.fa=this.ia=!1}function Pa(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Da(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function La(e){const t={};for(const n in e)t[n]=e[n];return t}const Ma="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ja(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Ma.length;t++)n=Ma[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Fa(e){this.src=e,this.g={},this.h=0}function Ua(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=sa(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Pa(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ba(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Fa.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Ba(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Oa(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Va="closure_lm_"+(1e6*Math.random()|0),za={};function qa(e,t,n,r,i){if(r&&r.once)return Wa(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)qa(e,t[s],n,r,i);return null}return n=$a(n),e&&e[Na]?e.O(t,n,Jo(r)?!!r.capture:!!r,i):Ha(e,t,n,!1,r,i)}function Ha(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Jo(i)?!!i.capture:!!i,a=Ja(e);if(a||(e[Va]=a=new Fa(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Ya;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ca||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Qa(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Wa(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Wa(e,t[s],n,r,i);return null}return n=$a(n),e&&e[Na]?e.P(t,n,Jo(r)?!!r.capture:!!r,i):Ha(e,t,n,!0,r,i)}function Ga(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Ga(e,t[s],n,r,i);else r=Jo(r)?!!r.capture:!!r,n=$a(n),e&&e[Na]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ba(s=e.g[t],n,r,i))&&(Pa(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Ja(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ba(t,n,r,i)),(n=-1<e?t[e]:null)&&Ka(n))}function Ka(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Na])Ua(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Qa(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ja(t))?(Ua(n,e),0==n.h&&(n.src=null,t[Va]=null)):Pa(e)}}}function Qa(e){return e in za?za[e]:za[e]="on"+e}function Ya(e,t){if(e.fa)e=!0;else{t=new xa(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ka(e),e=n.call(r,t)}return e}function Ja(e){return(e=e[Va])instanceof Fa?e:null}var Xa="__closure_events_fn_"+(1e9*Math.random()>>>0);function $a(e){return"function"===typeof e?e:(e[Xa]||(e[Xa]=function(t){return e.handleEvent(t)}),e[Xa])}function Za(){ia.call(this),this.i=new Fa(this),this.S=this,this.J=null}function el(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new la(t,e);else if(t instanceof la)t.target=t.target||e;else{var i=t;ja(t=new la(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=tl(o,r,!0,t)&&i}if(i=tl(o=t.g=e,r,!0,t)&&i,i=tl(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=tl(o=t.g=n[s],r,!1,t)&&i}function tl(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Ua(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}ra(Za,ia),Za.prototype[Na]=!0,Za.prototype.removeEventListener=function(e,t,n,r){Ga(this,e,t,n,r)},Za.prototype.N=function(){if(Za.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Pa(n[r]);delete t.g[e],t.h--}}this.J=null},Za.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Za.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var nl=Qo.JSON.stringify;function rl(){var e=ul;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var il=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new sl),(e=>e.reset()));class sl{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ol(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function al(e){Qo.setTimeout((()=>{throw e}),0)}let ll,cl=!1,ul=new class{constructor(){this.h=this.g=null}add(e,t){const n=il.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},hl=()=>{const e=Qo.Promise.resolve(void 0);ll=()=>{e.then(dl)}};var dl=()=>{for(var e;e=rl();){try{e.h.call(e.g)}catch(cS){al(cS)}var t=il;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}cl=!1};function fl(e,t){Za.call(this),this.h=e||1,this.g=t||Qo,this.j=ta(this.qb,this),this.l=Date.now()}function pl(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function ml(e,t,n){if("function"===typeof e)n&&(e=ta(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ta(e.handleEvent,e)}return 2147483647<Number(t)?-1:Qo.setTimeout(e,t||0)}function gl(e){e.g=ml((()=>{e.g=null,e.i&&(e.i=!1,gl(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}ra(fl,Za),(Ho=fl.prototype).ga=!1,Ho.T=null,Ho.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),el(this,"tick"),this.ga&&(pl(this),this.start()))}},Ho.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ho.N=function(){fl.$.N.call(this),pl(this),delete this.g};class yl extends ia{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gl(this)}N(){super.N(),this.g&&(Qo.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vl(e){ia.call(this),this.h=e,this.g={}}ra(vl,ia);var wl=[];function bl(e,t,n,r){Array.isArray(n)||(n&&(wl[0]=n.toString()),n=wl);for(var i=0;i<n.length;i++){var s=qa(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function _l(e){Da(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ka(e)}),e),e.g={}}function El(){this.g=!0}function Sl(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return nl(n)}catch(aS){return t}}(e,n)+(r?" "+r:"")}))}vl.prototype.N=function(){vl.$.N.call(this),_l(this)},vl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},El.prototype.Ea=function(){this.g=!1},El.prototype.info=function(){};var Il={},Tl=null;function kl(){return Tl=Tl||new Za}function Al(e){la.call(this,Il.Ta,e)}function xl(e){const t=kl();el(t,new Al(t))}function Cl(e,t){la.call(this,Il.STAT_EVENT,e),this.stat=t}function Nl(e){const t=kl();el(t,new Cl(t,e))}function Rl(e,t){la.call(this,Il.Ua,e),this.size=t}function Ol(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Qo.setTimeout((function(){e()}),t)}Il.Ta="serverreachability",ra(Al,la),Il.STAT_EVENT="statevent",ra(Cl,la),Il.Ua="timingevent",ra(Rl,la);var Pl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Dl={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ll(){}function Ml(e){return e.h||(e.h=e.i())}function jl(){}Ll.prototype.h=null;var Fl,Ul={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Bl(){la.call(this,"d")}function Vl(){la.call(this,"c")}function zl(){}function ql(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new vl(this),this.P=Wl,e=wa?125:void 0,this.V=new fl(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Hl}function Hl(){this.i=null,this.g="",this.h=!1}ra(Bl,la),ra(Vl,la),ra(zl,Ll),zl.prototype.g=function(){return new XMLHttpRequest},zl.prototype.i=function(){return{}},Fl=new zl;var Wl=45e3,Gl={},Kl={};function Ql(e,t,n){e.L=1,e.A=fc(lc(t)),e.u=n,e.S=!0,Yl(e,null)}function Yl(e,t){e.G=Date.now(),Zl(e),e.B=lc(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),kc(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Hl,e.g=ku(e.l,n?t:null,!e.u),0<e.O&&(e.M=new yl(ta(e.Pa,e,e.g),e.O)),bl(e.U,e.g,"readystatechange",e.nb),t=e.I?La(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),xl(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Jl(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Xl(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=$l(e,n),r==Kl){4==t&&(e.s=4,Nl(14),i=!1),Sl(e.j,e.m,null,"[Incomplete Response]");break}if(r==Gl){e.s=4,Nl(15),Sl(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Sl(e.j,e.m,r,null),ic(e,r)}Jl(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Nl(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),vu(t),t.M=!0,Nl(11))):(Sl(e.j,e.m,n,"[Invalid Chunked Response]"),rc(e),nc(e))}function $l(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Kl:(n=Number(t.substring(n,r)),isNaN(n)?Gl:(r+=1)+n>t.length?Kl:(t=t.slice(r,r+n),e.o=r+n,t))}function Zl(e){e.Y=Date.now()+e.P,ec(e,e.P)}function ec(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Ol(ta(e.lb,e),t)}function tc(e){e.C&&(Qo.clearTimeout(e.C),e.C=null)}function nc(e){0==e.l.H||e.J||_u(e.l,e)}function rc(e){tc(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,pl(e.V),_l(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function ic(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Pc(n.i,e)))if(!e.K&&Pc(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;bu(n),uu(n)}yu(n),Nl(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ol(ta(n.ib,n),6e3));if(1>=Oc(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Su(n,11)}else if((e.K||n.g==e)&&bu(n),!ua(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Dc(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,dc(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=Tu(r,r.J?r.pa:null,r.Y),o.K){Lc(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(tc(a),Zl(a)),r.g=o}else gu(r);0<n.j.length&&du(n)}else"stop"!=c[0]&&"close"!=c[0]||Su(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Su(n,7):cu(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}xl()}catch(c){}}function sc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Yo(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Yo(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Yo(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Ho=ql.prototype).setTimeout=function(e){this.P=e},Ho.nb=function(e){e=e.target;const t=this.M;t&&3==ru(e)?t.l():this.Pa(e)},Ho.Pa=function(e){try{if(e==this.g)e:{const u=ru(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||wa||this.g&&(this.h.h||this.g.ja()||iu(this.g)))){this.J||4!=u||7==t||xl(),tc(this);var n=this.g.da();this.ca=n;t:if(Jl(this)){var r=iu(this.g);e="";var i=r.length,s=4==ru(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){rc(this),nc(this);var o="";break t}this.h.i=new Qo.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ua(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,Nl(12),rc(this),nc(this);break e}Sl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ic(this,n)}this.S?(Xl(this,u,o),wa&&this.i&&3==u&&(bl(this.U,this.V,"tick",this.mb),this.V.start())):(Sl(this.j,this.m,o,null),ic(this,o)),4==u&&rc(this),this.i&&!this.J&&(4==u?_u(this.l,this):(this.i=!1,Zl(this)))}else(function(e){const t={};e=(e.g&&2<=ru(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(ua(e[r]))continue;var n=ol(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Nl(12)):(this.s=0,Nl(13)),rc(this),nc(this)}}}catch(fS){}},Ho.mb=function(){if(this.g){var e=ru(this.g),t=this.g.ja();this.o<t.length&&(tc(this),Xl(this,e,t),this.i&&4!=e&&Zl(this))}},Ho.cancel=function(){this.J=!0,rc(this)},Ho.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(xl(),Nl(17)),rc(this),this.s=2,nc(this)):ec(this,this.Y-e)};var oc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ac(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ac){this.h=e.h,cc(this,e.j),this.s=e.s,this.g=e.g,uc(this,e.m),this.l=e.l;var t=e.i,n=new Ec;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),hc(this,n),this.o=e.o}else e&&(t=String(e).match(oc))?(this.h=!1,cc(this,t[1]||"",!0),this.s=pc(t[2]||""),this.g=pc(t[3]||"",!0),uc(this,t[4]),this.l=pc(t[5]||"",!0),hc(this,t[6]||"",!0),this.o=pc(t[7]||"")):(this.h=!1,this.i=new Ec(null,this.h))}function lc(e){return new ac(e)}function cc(e,t,n){e.j=n?pc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function uc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function hc(e,t,n){t instanceof Ec?(e.i=t,function(e,t){t&&!e.j&&(Sc(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ic(this,t),kc(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=mc(t,bc)),e.i=new Ec(t,e.h))}function dc(e,t,n){e.i.set(t,n)}function fc(e){return dc(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function pc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function mc(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,gc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function gc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ac.prototype.toString=function(){var e=[],t=this.j;t&&e.push(mc(t,yc,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(mc(t,yc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(mc(n,"/"==n.charAt(0)?wc:vc,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",mc(n,_c)),e.join("")};var yc=/[#\/\?@]/g,vc=/[#\?:]/g,wc=/[#\?]/g,bc=/[#\?@]/g,_c=/#/g;function Ec(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Sc(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ic(e,t){Sc(e),t=Ac(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Tc(e,t){return Sc(e),t=Ac(e,t),e.g.has(t)}function kc(e,t,n){Ic(e,t),0<n.length&&(e.i=null,e.g.set(Ac(e,t),oa(n)),e.h+=n.length)}function Ac(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ho=Ec.prototype).add=function(e,t){Sc(this),this.i=null,e=Ac(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ho.forEach=function(e,t){Sc(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ho.ta=function(){Sc(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Ho.Z=function(e){Sc(this);let t=[];if("string"===typeof e)Tc(this,e)&&(t=t.concat(this.g.get(Ac(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ho.set=function(e,t){return Sc(this),this.i=null,Tc(this,e=Ac(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ho.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Ho.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var xc=class{constructor(e,t){this.g=e,this.map=t}};function Cc(e){this.l=e||Nc,Qo.PerformanceNavigationTiming?e=0<(e=Qo.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Qo.g&&Qo.g.Ka&&Qo.g.Ka()&&Qo.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Nc=10;function Rc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Oc(e){return e.h?1:e.g?e.g.size:0}function Pc(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Dc(e,t){e.g?e.g.add(t):e.h=t}function Lc(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Mc(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return oa(e.i)}Cc.prototype.cancel=function(){if(this.i=Mc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var jc=class{stringify(e){return Qo.JSON.stringify(e,void 0)}parse(e){return Qo.JSON.parse(e,void 0)}};function Fc(){this.g=new jc}function Uc(e,t,n){const r=n||"";try{sc(e,(function(e,n){let i=e;Jo(e)&&(i=nl(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(rS){throw t.push(r+"type="+encodeURIComponent("_badmap")),rS}}function Bc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(mS){}}function Vc(e){this.l=e.ec||null,this.j=e.ob||!1}function zc(e,t){Za.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=qc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ra(Vc,Ll),Vc.prototype.g=function(){return new zc(this.l,this.j)},Vc.prototype.i=function(e){return function(){return e}}({}),ra(zc,Za);var qc=0;function Hc(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Wc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Gc(e)}function Gc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ho=zc.prototype).open=function(e,t){if(this.readyState!=qc)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Gc(this)},Ho.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Qo).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Ho.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wc(this)),this.readyState=qc},Ho.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Gc(this)),this.g&&(this.readyState=3,Gc(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Qo.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hc(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Ho.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Wc(this):Gc(this),3==this.readyState&&Hc(this)}},Ho.Za=function(e){this.g&&(this.response=this.responseText=e,Wc(this))},Ho.Ya=function(e){this.g&&(this.response=e,Wc(this))},Ho.ka=function(){this.g&&Wc(this)},Ho.setRequestHeader=function(e,t){this.v.append(e,t)},Ho.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ho.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(zc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Kc=Qo.JSON.parse;function Qc(e){Za.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Yc,this.L=this.M=!1}ra(Qc,Za);var Yc="",Jc=/^https?$/i,Xc=["POST","PUT"];function $c(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Zc(e),tu(e)}function Zc(e){e.F||(e.F=!0,el(e,"complete"),el(e,"error"))}function eu(e){if(e.h&&"undefined"!=typeof Ko&&(!e.C[1]||4!=ru(e)||2!=e.da()))if(e.v&&4==ru(e))ml(e.La,0,e);else if(el(e,"readystatechange"),4==ru(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(oc)[1]||null;!i&&Qo.self&&Qo.self.location&&(i=Qo.self.location.protocol.slice(0,-1)),r=!Jc.test(i?i.toLowerCase():"")}n=r}if(n)el(e,"complete"),el(e,"success");else{e.m=6;try{var s=2<ru(e)?e.g.statusText:""}catch(aS){s=""}e.j=s+" ["+e.da()+"]",Zc(e)}}finally{tu(e)}}}function tu(e,t){if(e.g){nu(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||el(e,"ready");try{n.onreadystatechange=r}catch(rS){}}}function nu(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Qo.clearTimeout(e.A),e.A=null)}function ru(e){return e.g?e.g.readyState:0}function iu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Yc:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(hh){return null}}function su(e){let t="";return Da(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function ou(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=su(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):dc(e,t,n))}function au(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function lu(e){this.Ga=0,this.j=[],this.l=new El,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=au("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=au("baseRetryDelayMs",5e3,e),this.hb=au("retryDelaySeedMs",1e4,e),this.eb=au("forwardChannelMaxRetries",2,e),this.xa=au("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Cc(e&&e.concurrentRequestLimit),this.Ja=new Fc,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function cu(e){if(hu(e),3==e.H){var t=e.W++,n=lc(e.I);if(dc(n,"SID",e.K),dc(n,"RID",t),dc(n,"TYPE","terminate"),pu(e,n),(t=new ql(e,e.l,t)).L=2,t.A=fc(lc(n)),n=!1,Qo.navigator&&Qo.navigator.sendBeacon)try{n=Qo.navigator.sendBeacon(t.A.toString(),"")}catch(pS){}!n&&Qo.Image&&((new Image).src=t.A,n=!0),n||(t.g=ku(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Zl(t)}Iu(e)}function uu(e){e.g&&(vu(e),e.g.cancel(),e.g=null)}function hu(e){uu(e),e.u&&(Qo.clearTimeout(e.u),e.u=null),bu(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Qo.clearTimeout(e.m),e.m=null)}function du(e){if(!Rc(e.i)&&!e.m){e.m=!0;var t=e.Na;ll||hl(),cl||(ll(),cl=!0),ul.add(t,e),e.C=0}}function fu(e,t){var n;n=t?t.m:e.W++;const r=lc(e.I);dc(r,"SID",e.K),dc(r,"RID",n),dc(r,"AID",e.V),pu(e,r),e.o&&e.s&&ou(r,e.o,e.s),n=new ql(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=mu(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Dc(e.i,n),Ql(n,r,t)}function pu(e,t){e.na&&Da(e.na,(function(e,n){dc(t,n,e)})),e.h&&sc({},(function(e,n){dc(t,n,e)}))}function mu(e,t,n){n=Math.min(e.j.length,n);var r=e.h?ta(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{Uc(a,e,"req"+n+"_")}catch(Ad){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function gu(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ll||hl(),cl||(ll(),cl=!0),ul.add(t,e),e.A=0}}function yu(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Ol(ta(e.Ma,e),Eu(e,e.A)),e.A++,!0)}function vu(e){null!=e.B&&(Qo.clearTimeout(e.B),e.B=null)}function wu(e){e.g=new ql(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=lc(e.wa);dc(t,"RID","rpc"),dc(t,"SID",e.K),dc(t,"AID",e.V),dc(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&dc(t,"TO",e.qa),dc(t,"TYPE","xmlhttp"),pu(e,t),e.o&&e.s&&ou(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=fc(lc(t)),n.u=null,n.S=!0,Yl(n,e)}function bu(e){null!=e.v&&(Qo.clearTimeout(e.v),e.v=null)}function _u(e,t){var n=null;if(e.g==t){bu(e),vu(e),e.g=null;var r=2}else{if(!Pc(e.i,t))return;n=t.F,Lc(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;el(r=kl(),new Rl(r,n)),du(e)}else gu(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Oc(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Ol(ta(e.Na,e,t),Eu(e,e.C)),e.C++,!0))}(e,t)||2==r&&yu(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Su(e,5);break;case 4:Su(e,10);break;case 3:Su(e,6);break;default:Su(e,2)}}function Eu(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Su(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=ta(e.pb,e);n||(n=new ac("//www.google.com/images/cleardot.gif"),Qo.location&&"http"==Qo.location.protocol||cc(n,"https"),fc(n)),function(e,t){const n=new El;if(Qo.Image){const r=new Image;r.onload=na(Bc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=na(Bc,n,r,"TestLoadImage: error",!1,t),r.onabort=na(Bc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=na(Bc,n,r,"TestLoadImage: timeout",!1,t),Qo.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Nl(2);e.H=0,e.h&&e.h.za(t),Iu(e),hu(e)}function Iu(e){if(e.H=0,e.ma=[],e.h){const t=Mc(e.i);0==t.length&&0==e.j.length||(aa(e.ma,t),aa(e.ma,e.j),e.i.i.length=0,oa(e.j),e.j.length=0),e.h.ya()}}function Tu(e,t,n){var r=n instanceof ac?lc(n):new ac(n);if(""!=r.g)t&&(r.g=t+"."+r.g),uc(r,r.m);else{var i=Qo.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new ac(null);r&&cc(s,r),t&&(s.g=t),i&&uc(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&dc(r,n,t),dc(r,"VER",e.ra),pu(e,r),r}function ku(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Qc(new Vc({ob:n})):new Qc(e.va)).Oa(e.J),t}function Au(){}function xu(){if(ya&&!(10<=Number(Aa)))throw Error("Environmental error: no available transport.")}function Cu(e,t){Za.call(this),this.g=new lu(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ua(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ua(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ou(this)}function Nu(e){Bl.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ru(){Vl.call(this),this.status=1}function Ou(e){this.g=e}function Pu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Du(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Lu(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Ho=Qc.prototype).Oa=function(e){this.M=e},Ho.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Fl.g(),this.C=this.u?Ml(this.u):Ml(Fl),this.g.onreadystatechange=ta(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(mS){return void $c(this,mS)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Qo.FormData&&e instanceof Qo.FormData,!(0<=sa(Xc,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{nu(this),0<this.B&&((this.L=function(e){return ya&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ta(this.ua,this)):this.A=ml(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(mS){$c(this,mS)}},Ho.ua=function(){"undefined"!=typeof Ko&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,el(this,"timeout"),this.abort(8))},Ho.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,el(this,"complete"),el(this,"abort"),tu(this))},Ho.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tu(this,!0)),Qc.$.N.call(this)},Ho.La=function(){this.s||(this.G||this.v||this.l?eu(this):this.kb())},Ho.kb=function(){eu(this)},Ho.isActive=function(){return!!this.g},Ho.da=function(){try{return 2<ru(this)?this.g.status:-1}catch(oS){return-1}},Ho.ja=function(){try{return this.g?this.g.responseText:""}catch(oS){return""}},Ho.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Kc(t)}},Ho.Ia=function(){return this.m},Ho.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ho=lu.prototype).ra=8,Ho.H=1,Ho.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new ql(this,this.l,e);let s=this.s;if(this.U&&(s?(s=La(s),ja(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=mu(this,i,t),dc(n=lc(this.I),"RID",e),dc(n,"CVER",22),this.F&&dc(n,"X-HTTP-Session-Id",this.F),pu(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(su(s)))+"&"+t:this.o&&ou(n,this.o,s)),Dc(this.i,i),this.bb&&dc(n,"TYPE","init"),this.P?(dc(n,"$req",t),dc(n,"SID","null"),i.aa=!0,Ql(i,n,null)):Ql(i,n,t),this.H=2}}else 3==this.H&&(e?fu(this,e):0==this.j.length||Rc(this.i)||fu(this))},Ho.Ma=function(){if(this.u=null,wu(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ol(ta(this.jb,this),e)}},Ho.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Nl(10),uu(this),wu(this))},Ho.ib=function(){null!=this.v&&(this.v=null,uu(this),yu(this),Nl(19))},Ho.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Nl(2)):(this.l.info("Failed to ping google.com"),Nl(1))},Ho.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ho=Au.prototype).Ba=function(){},Ho.Aa=function(){},Ho.za=function(){},Ho.ya=function(){},Ho.isActive=function(){return!0},Ho.Va=function(){},xu.prototype.g=function(e,t){return new Cu(e,t)},ra(Cu,Za),Cu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Nl(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Tu(e,null,e.Y),du(e)},Cu.prototype.close=function(){cu(this.g)},Cu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=nl(e),e=n);t.j.push(new xc(t.fb++,e)),3==t.H&&du(t)},Cu.prototype.N=function(){this.g.h=null,delete this.j,cu(this.g),delete this.g,Cu.$.N.call(this)},ra(Nu,Bl),ra(Ru,Vl),ra(Ou,Au),Ou.prototype.Ba=function(){el(this.g,"a")},Ou.prototype.Aa=function(e){el(this.g,new Nu(e))},Ou.prototype.za=function(e){el(this.g,new Ru)},Ou.prototype.ya=function(){el(this.g,"b")},ra(Pu,(function(){this.blockSize=-1})),Pu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Pu.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Du(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Du(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Du(this,r),i=0;break}}this.h=i,this.i+=t},Pu.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Mu={};function ju(e){return-128<=e&&128>e?function(e,t){var n=Mu;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Lu([0|e],0>e?-1:0)})):new Lu([0|e],0>e?-1:0)}function Fu(e){if(isNaN(e)||!isFinite(e))return Bu;if(0>e)return Wu(Fu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Uu;return new Lu(t,0)}var Uu=4294967296,Bu=ju(0),Vu=ju(1),zu=ju(16777216);function qu(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Hu(e){return-1==e.h}function Wu(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Lu(n,~e.h).add(Vu)}function Gu(e,t){return e.add(Wu(t))}function Ku(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Qu(e,t){this.g=e,this.h=t}function Yu(e,t){if(qu(t))throw Error("division by zero");if(qu(e))return new Qu(Bu,Bu);if(Hu(e))return t=Yu(Wu(e),t),new Qu(Wu(t.g),Wu(t.h));if(Hu(t))return t=Yu(e,Wu(t)),new Qu(Wu(t.g),t.h);if(30<e.g.length){if(Hu(e)||Hu(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Vu,r=t;0>=r.X(e);)n=Ju(n),r=Ju(r);var i=Xu(n,1),s=Xu(r,1);for(r=Xu(r,2),n=Xu(n,2);!qu(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Xu(r,1),n=Xu(n,1)}return t=Gu(e,i.R(t)),new Qu(i,t)}for(i=Bu;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Fu(n)).R(t);Hu(o)||0<o.X(e);)o=(s=Fu(n-=r)).R(t);qu(s)&&(s=Vu),i=i.add(s),e=Gu(e,o)}return new Qu(i,e)}function Ju(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Lu(n,e.h)}function Xu(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Lu(i,e.h)}(Ho=Lu.prototype).ea=function(){if(Hu(this))return-Wu(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Uu+r)*t,t*=Uu}return e},Ho.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(qu(this))return"0";if(Hu(this))return"-"+Wu(this).toString(e);for(var t=Fu(Math.pow(e,6)),n=this,r="";;){var i=Yu(n,t).g,s=((0<(n=Gu(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(qu(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Ho.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Ho.X=function(e){return Hu(e=Gu(this,e))?-1:qu(e)?0:1},Ho.abs=function(){return Hu(this)?Wu(this):this},Ho.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Lu(n,-2147483648&n[n.length-1]?-1:0)},Ho.R=function(e){if(qu(this)||qu(e))return Bu;if(Hu(this))return Hu(e)?Wu(this).R(Wu(e)):Wu(Wu(this).R(e));if(Hu(e))return Wu(this.R(Wu(e)));if(0>this.X(zu)&&0>e.X(zu))return Fu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,Ku(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Ku(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Ku(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Ku(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Lu(n,0)},Ho.gb=function(e){return Yu(this,e).h},Ho.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Lu(n,this.h&e.h)},Ho.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Lu(n,this.h|e.h)},Ho.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Lu(n,this.h^e.h)},xu.prototype.createWebChannel=xu.prototype.g,Cu.prototype.send=Cu.prototype.u,Cu.prototype.open=Cu.prototype.m,Cu.prototype.close=Cu.prototype.close,Pl.NO_ERROR=0,Pl.TIMEOUT=8,Pl.HTTP_ERROR=6,Dl.COMPLETE="complete",jl.EventType=Ul,Ul.OPEN="a",Ul.CLOSE="b",Ul.ERROR="c",Ul.MESSAGE="d",Za.prototype.listen=Za.prototype.O,Qc.prototype.listenOnce=Qc.prototype.P,Qc.prototype.getLastError=Qc.prototype.Sa,Qc.prototype.getLastErrorCode=Qc.prototype.Ia,Qc.prototype.getStatus=Qc.prototype.da,Qc.prototype.getResponseJson=Qc.prototype.Wa,Qc.prototype.getResponseText=Qc.prototype.ja,Qc.prototype.send=Qc.prototype.ha,Qc.prototype.setWithCredentials=Qc.prototype.Oa,Pu.prototype.digest=Pu.prototype.l,Pu.prototype.reset=Pu.prototype.reset,Pu.prototype.update=Pu.prototype.j,Lu.prototype.add=Lu.prototype.add,Lu.prototype.multiply=Lu.prototype.R,Lu.prototype.modulo=Lu.prototype.gb,Lu.prototype.compare=Lu.prototype.X,Lu.prototype.toNumber=Lu.prototype.ea,Lu.prototype.toString=Lu.prototype.toString,Lu.prototype.getBits=Lu.prototype.D,Lu.fromNumber=Fu,Lu.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Wu(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Fu(Math.pow(n,8)),i=Bu,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=Fu(Math.pow(n,o)),i=i.R(o).add(Fu(a))):i=(i=i.R(r)).add(Fu(a))}return i};var $u=Go.createWebChannelTransport=function(){return new xu},Zu=Go.getStatEventTarget=function(){return kl()},eh=Go.ErrorCode=Pl,th=Go.EventType=Dl,nh=Go.Event=Il,rh=Go.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ih=(Go.FetchXmlHttpFactory=Vc,Go.WebChannel=jl),sh=Go.XhrIo=Qc,oh=Go.Md5=Pu,ah=Go.Integer=Lu;const lh="@firebase/firestore";class ch{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ch.UNAUTHENTICATED=new ch(null),ch.GOOGLE_CREDENTIALS=new ch("google-credentials-uid"),ch.FIRST_PARTY=new ch("first-party-uid"),ch.MOCK_USER=new ch("mock-user");let uh="10.9.0";const hh=new wt("@firebase/firestore");function dh(){return hh.logLevel}function fh(e){if(hh.logLevel<=pt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(gh);hh.debug("Firestore (".concat(uh,"): ").concat(e),...i)}}function ph(e){if(hh.logLevel<=pt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(gh);hh.error("Firestore (".concat(uh,"): ").concat(e),...i)}}function mh(e){if(hh.logLevel<=pt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(gh);hh.warn("Firestore (".concat(uh,"): ").concat(e),...i)}}function gh(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(iS){return e}}function yh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(uh,") INTERNAL ASSERTION FAILED: ")+e;throw ph(t),new Error(t)}function vh(e,t){e||yh()}function wh(e,t){return e}const bh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _h extends Je{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Eh{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Sh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Ih{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ch.UNAUTHENTICATED)))}shutdown(){}}class Th{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class kh{constructor(e){this.t=e,this.currentUser=ch.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Eh;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Eh,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{fh("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(fh("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Eh)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(fh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(vh("string"==typeof t.accessToken),new Sh(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return vh(null===e||"string"==typeof e),new ch(e)}}class Ah{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=ch.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class xh{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Ah(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(ch.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ch{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nh{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&fh("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,fh("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{fh("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):fh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(vh("string"==typeof e.token),this.R=e.token,new Ch(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Rh(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Oh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Rh(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Ph(e,t){return e<t?-1:e>t?1:0}function Dh(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Lh(e){return e+"\0"}class Mh{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _h(bh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _h(bh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _h(bh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _h(bh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mh.fromMillis(Date.now())}static fromDate(e){return Mh.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Mh(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ph(this.nanoseconds,e.nanoseconds):Ph(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class jh{constructor(e){this.timestamp=e}static fromTimestamp(e){return new jh(e)}static min(){return new jh(new Mh(0,0))}static max(){return new jh(new Mh(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Fh{constructor(e,t,n){void 0===t?t=0:t>e.length&&yh(),void 0===n?n=e.length-t:n>e.length-t&&yh(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Fh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fh?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Uh extends Fh{construct(e,t,n){return new Uh(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new _h(bh.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Uh(e)}static emptyPath(){return new Uh([])}}const Bh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vh extends Fh{construct(e,t,n){return new Vh(e,t,n)}static isValidIdentifier(e){return Bh.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vh.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vh(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new _h(bh.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new _h(bh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new _h(bh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new _h(bh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vh(t)}static emptyPath(){return new Vh([])}}class zh{constructor(e){this.path=e}static fromPath(e){return new zh(Uh.fromString(e))}static fromName(e){return new zh(Uh.fromString(e).popFirst(5))}static empty(){return new zh(Uh.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Uh.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Uh.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zh(new Uh(e.slice()))}}class qh{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Hh(e){return e.fields.find((e=>2===e.kind))}function Wh(e){return e.fields.filter((e=>2!==e.kind))}qh.UNKNOWN_ID=-1;class Gh{constructor(e,t){this.fieldPath=e,this.kind=t}}class Kh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Kh(0,Jh.min())}}function Qh(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=jh.fromTimestamp(1e9===r?new Mh(n+1,0):new Mh(n,r));return new Jh(i,zh.empty(),t)}function Yh(e){return new Jh(e.readTime,e.key,-1)}class Jh{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Jh(jh.min(),zh.empty(),-1)}static max(){return new Jh(jh.max(),zh.empty(),-1)}}function Xh(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=zh.comparator(e.documentKey,t.documentKey),0!==n?n:Ph(e.largestBatchId,t.largestBatchId))}const $h="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ed(e){if(e.code!==bh.FAILED_PRECONDITION||e.message!==$h)throw e;fh("LocalStore","Unexpectedly lost primary lease")}class td{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new td(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof td?t:td.resolve(t)}catch(e){return td.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):td.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):td.reject(t)}static resolve(e){return new td(((t,n)=>{t(e)}))}static reject(e){return new td(((t,n)=>{n(e)}))}static waitFor(e){return new td(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=td.resolve(!1);for(const n of e)t=t.next((e=>e?td.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new td(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new td(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class nd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Eh,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new sd(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=ud(t.target.error);this.V.reject(new sd(e,n))}}static open(e,t,n,r){try{return new nd(t,e.transaction(r,n))}catch(e){throw new sd(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(fh("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ad(t)}}class rd{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===rd.S(qe())&&ph("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return fh("SimpleDb","Removing database:",e),ld(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ye())return!1;if(rd.C())return!0;const e=qe(),t=rd.S(e),n=0<t&&t<10,r=rd.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(fh("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new sd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new _h(bh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new _h(bh.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new sd(e,r))},r.onupgradeneeded=e=>{fh("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{fh("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.L&&(this.db.onversionchange=e=>this.L(e)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=nd.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),td.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(fh("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class id{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ld(this.k.delete())}}class sd extends _h{constructor(e,t){super(bh.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function od(e){return"IndexedDbTransactionError"===e.name}class ad{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(fh("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(fh("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ld(n)}add(e){return fh("SimpleDb","ADD",this.store.name,e,e),ld(this.store.add(e))}get(e){return ld(this.store.get(e)).next((t=>(void 0===t&&(t=null),fh("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return fh("SimpleDb","DELETE",this.store.name,e),ld(this.store.delete(e))}count(){return fh("SimpleDb","COUNT",this.store.name),ld(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new td(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new td(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){fh("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new td(((n,r)=>{t.onerror=e=>{const t=ud(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new td(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new id(i),o=t(i.primaryKey,i.value,s);if(o instanceof td){const e=o.catch((e=>(s.done(),td.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>td.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ld(e){return new td(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=ud(e.target.error);n(t)}}))}let cd=!1;function ud(e){const t=rd.S(qe());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new _h("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return cd||(cd=!0,setTimeout((()=>{throw e}),0)),e}}return e}class hd{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){fh("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{fh("IndexBackfiller","Documents written: ".concat(await this.X.te()))}catch(e){od(e)?fh("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await ed(e)}await this.ee(6e4)}))}}class dd{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return td.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return fh("IndexBackfiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(fh("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Yh(t);Xh(r,n)>0&&(n=r)})),new Jh(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class fd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function pd(e){return null==e}function md(e){return 0===e&&1/e==-1/0}function gd(e){return"number"==typeof e&&Number.isInteger(e)&&!md(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function yd(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=wd(t)),t=vd(e.get(n),t);return wd(t)}function vd(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function wd(e){return e+"\x01\x01"}function bd(e){const t=e.length;if(vh(t>=2),2===t)return vh("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Uh.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&yh(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:yh()}s=t+2}return new Uh(r)}fd._e=-1;const _d=["userId","batchId"];function Ed(e,t){return[e,yd(t)]}function Sd(e,t,n){return[e,yd(t),n]}const Id={},Td=["prefixPath","collectionGroup","readTime","documentId"],kd=["prefixPath","collectionGroup","documentId"],Ad=["collectionGroup","readTime","prefixPath","documentId"],xd=["canonicalId","targetId"],Cd=["targetId","path"],Nd=["path","targetId"],Rd=["collectionId","parent"],Od=["indexId","uid"],Pd=["uid","sequenceNumber"],Dd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ld=["indexId","uid","orderedDocumentKey"],Md=["userId","collectionPath","documentId"],jd=["userId","collectionPath","largestBatchId"],Fd=["userId","collectionGroup","largestBatchId"],Ud=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Bd=[...Ud,"documentOverlays"],Vd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zd=Vd,qd=[...zd,"indexConfiguration","indexState","indexEntries"];class Hd extends Zh{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Wd(e,t){const n=wh(e);return rd.M(n.ae,t)}function Gd(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Kd(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Qd(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Yd{constructor(e,t){this.comparator=e,this.root=t||Xd.EMPTY}insert(e,t){return new Yd(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xd.BLACK,null,null))}remove(e){return new Yd(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xd.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jd(this.root,e,this.comparator,!0)}}class Jd{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xd{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Xd.RED,this.left=null!=r?r:Xd.EMPTY,this.right=null!=i?i:Xd.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Xd(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Xd.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Xd.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xd.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yh();if(this.right.isRed())throw yh();const e=this.left.check();if(e!==this.right.check())throw yh();return e+(this.isRed()?0:1)}}Xd.EMPTY=null,Xd.RED=!0,Xd.BLACK=!1,Xd.EMPTY=new class{constructor(){this.size=0}get key(){throw yh()}get value(){throw yh()}get color(){throw yh()}get left(){throw yh()}get right(){throw yh()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Xd(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $d{constructor(e){this.comparator=e,this.data=new Yd(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zd(this.data.getIterator())}getIteratorFrom(e){return new Zd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof $d))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new $d(this.comparator);return t.data=e,t}}class Zd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ef(e){return e.hasNext()?e.getNext():void 0}class tf{constructor(e){this.fields=e,e.sort(Vh.comparator)}static empty(){return new tf([])}unionWith(e){let t=new $d(Vh.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new tf(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Dh(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class nf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rf{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new nf("Invalid base64 string: "+e):e}}(e);return new rf(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new rf(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ph(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rf.EMPTY_BYTE_STRING=new rf("");const sf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function of(e){if(vh(!!e),"string"==typeof e){let t=0;const n=sf.exec(e);if(vh(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:af(e.seconds),nanos:af(e.nanos)}}function af(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function lf(e){return"string"==typeof e?rf.fromBase64String(e):rf.fromUint8Array(e)}function cf(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function uf(e){const t=e.mapValue.fields.__previous_value__;return cf(t)?uf(t):t}function hf(e){const t=of(e.mapValue.fields.__local_write_time__.timestampValue);return new Mh(t.seconds,t.nanos)}class df{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class ff{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ff("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ff&&e.projectId===this.projectId&&e.database===this.database}}const pf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},mf={nullValue:"NULL_VALUE"};function gf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?cf(e)?4:Nf(e)?9007199254740991:10:yh()}function yf(e,t){if(e===t)return!0;const n=gf(e);if(n!==gf(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return hf(e).isEqual(hf(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=of(e.timestampValue),r=of(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return lf(e.bytesValue).isEqual(lf(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return af(e.geoPointValue.latitude)===af(t.geoPointValue.latitude)&&af(e.geoPointValue.longitude)===af(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return af(e.integerValue)===af(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=af(e.doubleValue),r=af(t.doubleValue);return n===r?md(n)===md(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Dh(e.arrayValue.values||[],t.arrayValue.values||[],yf);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Gd(n)!==Gd(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!yf(n[i],r[i])))return!1;return!0}(e,t);default:return yh()}}function vf(e,t){return void 0!==(e.values||[]).find((e=>yf(e,t)))}function wf(e,t){if(e===t)return 0;const n=gf(e),r=gf(t);if(n!==r)return Ph(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ph(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=af(e.integerValue||e.doubleValue),r=af(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return bf(e.timestampValue,t.timestampValue);case 4:return bf(hf(e),hf(t));case 5:return Ph(e.stringValue,t.stringValue);case 6:return function(e,t){const n=lf(e),r=lf(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Ph(n[i],r[i]);if(0!==e)return e}return Ph(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ph(af(e.latitude),af(t.latitude));return 0!==n?n:Ph(af(e.longitude),af(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=wf(n[i],r[i]);if(e)return e}return Ph(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===pf.mapValue&&t===pf.mapValue)return 0;if(e===pf.mapValue)return 1;if(t===pf.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Ph(r[o],s[o]);if(0!==e)return e;const t=wf(n[r[o]],i[s[o]]);if(0!==t)return t}return Ph(r.length,s.length)}(e.mapValue,t.mapValue);default:throw yh()}}function bf(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ph(e,t);const n=of(e),r=of(t),i=Ph(n.seconds,r.seconds);return 0!==i?i:Ph(n.nanos,r.nanos)}function _f(e){return Ef(e)}function Ef(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=of(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return lf(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return zh.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ef(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Ef(e.fields[i]));return n+"}"}(e.mapValue):yh()}function Sf(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function If(e){return!!e&&"integerValue"in e}function Tf(e){return!!e&&"arrayValue"in e}function kf(e){return!!e&&"nullValue"in e}function Af(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function xf(e){return!!e&&"mapValue"in e}function Cf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Kd(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Cf(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Cf(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Nf(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Rf(e){return"nullValue"in e?mf:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Sf(ff.empty(),zh.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:yh()}function Of(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Sf(ff.empty(),zh.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?pf:yh()}function Pf(e,t){const n=wf(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Df(e,t){const n=wf(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Lf{constructor(e){this.value=e}static empty(){return new Lf({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!xf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cf(t)}setAll(e){let t=Vh.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Cf(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());xf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yf(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];xf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Kd(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Lf(Cf(this.value))}}function Mf(e){const t=[];return Kd(e.fields,((e,n)=>{const r=new Vh([e]);if(xf(n)){const e=Mf(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new tf(t)}class jf{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new jf(e,0,jh.min(),jh.min(),jh.min(),Lf.empty(),0)}static newFoundDocument(e,t,n,r){return new jf(e,1,t,jh.min(),n,r,0)}static newNoDocument(e,t){return new jf(e,2,t,jh.min(),jh.min(),Lf.empty(),0)}static newUnknownDocument(e,t){return new jf(e,3,t,jh.min(),jh.min(),Lf.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(jh.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lf.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lf.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jh.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof jf&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jf(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Ff{constructor(e,t){this.position=e,this.inclusive=t}}function Uf(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?zh.comparator(zh.fromName(o.referenceValue),n.key):wf(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Bf(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!yf(e.position[n],t.position[n]))return!1;return!0}class Vf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function zf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class qf{}class Hf extends qf{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ep(e,t,n):"array-contains"===t?new ip(e,n):"in"===t?new sp(e,n):"not-in"===t?new op(e,n):"array-contains-any"===t?new ap(e,n):new Hf(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new tp(e,n):new np(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(wf(t,this.value)):null!==t&&gf(this.value)===gf(t)&&this.matchesComparison(wf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yh()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wf extends qf{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Wf(e,t)}matches(e){return Gf(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Gf(e){return"and"===e.op}function Kf(e){return"or"===e.op}function Qf(e){return Yf(e)&&Gf(e)}function Yf(e){for(const t of e.filters)if(t instanceof Wf)return!1;return!0}function Jf(e){if(e instanceof Hf)return e.field.canonicalString()+e.op.toString()+_f(e.value);if(Qf(e))return e.filters.map((e=>Jf(e))).join(",");{const t=e.filters.map((e=>Jf(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Xf(e,t){return e instanceof Hf?function(e,t){return t instanceof Hf&&e.op===t.op&&e.field.isEqual(t.field)&&yf(e.value,t.value)}(e,t):e instanceof Wf?function(e,t){return t instanceof Wf&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Xf(n,t.filters[r])),!0)}(e,t):void yh()}function $f(e,t){const n=e.filters.concat(t);return Wf.create(n,e.op)}function Zf(e){return e instanceof Hf?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(_f(e.value))}(e):e instanceof Wf?function(e){return e.op.toString()+" {"+e.getFilters().map(Zf).join(" ,")+"}"}(e):"Filter"}class ep extends Hf{constructor(e,t,n){super(e,t,n),this.key=zh.fromName(n.referenceValue)}matches(e){const t=zh.comparator(e.key,this.key);return this.matchesComparison(t)}}class tp extends Hf{constructor(e,t){super(e,"in",t),this.keys=rp("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class np extends Hf{constructor(e,t){super(e,"not-in",t),this.keys=rp("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function rp(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>zh.fromName(e.referenceValue)))}class ip extends Hf{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Tf(t)&&vf(t.arrayValue,this.value)}}class sp extends Hf{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&vf(this.value.arrayValue,t)}}class op extends Hf{constructor(e,t){super(e,"not-in",t)}matches(e){if(vf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!vf(this.value.arrayValue,t)}}class ap extends Hf{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Tf(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>vf(this.value.arrayValue,e)))}}class lp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ce=null}}function cp(e){return new lp(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function up(e){const t=wh(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Jf(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),pd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>_f(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>_f(e))).join(",")),t.ce=e}return t.ce}function hp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!zf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Xf(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Bf(e.startAt,t.startAt)&&Bf(e.endAt,t.endAt)}function dp(e){return zh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function fp(e,t){return e.filters.filter((e=>e instanceof Hf&&e.field.isEqual(t)))}function pp(e,t,n){let r=mf,i=!0;for(const s of fp(e,t)){let e=mf,t=!0;switch(s.op){case"<":case"<=":e=Rf(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=mf}Pf({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Pf({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function mp(e,t,n){let r=pf,i=!0;for(const s of fp(e,t)){let e=pf,t=!0;switch(s.op){case">=":case">":e=Of(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=pf}Df({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Df({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class gp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function yp(e,t,n,r,i,s,o,a){return new gp(e,t,n,r,i,s,o,a)}function vp(e){return new gp(e)}function wp(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function bp(e){return null!==e.collectionGroup}function _p(e){const t=wh(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new $d(Vh.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Vf(r,n))})),e.has(Vh.keyField().canonicalString())||t.le.push(new Vf(Vh.keyField(),n))}return t.le}function Ep(e){const t=wh(e);return t.he||(t.he=Sp(t,_p(e))),t.he}function Sp(e,t){if("F"===e.limitType)return cp(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Vf(e.field,t)}));const n=e.endAt?new Ff(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ff(e.startAt.position,e.startAt.inclusive):null;return cp(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ip(e,t){const n=e.filters.concat([t]);return new gp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Tp(e,t,n){return new gp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function kp(e,t){return hp(Ep(e),Ep(t))&&e.limitType===t.limitType}function Ap(e){return"".concat(up(Ep(e)),"|lt:").concat(e.limitType)}function xp(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Zf(e))).join(", "),"]")),pd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>_f(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>_f(e))).join(",")),"Target(".concat(t,")")}(Ep(e)),"; limitType=").concat(e.limitType,")")}function Cp(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):zh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of _p(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Uf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,_p(e),t))&&!(e.endAt&&!function(e,t,n){const r=Uf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,_p(e),t))}(e,t)}function Np(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Rp(e){return(t,n)=>{let r=!1;for(const i of _p(e)){const e=Op(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Op(e,t,n){const r=e.field.isKeyField()?zh.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?wf(r,i):yh()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return yh()}}class Pp{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Kd(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Qd(this.inner)}size(){return this.innerSize}}const Dp=new Yd(zh.comparator);function Lp(){return Dp}const Mp=new Yd(zh.comparator);function jp(){let e=Mp;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Fp(e){let t=Mp;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Up(){return Vp()}function Bp(){return Vp()}function Vp(){return new Pp((e=>e.toString()),((e,t)=>e.isEqual(t)))}const zp=new Yd(zh.comparator),qp=new $d(zh.comparator);function Hp(){let e=qp;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Wp=new $d(Ph);function Gp(){return Wp}function Kp(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:md(t)?"-0":t}}function Qp(e){return{integerValue:""+e}}function Yp(e,t){return gd(t)?Qp(t):Kp(e,t)}class Jp{constructor(){this._=void 0}}function Xp(e,t,n){return e instanceof em?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&cf(t)&&(t=uf(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof tm?nm(e,t):e instanceof rm?im(e,t):function(e,t){const n=Zp(e,t),r=om(n)+om(e.Ie);return If(n)&&If(e.Ie)?Qp(r):Kp(e.serializer,r)}(e,t)}function $p(e,t,n){return e instanceof tm?nm(e,t):e instanceof rm?im(e,t):n}function Zp(e,t){return e instanceof sm?function(e){return If(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class em extends Jp{}class tm extends Jp{constructor(e){super(),this.elements=e}}function nm(e,t){const n=am(t);for(const r of e.elements)n.some((e=>yf(e,r)))||n.push(r);return{arrayValue:{values:n}}}class rm extends Jp{constructor(e){super(),this.elements=e}}function im(e,t){let n=am(t);for(const r of e.elements)n=n.filter((e=>!yf(e,r)));return{arrayValue:{values:n}}}class sm extends Jp{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function om(e){return af(e.integerValue||e.doubleValue)}function am(e){return Tf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class lm{constructor(e,t){this.field=e,this.transform=t}}class cm{constructor(e,t){this.version=e,this.transformResults=t}}class um{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new um}static exists(e){return new um(void 0,e)}static updateTime(e){return new um(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class dm{}function fm(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Sm(e.key,um.none()):new vm(e.key,e.data,um.none());{const n=e.data,r=Lf.empty();let i=new $d(Vh.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new wm(e.key,r,new tf(i.toArray()),um.none())}}function pm(e,t,n){e instanceof vm?function(e,t,n){const r=e.value.clone(),i=_m(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof wm?function(e,t,n){if(!hm(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=_m(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(bm(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function mm(e,t,n,r){return e instanceof vm?function(e,t,n,r){if(!hm(e.precondition,t))return n;const i=e.value.clone(),s=Em(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof wm?function(e,t,n,r){if(!hm(e.precondition,t))return n;const i=Em(e.fieldTransforms,r,t),s=t.data;return s.setAll(bm(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return hm(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function gm(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Zp(r.transform,e||null);null!=i&&(null===n&&(n=Lf.empty()),n.set(r.field,i))}return n||null}function ym(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Dh(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof tm&&t instanceof tm||e instanceof rm&&t instanceof rm?Dh(e.elements,t.elements,yf):e instanceof sm&&t instanceof sm?yf(e.Ie,t.Ie):e instanceof em&&t instanceof em}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class vm extends dm{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class wm extends dm{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function bm(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function _m(e,t,n){const r=new Map;vh(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,$p(o,a,n[i]))}return r}function Em(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Xp(e,s,t))}return r}class Sm extends dm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Im extends dm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Tm{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&pm(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=mm(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=mm(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Bp();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=fm(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(jh.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Hp())}isEqual(e){return this.batchId===e.batchId&&Dh(this.mutations,e.mutations,((e,t)=>ym(e,t)))&&Dh(this.baseMutations,e.baseMutations,((e,t)=>ym(e,t)))}}class km{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){vh(e.mutations.length===n.length);let r=zp;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new km(e,t,n,r)}}class Am{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class xm{constructor(e,t){this.count=e,this.unchangedNames=t}}var Cm,Nm;function Rm(e){switch(e){default:return yh();case bh.CANCELLED:case bh.UNKNOWN:case bh.DEADLINE_EXCEEDED:case bh.RESOURCE_EXHAUSTED:case bh.INTERNAL:case bh.UNAVAILABLE:case bh.UNAUTHENTICATED:return!1;case bh.INVALID_ARGUMENT:case bh.NOT_FOUND:case bh.ALREADY_EXISTS:case bh.PERMISSION_DENIED:case bh.FAILED_PRECONDITION:case bh.ABORTED:case bh.OUT_OF_RANGE:case bh.UNIMPLEMENTED:case bh.DATA_LOSS:return!0}}function Om(e){if(void 0===e)return ph("GRPC error has no .code"),bh.UNKNOWN;switch(e){case Cm.OK:return bh.OK;case Cm.CANCELLED:return bh.CANCELLED;case Cm.UNKNOWN:return bh.UNKNOWN;case Cm.DEADLINE_EXCEEDED:return bh.DEADLINE_EXCEEDED;case Cm.RESOURCE_EXHAUSTED:return bh.RESOURCE_EXHAUSTED;case Cm.INTERNAL:return bh.INTERNAL;case Cm.UNAVAILABLE:return bh.UNAVAILABLE;case Cm.UNAUTHENTICATED:return bh.UNAUTHENTICATED;case Cm.INVALID_ARGUMENT:return bh.INVALID_ARGUMENT;case Cm.NOT_FOUND:return bh.NOT_FOUND;case Cm.ALREADY_EXISTS:return bh.ALREADY_EXISTS;case Cm.PERMISSION_DENIED:return bh.PERMISSION_DENIED;case Cm.FAILED_PRECONDITION:return bh.FAILED_PRECONDITION;case Cm.ABORTED:return bh.ABORTED;case Cm.OUT_OF_RANGE:return bh.OUT_OF_RANGE;case Cm.UNIMPLEMENTED:return bh.UNIMPLEMENTED;case Cm.DATA_LOSS:return bh.DATA_LOSS;default:return yh()}}(Nm=Cm||(Cm={}))[Nm.OK=0]="OK",Nm[Nm.CANCELLED=1]="CANCELLED",Nm[Nm.UNKNOWN=2]="UNKNOWN",Nm[Nm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nm[Nm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nm[Nm.NOT_FOUND=5]="NOT_FOUND",Nm[Nm.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nm[Nm.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nm[Nm.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nm[Nm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nm[Nm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nm[Nm.ABORTED=10]="ABORTED",Nm[Nm.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nm[Nm.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nm[Nm.INTERNAL=13]="INTERNAL",Nm[Nm.UNAVAILABLE=14]="UNAVAILABLE",Nm[Nm.DATA_LOSS=15]="DATA_LOSS";let Pm=null;function Dm(){return new TextEncoder}const Lm=new ah([4294967295,4294967295],0);function Mm(e){const t=Dm().encode(e),n=new oh;return n.update(t),new Uint8Array(n.digest())}function jm(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ah([n,r],0),new ah([i,s],0)]}class Fm{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Um("Invalid padding: ".concat(t));if(n<0)throw new Um("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Um("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Um("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=ah.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(ah.fromNumber(n)));return 1===r.compare(Lm)&&(r=new ah([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Mm(e),[n,r]=jm(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Fm(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=Mm(e),[n,r]=jm(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Um extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bm{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Vm.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Bm(jh.min(),r,new Yd(Ph),Lp(),Hp())}}class Vm{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Vm(n,t,Hp(),Hp(),Hp())}}class zm{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class qm{constructor(e,t){this.targetId=e,this.fe=t}}class Hm{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rf.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Wm{constructor(){this.ge=0,this.pe=Qm(),this.ye=rf.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Hp(),t=Hp(),n=Hp();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:yh()}})),new Vm(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Qm()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,vh(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class Gm{constructor(e){this.Be=e,this.ke=new Map,this.qe=Lp(),this.Qe=Km(),this.Ke=new Yd(Ph)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:yh()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(dp(i))if(0===n){const e=new zh(i.path);this.We(t,e,jf.newNoDocument(e,jh.min()))}else vh(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Pm||Pm.tt(function(e,t,n,r,i){var s,o,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Be.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=lf(n).toUint8Array()}catch(e){if(e instanceof nf)return mh("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Fm(s,r,i)}catch(e){return mh(e instanceof Um?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Be.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Be.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&dp(i.target)){const t=new zh(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,jf.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=Hp();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Bm(e,t,this.Ke,this.qe,n);return this.qe=Lp(),this.Qe=Km(),this.Ke=new Yd(Ph),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Wm,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new $d(Ph),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||fh("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Wm),this.Be.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Km(){return new Yd(zh.comparator)}function Qm(){return new Yd(zh.comparator)}const Ym={asc:"ASCENDING",desc:"DESCENDING"},Jm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xm={and:"AND",or:"OR"};class $m{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zm(e,t){return e.useProto3Json||pd(t)?t:{value:t}}function eg(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function tg(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ng(e,t){return eg(e,t.toTimestamp())}function rg(e){return vh(!!e),jh.fromTimestamp(function(e){const t=of(e);return new Mh(t.seconds,t.nanos)}(e))}function ig(e,t){return sg(e,t).canonicalString()}function sg(e,t){const n=function(e){return new Uh(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function og(e){const t=Uh.fromString(e);return vh(xg(t)),t}function ag(e,t){return ig(e.databaseId,t.path)}function lg(e,t){const n=og(t);if(n.get(1)!==e.databaseId.projectId)throw new _h(bh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new _h(bh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new zh(dg(n))}function cg(e,t){return ig(e.databaseId,t)}function ug(e){const t=og(e);return 4===t.length?Uh.emptyPath():dg(t)}function hg(e){return new Uh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function dg(e){return vh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function fg(e,t,n){return{name:ag(e,t),fields:n.value.mapValue.fields}}function pg(e,t,n){const r=lg(e,t.name),i=rg(t.updateTime),s=t.createTime?rg(t.createTime):jh.min(),o=new Lf({mapValue:{fields:t.fields}}),a=jf.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function mg(e,t){let n;if(t instanceof vm)n={update:fg(e,t.key,t.value)};else if(t instanceof Sm)n={delete:ag(e,t.key)};else if(t instanceof wm)n={update:fg(e,t.key,t.data),updateMask:Ag(t.fieldMask)};else{if(!(t instanceof Im))return yh();n={verify:ag(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof em)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof tm)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof rm)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof sm)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw yh()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ng(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:yh()}(e,t.precondition)),n}function gg(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?um.updateTime(rg(e.updateTime)):void 0!==e.exists?um.exists(e.exists):um.none()}(t.currentDocument):um.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)vh("REQUEST_TIME"===t.setToServerValue),n=new em;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new tm(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new rm(e)}else"increment"in t?n=new sm(e,t.increment):yh();const r=Vh.fromServerFormat(t.fieldPath);return new lm(r,n)}(e,t))):[];if(t.update){t.update.name;const i=lg(e,t.update.name),s=new Lf({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new tf(t.map((e=>Vh.fromServerFormat(e))))}(t.updateMask);return new wm(i,s,e,n,r)}return new vm(i,s,n,r)}if(t.delete){const r=lg(e,t.delete);return new Sm(r,n)}if(t.verify){const r=lg(e,t.verify);return new Im(r,n)}return yh()}function yg(e,t){return{documents:[cg(e,t.path)]}}function vg(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cg(e,i);const s=function(e){if(0!==e.length)return kg(Wf.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Ig(e.field),direction:_g(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Zm(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function wg(e){let t=ug(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){vh(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=bg(e);return t instanceof Wf&&Qf(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Vf(Tg(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,pd(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ff(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Ff(n,t)}(n.endAt)),yp(t,i,o,s,a,"F",l,c)}function bg(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Tg(e.unaryFilter.field);return Hf.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Tg(e.unaryFilter.field);return Hf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Tg(e.unaryFilter.field);return Hf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Tg(e.unaryFilter.field);return Hf.create(i,"!=",{nullValue:"NULL_VALUE"});default:return yh()}}(e):void 0!==e.fieldFilter?function(e){return Hf.create(Tg(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yh()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Wf.create(e.compositeFilter.filters.map((e=>bg(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return yh()}}(e.compositeFilter.op))}(e):yh()}function _g(e){return Ym[e]}function Eg(e){return Jm[e]}function Sg(e){return Xm[e]}function Ig(e){return{fieldPath:e.canonicalString()}}function Tg(e){return Vh.fromServerFormat(e.fieldPath)}function kg(e){return e instanceof Hf?function(e){if("=="===e.op){if(Af(e.value))return{unaryFilter:{field:Ig(e.field),op:"IS_NAN"}};if(kf(e.value))return{unaryFilter:{field:Ig(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Af(e.value))return{unaryFilter:{field:Ig(e.field),op:"IS_NOT_NAN"}};if(kf(e.value))return{unaryFilter:{field:Ig(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ig(e.field),op:Eg(e.op),value:e.value}}}(e):e instanceof Wf?function(e){const t=e.getFilters().map((e=>kg(e)));return 1===t.length?t[0]:{compositeFilter:{op:Sg(e.op),filters:t}}}(e):yh()}function Ag(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function xg(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Cg{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:jh.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:jh.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:rf.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Cg(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cg(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ng{constructor(e){this.ct=e}}function Rg(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Og(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:ag(e,t.key),fields:t.data.value.mapValue.fields,updateTime:eg(e,t.version.toTimestamp()),createTime:eg(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Pg(t.version)};else{if(!t.isUnknownDocument())return yh();r.unknownDocument={path:n.path.toArray(),version:Pg(t.version)}}return r}function Og(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Pg(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Dg(e){const t=new Mh(e.seconds,e.nanoseconds);return jh.fromTimestamp(t)}function Lg(e,t){const n=(t.baseMutations||[]).map((t=>gg(e.ct,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>gg(e.ct,t))),i=Mh.fromMillis(t.localWriteTimeMs);return new Tm(t.batchId,i,n,r)}function Mg(e){const t=Dg(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Dg(e.lastLimboFreeSnapshotVersion):jh.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return vh(1===e.documents.length),Ep(vp(ug(e.documents[0])))}(e.query):function(e){return Ep(wg(e))}(e.query),new Cg(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,rf.fromBase64String(e.resumeToken))}function jg(e,t){const n=Pg(t.snapshotVersion),r=Pg(t.lastLimboFreeSnapshotVersion);let i;i=dp(t.target)?yg(e.ct,t.target):vg(e.ct,t.target).ut;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:up(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Fg(e){const t=wg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Tp(t,t.limit,"L"):t}function Ug(e,t){return new Am(t.largestBatchId,gg(e.ct,t.overlayMutation))}function Bg(e,t){const n=t.path.lastSegment();return[e,yd(t.path.popLast()),n]}function Vg(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:Pg(r.readTime),documentKey:yd(r.documentKey.path),largestBatchId:r.largestBatchId}}class zg{getBundleMetadata(e,t){return qg(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Dg(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return qg(e).put(function(e){return{bundleId:e.id,createTime:Pg(rg(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return Hg(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Fg(e.bundledQuery),readTime:Dg(e.readTime)}}(e)}))}saveNamedQuery(e,t){return Hg(e).put(function(e){return{name:e.name,readTime:Pg(rg(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function qg(e){return Wd(e,"bundles")}function Hg(e){return Wd(e,"namedQueries")}class Wg{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new Wg(e,n)}getOverlay(e,t){return Gg(e).get(Bg(this.userId,t)).next((e=>e?Ug(this.serializer,e):null))}getOverlays(e,t){const n=Up();return td.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new Am(t,i);r.push(this.ht(e,s))})),td.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(yd(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Gg(e).H("collectionPathOverlayIndex",r))})),td.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Up(),i=yd(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Gg(e).W("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=Ug(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Up();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Gg(e).Y({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=Ug(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return Gg(e).put(function(e,t,n){const[r,i,s]=Bg(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:mg(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function Gg(e){return Wd(e,"documentOverlays")}class Kg{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(af(e.integerValue));else if("doubleValue"in e){const n=af(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),md(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(lf(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?Nf(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):yh()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),zh.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function Qg(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Yg(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Qg(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Kg.bt=new Kg;class Jg{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Lt(e){const t=this.Bt(e),n=Yg(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Bt(e),n=Yg(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Xg{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class $g{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Zg{constructor(){this.Gt=new Jg,this.zt=new Xg(this.Gt),this.jt=new $g(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class ey{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new ey(this.indexId,this.documentKey,this.arrayValue,n)}}function ty(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=ny(e.arrayValue,t.arrayValue),0!==n?n:(n=ny(e.directionalValue,t.directionalValue),0!==n?n:zh.comparator(e.documentKey,t.documentKey)))}function ny(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class ry{constructor(e){this.Yt=new $d(((e,t)=>Vh.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(vh(e.collectionGroup===this.collectionId),this.en)return!1;const t=Hh(e);if(void 0!==t&&!this.nn(t))return!1;const n=Wh(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Zt.length||!this.sn(this.Zt[s++],e))return!1}return!0}on(){if(this.en)return null;let e=new $d(Vh.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Gh(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Gh(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Gh(n.field,"asc"===n.dir?0:1)));return new qh(qh.UNKNOWN_ID,this.collectionId,t,Kh.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function iy(e){var t,n;if(vh(e instanceof Hf||e instanceof Wf),e instanceof Hf){if(e instanceof sp){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Hf.create(e.field,"==",t))))||[];return Wf.create(r,"or")}return e}const r=e.filters.map((e=>iy(e)));return Wf.create(r,e.op)}function sy(e){if(0===e.getFilters().length)return[];const t=cy(iy(e));return vh(ly(t)),oy(t)||ay(t)?[t]:t.getFilters()}function oy(e){return e instanceof Hf}function ay(e){return e instanceof Wf&&Qf(e)}function ly(e){return oy(e)||ay(e)||function(e){if(e instanceof Wf&&Kf(e)){for(const t of e.getFilters())if(!oy(t)&&!ay(t))return!1;return!0}return!1}(e)}function cy(e){if(vh(e instanceof Hf||e instanceof Wf),e instanceof Hf)return e;if(1===e.filters.length)return cy(e.filters[0]);const t=e.filters.map((e=>cy(e)));let n=Wf.create(t,e.op);return n=dy(n),ly(n)?n:(vh(n instanceof Wf),vh(Gf(n)),vh(n.filters.length>1),n.filters.reduce(((e,t)=>uy(e,t))))}function uy(e,t){let n;return vh(e instanceof Hf||e instanceof Wf),vh(t instanceof Hf||t instanceof Wf),n=e instanceof Hf?t instanceof Hf?function(e,t){return Wf.create([e,t],"and")}(e,t):hy(e,t):t instanceof Hf?hy(t,e):function(e,t){if(vh(e.filters.length>0&&t.filters.length>0),Gf(e)&&Gf(t))return $f(e,t.getFilters());const n=Kf(e)?e:t,r=Kf(e)?t:e,i=n.filters.map((e=>uy(e,r)));return Wf.create(i,"or")}(e,t),dy(n)}function hy(e,t){if(Gf(t))return $f(t,e.getFilters());{const n=t.filters.map((t=>uy(e,t)));return Wf.create(n,"or")}}function dy(e){if(vh(e instanceof Hf||e instanceof Wf),e instanceof Hf)return e;const t=e.getFilters();if(1===t.length)return dy(t[0]);if(Yf(e))return e;const n=t.map((e=>dy(e))),r=[];return n.forEach((t=>{t instanceof Hf?r.push(t):t instanceof Wf&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Wf.create(r,e.op)}class fy{constructor(){this._n=new py}addToCollectionParentIndex(e,t){return this._n.add(t),td.resolve()}getCollectionParents(e,t){return td.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return td.resolve()}deleteFieldIndex(e,t){return td.resolve()}deleteAllFieldIndexes(e){return td.resolve()}createTargetIndexes(e,t){return td.resolve()}getDocumentsMatchingTarget(e,t){return td.resolve(null)}getIndexType(e,t){return td.resolve(0)}getFieldIndexes(e,t){return td.resolve([])}getNextCollectionGroupToUpdate(e){return td.resolve(null)}getMinOffset(e,t){return td.resolve(Jh.min())}getMinOffsetFromCollectionGroup(e,t){return td.resolve(Jh.min())}updateCollectionGroup(e,t,n){return td.resolve()}updateIndexEntries(e,t){return td.resolve()}}class py{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new $d(Uh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new $d(Uh.comparator)).toArray()}}const my=new Uint8Array(0);class gy{constructor(e,t){this.databaseId=t,this.an=new py,this.un=new Pp((e=>up(e)),((e,t)=>hp(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:yd(r)};return yy(e).put(i)}return td.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Lh(t),""],!1,!0);return yy(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(bd(r.parent))}return n}))}addFieldIndex(e,t){const n=wy(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=by(e);return i.next((e=>{n.put(Vg(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=wy(e),r=by(e),i=vy(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=wy(e),n=vy(e),r=by(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return td.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new ry(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=vy(e);let r=!0;const i=new Map;return td.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Hp();const r=[];return td.forEach(i,((i,s)=>{fh("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(up(t)));const o=function(e,t){const n=Hh(t);if(void 0===n)return null;for(const r of fp(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of Wh(t))for(const t of fp(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of Wh(t)){const t=0===i.kind?pp(e,i.fieldPath,e.startAt):mp(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Ff(n,r)}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of Wh(t)){const t=0===i.kind?mp(e,i.fieldPath,e.endAt):pp(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Ff(n,r)}(s,i),u=this.hn(i,s,l),h=this.hn(i,s,c),d=this.Pn(i,s,a),f=this.In(i.indexId,o,u,l.inclusive,h,c.inclusive,d);return td.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=zh.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return td.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:sy(Wf.create(e.filters,"and")).map((t=>cp(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.Tn(t[u/l]):my,h=this.En(e,a,n[u%l],r),d=this.dn(e,a,i[u%l],s),f=o.map((t=>this.En(e,a,t,!0)));c.push(...this.createRange(h,d,f))}return c}En(e,t,n,r){const i=new ey(e,zh.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new ey(e,zh.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new ry(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return td.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new $d(Vh.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new Zg;for(const r of Wh(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);Kg.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new Zg;return Kg.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new Zg;return Kg.bt.Pt(Sf(this.databaseId,t),n.Ht(function(e){const t=Wh(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new Zg);let i=0;for(const s of Wh(e)){const e=n[i++];for(const n of r)if(this.Vn(t,s.fieldPath)&&Tf(e))r=this.mn(r,s,e);else{const t=n.Ht(s.kind);Kg.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new Zg;n.seed(e.Wt()),Kg.bt.Pt(s,n.Ht(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof Hf&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=wy(e),r=by(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return td.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Kh(t.sequenceNumber,new Jh(Dg(t.readTime),new zh(bd(t.documentKey)),t.largestBatchId)):Kh.empty(),r=e.fields.map((e=>{let[t,n]=e;return new Gh(Vh.fromServerFormat(t),n)}));return new qh(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ph(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=wy(e),i=by(e);return this.gn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>td.forEach(t,(t=>i.put(Vg(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return td.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?td.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),td.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?td.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return vy(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return vy(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=vy(e);let i=new $d(ty);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new ey(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new $d(ty);const r=this.An(t,e);if(null==r)return n;const i=Hh(t);if(null!=i){const s=e.data.field(i.fieldPath);if(Tf(s))for(const i of s.arrayValue.values||[])n=n.add(new ey(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new ey(t.indexId,e.key,my,r));return n}wn(e,t,n,r,i){fh("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=ef(s),l=ef(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=ef(o)):t?(i(a),a=ef(s)):(a=ef(s),l=ef(o))}}(r,i,ty,(r=>{s.push(this.Sn(e,t,n,r))}),(r=>{s.push(this.bn(e,t,n,r))})),td.waitFor(s)}gn(e){let t=1;return by(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>ty(e,t))).filter(((e,t,n)=>!t||0!==ty(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=ty(s,e),i=ty(s,t);if(0===n)r[0]=e.Jt();else if(n>0&&i<0)r.push(s),r.push(s.Jt());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,my,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,my,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return ty(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(_y)}getMinOffset(e,t){return td.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||yh())))).next(_y)}}function yy(e){return Wd(e,"collectionParents")}function vy(e){return Wd(e,"indexEntries")}function wy(e){return Wd(e,"indexConfiguration")}function by(e){return Wd(e,"indexState")}function _y(e){vh(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Xh(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Jh(t.readTime,t.documentKey,n)}const Ey={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Sy{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Sy(e,Sy.DEFAULT_COLLECTION_PERCENTILE,Sy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Iy(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{vh(1===a)})));const c=[];for(const u of n.mutations){const e=Sd(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return td.waitFor(s).next((()=>c))}function Ty(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw yh();t=e.noDocument}return JSON.stringify(t).length}Sy.DEFAULT_COLLECTION_PERCENTILE=10,Sy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sy.DEFAULT=new Sy(41943040,Sy.DEFAULT_COLLECTION_PERCENTILE,Sy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sy.DISABLED=new Sy(-1,0,0);class ky{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){vh(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new ky(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xy(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Cy(e),s=xy(e);return s.add({}).next((o=>{vh("number"==typeof o);const a=new Tm(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>mg(e.ct,t))),i=n.mutations.map((t=>mg(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new $d(((e,t)=>Ph(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Sd(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,Id))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[o]=a.keys()})),td.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return xy(e).get(t).next((e=>e?(vh(e.userId===this.userId),Lg(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?td.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return xy(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(vh(t.batchId>=n),i=Lg(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return xy(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xy(e).W("userMutationsIndex",t).next((e=>e.map((e=>Lg(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Ed(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Cy(e).Y({range:r},((n,r,s)=>{const[o,a,l]=n,c=bd(a);if(o===this.userId&&t.path.isEqual(c))return xy(e).get(l).next((e=>{if(!e)throw yh();vh(e.userId===this.userId),i.push(Lg(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new $d(Ph);const r=[];return t.forEach((t=>{const i=Ed(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Cy(e).Y({range:s},((e,r,i)=>{const[s,o,a]=e,l=bd(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),td.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Ed(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new $d(Ph);return Cy(e).Y({range:s},((e,t,i)=>{const[s,a,l]=e,c=bd(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(l)):i.done()})).next((()=>this.Fn(e,o)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(xy(e).get(t).next((e=>{if(null===e)throw yh();vh(e.userId===this.userId),n.push(Lg(this.serializer,e))})))})),td.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Iy(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),td.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return td.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Cy(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=bd(e[1]);r.push(t)}else n.done()})).next((()=>{vh(0===r.length)}))}))}containsKey(e,t){return Ay(e,this.userId,t)}xn(e){return Ny(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Ay(e,t,n){const r=Ed(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Cy(e).Y({range:s,J:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function xy(e){return Wd(e,"mutations")}function Cy(e){return Wd(e,"documentMutations")}function Ny(e){return Wd(e,"mutationQueues")}class Ry{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ry(0)}static Ln(){return new Ry(-1)}}class Oy{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new Ry(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>jh.fromTimestamp(new Mh(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Py(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(vh(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Py(e).Y(((s,o)=>{const a=Mg(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>td.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Py(e).Y(((e,n)=>{const r=Mg(n);t(r)}))}Bn(e){return Dy(e).get("targetGlobalKey").next((e=>(vh(null!==e),e)))}kn(e,t){return Dy(e).put("targetGlobalKey",t)}qn(e,t){return Py(e).put(jg(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=up(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Py(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=Mg(n);hp(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Ly(e);return t.forEach((t=>{const s=yd(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),td.waitFor(r)}removeMatchingKeys(e,t,n){const r=Ly(e);return td.forEach(t,(t=>{const i=yd(t.path);return td.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Ly(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ly(e);let i=Hp();return r.Y({range:n,J:!0},((e,t,n)=>{const r=bd(e[1]),s=new zh(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=yd(t.path),r=IDBKeyRange.bound([n],[Lh(n)],!1,!0);let i=0;return Ly(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return Py(e).get(t).next((e=>e?Mg(e):null))}}function Py(e){return Wd(e,"targets")}function Dy(e){return Wd(e,"targetGlobal")}function Ly(e){return Wd(e,"targetDocuments")}function My(e,t){let[n,r]=e,[i,s]=t;const o=Ph(n,i);return 0===o?Ph(r,s):o}class jy{constructor(e){this.Kn=e,this.buffer=new $d(My),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();My(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Fy{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){fh("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){od(e)?fh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await ed(e)}await this.zn(3e5)}))}}class Uy{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return td.resolve(fd._e);const n=new jy(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(fh("LruGarbageCollector","Garbage collection skipped; disabled"),td.resolve(Ey)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(fh("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Ey):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(fh("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),dh()<=pt.DEBUG&&fh("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),td.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function By(e,t){return new Uy(e,t)}class Vy{constructor(e,t){this.db=e,this.garbageCollector=By(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return zy(e,n)}removeReference(e,t,n){return zy(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return zy(e,t)}er(e,t){return function(e,t){let n=!1;return Ny(e).Z((r=>Ay(e,r,t).next((e=>(e&&(n=!0),td.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((s,o)=>{if(o<=t){const t=this.er(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,jh.min()),Ly(e).delete(function(e){return[0,yd(e.path)]}(s)))))}));r.push(t)}})).next((()=>td.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return zy(e,t)}Xn(e,t){const n=Ly(e);let r,i=fd._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:l}=n;0===s?(i!==fd._e&&t(new zh(bd(r)),i),i=l,r=a):i=fd._e})).next((()=>{i!==fd._e&&t(new zh(bd(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function zy(e,t){return Ly(e).put(function(e,t){return{targetId:0,path:yd(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class qy{constructor(){this.changes=new Pp((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jf.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?td.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Hy{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Qy(e).put(n)}removeEntry(e,t,n){return Qy(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Og(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=jf.newInvalidDocument(t);return Qy(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Yy(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:jf.newInvalidDocument(t)};return Qy(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Yy(t))},((e,r)=>{n={document:this.nr(t,r),size:Ty(r)}})).next((()=>n))}getEntries(e,t){let n=Lp();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=Lp(),r=new Yd(zh.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,Ty(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return td.resolve();let r=new $d(Xy);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Yy(r.first()),Yy(r.last())),s=r.getIterator();let o=s.getNext();return Qy(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=zh.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&Xy(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.U(Yy(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),Og(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qy(e).W(IDBKeyRange.bound(o,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Lp();for(const i of e){const e=this.nr(zh.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Cp(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Lp();const s=Jy(t,n),o=Jy(t,Jh.max());return Qy(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.nr(zh.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Gy(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Ky(e).get("remoteDocumentGlobalKey").next((e=>(vh(!!e),e)))}tr(e,t){return Ky(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=pg(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=zh.fromSegments(t.noDocument.path),r=Dg(t.noDocument.readTime);n=jf.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return yh();{const e=zh.fromSegments(t.unknownDocument.path),r=Dg(t.unknownDocument.version);n=jf.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Mh(e[0],e[1]);return jh.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(jh.min()))return e}return jf.newInvalidDocument(e)}}function Wy(e){return new Hy(e)}class Gy extends qy{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new Pp((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new $d(((e,t)=>Ph(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=Rg(this.ar.serializer,s);r=r.add(i.path.popLast());const l=Ty(a);n+=l-o.size,t.push(this.ar.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=Rg(this.ar.serializer,s.convertToNoDocument(jh.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),td.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((e=>{let{documents:t,_r:n}=e;return n.forEach(((e,n)=>{this.ur.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function Ky(e){return Wd(e,"remoteDocumentGlobal")}function Qy(e){return Wd(e,"remoteDocumentsV14")}function Yy(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Jy(e,t){const n=t.documentKey.path.toArray();return[e,Og(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Xy(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ph(n[s],r[s]),i)return i;return i=Ph(n.length,r.length),i||(i=Ph(n[n.length-2],r[r.length-2]),i||Ph(n[n.length-1],r[r.length-1]))}class $y{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Zy{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&mm(n.mutation,e,tf.empty(),Mh.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Hp()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hp();const r=Up();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=jp();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Up();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Hp())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Lp();const s=Vp(),o=Vp();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof wm)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),mm(o.mutation,t,o.mutation.getFieldMask(),Mh.now())):s.set(t.key,tf.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new $y(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Vp();let r=new Yd(((e,t)=>e-t)),i=Hp();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||tf.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Hp()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=Bp();l.forEach((e=>{if(!i.has(e)){const r=fm(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return td.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return zh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):bp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):td.resolve(Up());let o=-1,a=i;return s.next((t=>td.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?td.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Hp()))).next((e=>({batchId:o,changes:Fp(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new zh(t)).next((e=>{let t=jp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=jp();return this.indexManager.getCollectionParents(e,i).next((o=>td.forEach(o,(o=>{const a=function(e,t){return new gp(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,jf.newInvalidDocument(r)))}));let n=jp();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&mm(s.mutation,r,tf.empty(),Mh.now()),Cp(t,r)&&(n=n.insert(e,r))})),n}))}}class ev{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return td.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:rg(e.createTime)}}(t)),td.resolve()}getNamedQuery(e,t){return td.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Fg(e.bundledQuery),readTime:rg(e.readTime)}}(t)),td.resolve()}}class tv{constructor(){this.overlays=new Yd(zh.comparator),this.hr=new Map}getOverlay(e,t){return td.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Up();return td.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),td.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),td.resolve()}getOverlaysForCollection(e,t,n){const r=Up(),i=t.length+1,s=new zh(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return td.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Yd(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Up(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Up(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return td.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Am(t,n));let i=this.hr.get(t);void 0===i&&(i=Hp(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class nv{constructor(){this.Pr=new $d(rv.Ir),this.Tr=new $d(rv.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new rv(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new rv(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new zh(new Uh([])),n=new rv(t,e),r=new rv(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new zh(new Uh([])),n=new rv(t,e),r=new rv(t,e+1);let i=Hp();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new rv(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class rv{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return zh.comparator(e.key,t.key)||Ph(e.pr,t.pr)}static Er(e,t){return Ph(e.pr,t.pr)||zh.comparator(e.key,t.key)}}class iv{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new $d(rv.Ir)}checkEmpty(e){return td.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Tm(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.wr=this.wr.add(new rv(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return td.resolve(s)}lookupMutationBatch(e,t){return td.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return td.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return td.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return td.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new rv(t,0),r=new rv(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),td.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new $d(Ph);return t.forEach((e=>{const t=new rv(e,0),r=new rv(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),td.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;zh.isDocumentKey(i)||(i=i.child(""));const s=new rv(new zh(i),0);let o=new $d(Ph);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),s),td.resolve(this.Dr(o))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){vh(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return td.forEach(t.mutations,(r=>{const i=new rv(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new rv(t,0),r=this.wr.firstAfterOrEqual(n);return td.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,td.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class sv{constructor(e){this.vr=e,this.docs=new Yd(zh.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return td.resolve(n?n.document.mutableCopy():jf.newInvalidDocument(t))}getEntries(e,t){let n=Lp();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():jf.newInvalidDocument(e))})),td.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Lp();const s=t.path,o=new zh(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Xh(Yh(o),n)<=0||(r.has(o.key)||Cp(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return td.resolve(i)}getAllFromCollectionGroup(e,t,n,r){yh()}Fr(e,t){return td.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new ov(this)}getSize(e){return td.resolve(this.size)}}class ov extends qy{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),td.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class av{constructor(e){this.persistence=e,this.Mr=new Pp((e=>up(e)),hp),this.lastRemoteSnapshotVersion=jh.min(),this.highestTargetId=0,this.Or=0,this.Nr=new nv,this.targetCount=0,this.Lr=Ry.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),td.resolve()}getLastRemoteSnapshotVersion(e){return td.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return td.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),td.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),td.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new Ry(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,td.resolve()}updateTargetData(e,t){return this.qn(t),td.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,td.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),td.waitFor(i).next((()=>r))}getTargetCount(e){return td.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return td.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),td.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),td.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),td.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return td.resolve(n)}containsKey(e,t){return td.resolve(this.Nr.containsKey(t))}}class lv{constructor(e,t){this.Br={},this.overlays={},this.kr=new fd(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new av(this),this.indexManager=new fy,this.remoteDocumentCache=function(e){return new sv(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Ng(t),this.$r=new ev(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new iv(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){fh("MemoryPersistence","Starting transaction:",e);const r=new cv(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return td.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class cv extends Zh{constructor(e){super(),this.currentSequenceNumber=e}}class uv{constructor(e){this.persistence=e,this.zr=new nv,this.jr=null}static Hr(e){return new uv(e)}get Jr(){if(this.jr)return this.jr;throw yh()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),td.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),td.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),td.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return td.forEach(this.Jr,(n=>{const r=zh.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,jh.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return td.or([()=>td.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class hv{constructor(e){this.serializer=e}N(e,t,n,r){const i=new nd("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_d,{unique:!0}),e.createObjectStore("documentMutations")}(e),dv(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=td.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),dv(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:jh.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_d,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return td.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Xr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(s=s.next((()=>this.ti(i)))),n<8&&r>=8&&(s=s.next((()=>this.ni(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ri(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Md});t.createIndex("collectionPathOverlayIndex",jd,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Fd,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Td});t.createIndex("documentKeyIndex",kd),t.createIndex("collectionGroupIndex",Ad)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.si(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Od}).createIndex("sequenceNumberIndex",Pd,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Dd}).createIndex("documentKeyIndex",Ld,{unique:!1})}(e)))),s}ei(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=Ty(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>td.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>td.forEach(n,(n=>{vh(n.userId===t.userId);const r=Lg(this.serializer,n);return Iy(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const s=new Uh(n),o=function(e){return[0,yd(e)]}(s);r.push(t.get(o).next((n=>n?td.resolve():(n=>t.put({targetId:0,path:yd(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>td.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:Rd});const n=t.store("collectionParents"),r=new py,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:yd(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new Uh(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,s]=e;const o=bd(r);return i(o.popLast())}))))}ri(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=Mg(n),i=jg(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new zh(Uh.fromString(e.document.name).popFirst(5)):e.noDocument?zh.fromSegments(e.noDocument.path):e.unknownDocument?zh.fromSegments(e.unknownDocument.path):yh()}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>td.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=Wy(this.serializer),i=new lv(uv.Hr,this.serializer.ct);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Hp();Lg(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),td.forEach(n,((e,n)=>{const s=new ch(n),o=Wg.lt(this.serializer,s),a=i.getIndexManager(s),l=ky.lt(s,this.serializer,a,i.referenceDelegate);return new Zy(r,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new Hd(t,fd._e),e).next()}))}))}}function dv(e){e.createObjectStore("targetDocuments",{keyPath:Cd}).createIndex("documentTargetsIndex",Nd,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",xd,{unique:!0}),e.createObjectStore("targetGlobal")}const fv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class pv{constructor(e,t,n,r,i,s,o,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=s,this.document=o,this._i=l,this.ai=c,this.ui=u,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!pv.D())throw new _h(bh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Vy(this,r),this.Ti=t+"main",this.serializer=new Ng(a),this.Ei=new rd(this.Ti,this.ui,new hv(this.serializer)),this.Qr=new Oy(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Wy(this.serializer),this.$r=new zg,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===c&&ph("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _h(bh.FAILED_PRECONDITION,fv);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new fd(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>gv(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(od(e))return fh("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return fh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return mv(e).get("owner").next((e=>td.resolve(this.Si(e))))}bi(e){return gv(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Wd(e,"clientMetadata");return t.W().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return td.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?td.resolve(!0):mv(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new _h(bh.FAILED_PRECONDITION,fv);return!1}}return!(!this.networkEnabled||!this.inForeground)||gv(e).W().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&fh("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Hd(e,fd._e);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Li()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>gv(e).W().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return ky.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new gy(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Wg.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){fh("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?qd:14===e?zd:13===e?Vd:12===e?Bd:11===e?Ud:void yh()}(this.ui);let s;return this.Ei.runTransaction(e,r,i,(r=>(s=new Hd(r,this.kr?this.kr.next():fd._e),"readwrite-primary"===t?this.gi(s).next((e=>!!e||this.pi(s))).next((t=>{if(!t)throw ph("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new _h(bh.FAILED_PRECONDITION,$h);return n(s)})).next((e=>this.wi(s).next((()=>e)))):this.ki(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}ki(e){return mv(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new _h(bh.FAILED_PRECONDITION,fv)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mv(e).put("owner",t)}static D(){return rd.D()}yi(e){const t=mv(e);return t.get("owner").next((e=>this.Si(e)?(fh("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):td.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(ph("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;Qe()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return fh("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return ph("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(rS){ph("Failed to set zombie client id.",rS)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(rS){}}Fi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function mv(e){return Wd(e,"owner")}function gv(e){return Wd(e,"clientMetadata")}function yv(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class vv{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=Hp(),r=Hp();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new vv(e,t.fromCache,n,r)}}class wv{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bv{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=Qe()?8:rd.v(qe())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new wv;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(dh()<=pt.DEBUG&&fh("QueryEngine","SDK will not create cache indexes for query:",xp(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),td.resolve()):(dh()<=pt.DEBUG&&fh("QueryEngine","Query:",xp(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(dh()<=pt.DEBUG&&fh("QueryEngine","The SDK decides to create cache indexes for query:",xp(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ep(t))):td.resolve())}ji(e,t){if(wp(t))return td.resolve(null);let n=Ep(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Tp(t,null,"F"),n=Ep(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Hp(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,Tp(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return wp(t)||r.isEqual(jh.min())?td.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?td.resolve(null):(dh()<=pt.DEBUG&&fh("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xp(t)),this.es(e,s,t,Qh(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new $d(Rp(e));return t.forEach(((t,r)=>{Cp(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return dh()<=pt.DEBUG&&fh("QueryEngine","Using full collection scan to execute query:",xp(t)),this.zi.getDocumentsMatchingQuery(e,t,Jh.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class _v{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new Yd(Ph),this.rs=new Pp((e=>up(e)),hp),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zy(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function Ev(e,t,n,r){return new _v(e,t,n,r)}async function Sv(e,t){const n=wh(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Hp();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Iv(e){const t=wh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function Tv(e,t,n){let r=Hp(),i=Hp();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Lp();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(jh.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):fh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function kv(e,t){const n=wh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Av(e,t){const n=wh(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,td.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Cg(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function xv(e,t,n){const r=wh(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!od(e))throw e;fh("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function Cv(e,t,n){const r=wh(e);let i=jh.min(),s=Hp();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=wh(e),i=r.rs.get(n);return void 0!==i?td.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Ep(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:jh.min(),n?s:Hp()))).next((e=>(Ov(r,Np(t),e),{documents:e,hs:s})))))}function Nv(e,t){const n=wh(e),r=wh(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function Rv(e,t){const n=wh(e),r=n.ss.get(t)||jh.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,Qh(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(Ov(n,t,e),e)))}function Ov(e,t,n){let r=e.ss.get(t)||jh.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function Pv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hp();const r=await Av(e,Ep(Fg(t.bundledQuery))),i=wh(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=rg(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(e,t);const o=r.withResumeToken(rf.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(o.targetId,o),i.Qr.updateTargetData(e,o).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function Dv(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Lv(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Mv(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class jv{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new _h(r.error.code,r.error.message))),s?new jv(e,t,r.state,i):(ph("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Fv{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new _h(n.error.code,n.error.message))),i?new Fv(e,n.state,r):(ph("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Uv{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Gp();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=gd(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new Uv(e,i):(ph("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class Bv{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Bv(t.clientId,t.onlineState):(ph("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class Vv{constructor(){this.activeTargetIds=Gp()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zv{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Yd(Ph),this.started=!1,this.ys=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=Dv(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Vv),this.bs=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(Dv(this.persistenceKey,n));if(e){const t=Uv.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,t,n){this.Ls(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Mv(this.persistenceKey,e));if(n){const r=Fv.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Mv(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return fh("SharedClientState","READ",e,t),t}setItem(e,t){fh("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){fh("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(fh("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void ph("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=fd._e;if(null!=e)try{const n=JSON.parse(e);vh("number"==typeof n),t=n}catch(e){ph("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==fd._e&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,t,n){const r=new jv(this.currentUser,e,t,n),i=Lv(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Bs(e){const t=Lv(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=Mv(this.persistenceKey,e),i=new Fv(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return Uv.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return jv.Es(new ch(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return Fv.Es(r,t)}xs(e){return Bv.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);fh("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.eo(s,o).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=Gp();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class qv{constructor(){this.no=new Vv,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Vv,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Hv{io(e){}shutdown(){}}class Wv{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){fh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){fh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Gv=null;function Kv(){return null===Gv?Gv=268435456+Math.round(2147483648*Math.random()):Gv++,"0x"+Gv.toString(16)}const Qv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Yv{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Jv="WebChannelConnection";class Xv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const s=Kv(),o=this.bo(e,t.toUriEncodedString());fh("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,o,a,n).then((t=>(fh("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw mh("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}vo(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+uh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=Qv[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=Kv();return new Promise(((s,o)=>{const a=new sh;a.setWithCredentials(!0),a.listenOnce(th.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case eh.NO_ERROR:const t=a.getResponseJson();fh(Jv,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case eh.TIMEOUT:fh(Jv,"RPC '".concat(e,"' ").concat(i," timed out")),o(new _h(bh.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const n=a.getStatus();if(fh(Jv,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(bh).indexOf(t)>=0?t:bh.UNKNOWN}(t.status);o(new _h(e,t.message))}else o(new _h(bh.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new _h(bh.UNAVAILABLE,"Connection failed."));break;default:yh()}}finally{fh(Jv,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);fh(Jv,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=Kv(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=$u(),o=Zu(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");fh(Jv,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new Yv({lo:t=>{d?fh(Jv,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(fh(Jv,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),fh(Jv,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,ih.EventType.OPEN,(()=>{d||fh(Jv,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,ih.EventType.CLOSE,(()=>{d||(d=!0,fh(Jv,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,ih.EventType.ERROR,(t=>{d||(d=!0,mh(Jv,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new _h(bh.UNAVAILABLE,"The operation could not be completed")))})),p(u,ih.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];vh(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){fh(Jv,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=Cm[e];if(void 0!==t)return Om(t)}(t),i=o.message;void 0===n&&(n=bh.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.Vo(new _h(n,i)),u.close()}else fh(Jv,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(o,nh.STAT_EVENT,(t=>{t.stat===rh.PROXY?fh(Jv,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===rh.NOPROXY&&fh(Jv,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function $v(){return"undefined"!=typeof window?window:null}function Zv(){return"undefined"!=typeof document?document:null}function ew(e){return new $m(e,!0)}class tw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&fh("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Lo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class nw{constructor(e,t,n,r,i,s,o,a){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new tw(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===bh.RESOURCE_EXHAUSTED?(ph(t.toString()),ph("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===bh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new _h(bh.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return fh("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(fh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class rw extends nw{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:yh()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(vh(void 0===t||"string"==typeof t),rf.fromBase64String(t||"")):(vh(void 0===t||t instanceof Uint8Array),rf.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?bh.UNKNOWN:Om(e.code);return new _h(t,e.message||"")}(o);n=new Hm(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=lg(e,r.document.name),s=rg(r.document.updateTime),o=r.document.createTime?rg(r.document.createTime):jh.min(),a=new Lf({mapValue:{fields:r.document.fields}}),l=jf.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new zm(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=lg(e,r.document),s=r.readTime?rg(r.readTime):jh.min(),o=jf.newNoDocument(i,s),a=r.removedTargetIds||[];n=new zm([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=lg(e,r.document),s=r.removedTargetIds||[];n=new zm([],s,i,null)}else{if(!("filter"in t))return yh();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new xm(r,i),o=e.targetId;n=new qm(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return jh.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?jh.min():t.readTime?rg(t.readTime):jh.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=hg(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=dp(r)?{documents:yg(e,r)}:{query:vg(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=tg(e,t.resumeToken);const r=Zm(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(jh.min())>0){n.readTime=eg(e,t.snapshotVersion.toTimestamp());const r=Zm(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yh()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=hg(this.serializer),t.removeTarget=e,this.t_(t)}}class iw extends nw{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(vh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(vh(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?rg(e.updateTime):rg(t);return n.isEqual(jh.min())&&(n=rg(t)),new cm(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=rg(e.commitTime);return this.listener.T_(n,t)}return vh(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=hg(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>mg(this.serializer,e)))};this.t_(t)}}class sw extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new _h(bh.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.So(e,sg(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===bh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new _h(bh.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.vo(e,sg(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===bh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new _h(bh.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class ow{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(ph(t),this.g_=!1):fh("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class aw{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{gw(this)&&(fh("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=wh(e);t.v_.add(4),await cw(t),t.x_.set("Unknown"),t.v_.delete(4),await lw(t)}(this))}))})),this.x_=new ow(n,r)}}async function lw(e){if(gw(e))for(const t of e.F_)await t(!0)}async function cw(e){for(const t of e.F_)await t(!1)}function uw(e,t){const n=wh(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),mw(n)?pw(n):Dw(n).Jo()&&dw(n,t))}function hw(e,t){const n=wh(e),r=Dw(n);n.C_.delete(t),r.Jo()&&fw(n,t),0===n.C_.size&&(r.Jo()?r.Xo():gw(n)&&n.x_.set("Unknown"))}function dw(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(jh.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Dw(e).c_(t)}function fw(e,t){e.O_.Oe(t),Dw(e).l_(t)}function pw(e){e.O_=new Gm({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Dw(e).start(),e.x_.p_()}function mw(e){return gw(e)&&!Dw(e).Ho()&&e.C_.size>0}function gw(e){return 0===wh(e).v_.size}function yw(e){e.O_=void 0}async function vw(e){e.C_.forEach(((t,n)=>{dw(e,t)}))}async function ww(e,t){yw(e),mw(e)?(e.x_.S_(t),pw(e)):e.x_.set("Unknown")}async function bw(e,t,n){if(e.x_.set("Online"),t instanceof Hm&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){fh("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await _w(e,n)}else if(t instanceof zm?e.O_.$e(t):t instanceof qm?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(jh.min()))try{const t=await Iv(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(rf.EMPTY_BYTE_STRING,r.snapshotVersion)),fw(e,t);const i=new Cg(r.target,t,n,r.sequenceNumber);dw(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){fh("RemoteStore","Failed to raise snapshot:",t),await _w(e,t)}}async function _w(e,t,n){if(!od(t))throw t;e.v_.add(1),await cw(e),e.x_.set("Offline"),n||(n=()=>Iv(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{fh("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await lw(e)}))}function Ew(e,t){return t().catch((n=>_w(e,n,t)))}async function Sw(e){const t=wh(e),n=Lw(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;Iw(t);)try{const e=await kv(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,Tw(t,e)}catch(e){await _w(t,e)}kw(t)&&Aw(t)}function Iw(e){return gw(e)&&e.D_.length<10}function Tw(e,t){e.D_.push(t);const n=Lw(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function kw(e){return gw(e)&&!Lw(e).Ho()&&e.D_.length>0}function Aw(e){Lw(e).start()}async function xw(e){Lw(e).d_()}async function Cw(e){const t=Lw(e);for(const n of e.D_)t.I_(n.mutations)}async function Nw(e,t,n){const r=e.D_.shift(),i=km.from(r,t,n);await Ew(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Sw(e)}async function Rw(e,t){t&&Lw(e).P_&&await async function(e,t){if(function(e){return Rm(e)&&e!==bh.ABORTED}(t.code)){const n=e.D_.shift();Lw(e).Zo(),await Ew(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Sw(e)}}(e,t),kw(e)&&Aw(e)}async function Ow(e,t){const n=wh(e);n.asyncQueue.verifyOperationInProgress(),fh("RemoteStore","RemoteStore received new credentials");const r=gw(n);n.v_.add(3),await cw(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await lw(n)}async function Pw(e,t){const n=wh(e);t?(n.v_.delete(2),await lw(n)):t||(n.v_.add(2),await cw(n),n.x_.set("Unknown"))}function Dw(e){return e.N_||(e.N_=function(e,t,n){const r=wh(e);return r.R_(),new rw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:vw.bind(null,e),To:ww.bind(null,e),u_:bw.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),mw(e)?pw(e):e.x_.set("Unknown")):(await e.N_.stop(),yw(e))}))),e.N_}function Lw(e){return e.L_||(e.L_=function(e,t,n){const r=wh(e);return r.R_(),new iw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:xw.bind(null,e),To:Rw.bind(null,e),E_:Cw.bind(null,e),T_:Nw.bind(null,e)}),e.F_.push((async t=>{t?(e.L_.Zo(),await Sw(e)):(await e.L_.stop(),e.D_.length>0&&(fh("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.L_}class Mw{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Eh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Mw(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _h(bh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jw(e,t){if(ph("AsyncQueue","".concat(t,": ").concat(e)),od(e))return new _h(bh.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Fw{constructor(e){this.comparator=e?(t,n)=>e(t,n)||zh.comparator(t.key,n.key):(e,t)=>zh.comparator(e.key,t.key),this.keyedMap=jp(),this.sortedSet=new Yd(this.comparator)}static emptySet(e){return new Fw(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fw))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Fw;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Uw{constructor(){this.B_=new Yd(zh.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):yh():this.B_=this.B_.insert(t,e)}k_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Bw{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Bw(e,t,Fw.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Vw{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some((e=>e.U_()))}}class zw{constructor(){this.queries=new Pp((e=>Ap(e)),kp),this.onlineState="Unknown",this.W_=new Set}}async function qw(e,t){const n=wh(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.K_()&&t.U_()&&(r=2):(s=new Vw,r=t.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=jw(e,"Initialization of query '".concat(xp(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.Q_.push(t),t.G_(n.onlineState),s.q_&&t.z_(s.q_)&&Kw(n)}async function Hw(e,t){const n=wh(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Q_.indexOf(t);e>=0&&(s.Q_.splice(e,1),0===s.Q_.length?i=t.U_()?0:1:!s.K_()&&t.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ww(e,t){const n=wh(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.z_(i)&&(r=!0);t.q_=i}}r&&Kw(n)}function Gw(e,t,n){const r=wh(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function Kw(e){e.W_.forEach((e=>{e.next()}))}var Qw,Yw;(Yw=Qw||(Qw={})).j_="default",Yw.Cache="cache";class Jw{constructor(e,t,n){this.query=e,this.H_=t,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=n||{}}z_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Bw(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),t=!0):this.X_(e,this.onlineState)&&(this.ea(e),t=!0),this.Y_=e,t}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let t=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),t=!0),t}X_(e,t){if(!e.fromCache)return!0;if(!this.U_())return!0;const n="Offline"!==t;return(!this.options.ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Z_(e){if(e.docChanges.length>0)return!0;const t=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ea(e){e=Bw.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Qw.Cache}}class Xw{constructor(e,t){this.na=e,this.byteLength=t}ra(){return"metadata"in this.na}}class $w{constructor(e){this.serializer=e}Ps(e){return lg(this.serializer,e)}Is(e){return e.metadata.exists?pg(this.serializer,e.document,!1):jf.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return rg(e)}}class Zw{constructor(e,t,n){this.ia=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=eb(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++t;const n=Uh.fromString(e.na.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}oa(e){const t=new Map,n=new $w(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Hp()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=wh(e);let s=Hp(),o=Lp();for(const c of n){const e=t.Ps(c.metadata.name);c.document&&(s=s.add(e));const n=t.Is(c);n.setReadTime(t.Ts(c.metadata.readTime)),o=o.insert(e,n)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=await Av(i,function(e){return Ep(vp(Uh.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Tv(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Qr.addMatchingKeys(e,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new $w(this.serializer),this.documents,this.ia.id),t=this.oa(this.documents);for(const n of this.queries)await Pv(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,_a:this.collectionGroups,aa:e}}}function eb(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class tb{constructor(e){this.key=e}}class nb{constructor(e){this.key=e}}class rb{constructor(e,t){this.query=e,this.ua=t,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Hp(),this.mutatedKeys=Hp(),this.ha=Rp(e),this.Pa=new Fw(this.ha)}get Ia(){return this.ua}Ta(e,t){const n=t?t.Ea:new Uw,r=t?t.Pa:this.Pa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Cp(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.da(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.ha(u,a)>0||l&&this.ha(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Pa:s,Ea:n,Xi:o,mutatedKeys:i}}da(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const s=e.Ea.k_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yh()}};return n(e)-n(t)}(e.type,t.type)||this.ha(e.doc,t.doc))),this.Aa(n),r=null!=r&&r;const o=t&&!r?this.Ra():[],a=0===this.la.size&&this.current&&!r?1:0,l=a!==this.ca;return this.ca=a,0!==s.length||l?{snapshot:new Bw(this.query,e.Pa,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Va:o}:{Va:o}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new Uw,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach((e=>this.ua=this.ua.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ua=this.ua.delete(e))),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=Hp(),this.Pa.forEach((e=>{this.ma(e.key)&&(this.la=this.la.add(e.key))}));const t=[];return e.forEach((e=>{this.la.has(e)||t.push(new nb(e))})),this.la.forEach((n=>{e.has(n)||t.push(new tb(n))})),t}fa(e){this.ua=e.hs,this.la=Hp();const t=this.Ta(e.documents);return this.applyChanges(t,!0)}ga(){return Bw.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class ib{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class sb{constructor(e){this.key=e,this.pa=!1}}class ob{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new Pp((e=>Ap(e)),kp),this.Sa=new Map,this.ba=new Set,this.Da=new Yd(zh.comparator),this.Ca=new Map,this.va=new nv,this.Fa={},this.Ma=new Map,this.xa=Ry.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}async function ab(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Mb(e);let i;const s=r.wa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await cb(r,t,n,!0),i}async function lb(e,t){const n=Mb(e);await cb(n,t,!0,!1)}async function cb(e,t,n,r){const i=await Av(e.localStore,Ep(t)),s=i.targetId,o=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await ub(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&uw(e.remoteStore,i),a}async function ub(e,t,n,r,i){e.Na=(t,n,r)=>async function(e,t,n,r){let i=t.view.Ta(n);i.Xi&&(i=await Cv(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Ta(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return Eb(e,t.targetId,a.Va),a.snapshot}(e,t,n,r);const s=await Cv(e.localStore,t,!0),o=new rb(t,s.hs),a=o.Ta(s.documents),l=Vm.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);Eb(e,n,c.Va);const u=new ib(t,n,o);return e.wa.set(t,u),e.Sa.has(n)?e.Sa.get(n).push(t):e.Sa.set(n,[t]),c.snapshot}async function hb(e,t,n){const r=wh(e),i=r.wa.get(t),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter((e=>!kp(e,t)))),void r.wa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await xv(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&hw(r.remoteStore,i.targetId),bb(r,i.targetId)})).catch(ed)):(bb(r,i.targetId),await xv(r.localStore,i.targetId,!0))}async function db(e,t){const n=wh(e),r=n.wa.get(t),i=n.Sa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hw(n.remoteStore,r.targetId))}async function fb(e,t){const n=wh(e);try{const e=await function(e,t){const n=wh(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(rf.EMPTY_BYTE_STRING,jh.min()).withLastLimboFreeSnapshotVersion(jh.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Qr.updateTargetData(e,c))}));let a=Lp(),l=Hp();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Tv(e,s,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!r.isEqual(jh.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return td.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ca.get(t);r&&(vh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.pa=!0:e.modifiedDocuments.size>0?vh(r.pa):e.removedDocuments.size>0&&(vh(r.pa),r.pa=!1))})),await Tb(n,e,t)}catch(e){await ed(e)}}function pb(e,t,n){const r=wh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wa.forEach(((n,r)=>{const i=r.view.G_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=wh(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.G_(t)&&(r=!0)})),r&&Kw(n)}(r.eventManager,t),e.length&&r.ya.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function mb(e,t,n){const r=wh(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ca.get(t),s=i&&i.key;if(s){let e=new Yd(zh.comparator);e=e.insert(s,jf.newNoDocument(s,jh.min()));const n=Hp().add(s),i=new Bm(jh.min(),new Map,new Yd(Ph),e,n);await fb(r,i),r.Da=r.Da.remove(s),r.Ca.delete(t),Ib(r)}else await xv(r.localStore,t,!1).then((()=>bb(r,t,n))).catch(ed)}async function gb(e,t){const n=wh(e),r=t.batch.batchId;try{const e=await function(e,t){const n=wh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=td.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);vh(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Hp();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);wb(n,r,null),vb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tb(n,e)}catch(e){await ed(e)}}async function yb(e,t,n){const r=wh(e);try{const e=await function(e,t){const n=wh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(vh(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);wb(r,t,n),vb(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Tb(r,e)}catch(n){await ed(n)}}function vb(e,t){(e.Ma.get(t)||[]).forEach((e=>{e.resolve()})),e.Ma.delete(t)}function wb(e,t,n){const r=wh(e);let i=r.Fa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Fa[r.currentUser.toKey()]=i}}function bb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Sa.get(t))e.wa.delete(r),n&&e.ya.La(r,n);e.Sa.delete(t),e.isPrimaryClient&&e.va.Vr(t).forEach((t=>{e.va.containsKey(t)||_b(e,t)}))}function _b(e,t){e.ba.delete(t.path.canonicalString());const n=e.Da.get(t);null!==n&&(hw(e.remoteStore,n),e.Da=e.Da.remove(t),e.Ca.delete(n),Ib(e))}function Eb(e,t,n){for(const r of n)r instanceof tb?(e.va.addReference(r.key,t),Sb(e,r)):r instanceof nb?(fh("SyncEngine","Document no longer in limbo: "+r.key),e.va.removeReference(r.key,t),e.va.containsKey(r.key)||_b(e,r.key)):yh()}function Sb(e,t){const n=t.key,r=n.path.canonicalString();e.Da.get(n)||e.ba.has(r)||(fh("SyncEngine","New document in limbo: "+n),e.ba.add(r),Ib(e))}function Ib(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){const t=e.ba.values().next().value;e.ba.delete(t);const n=new zh(Uh.fromString(t)),r=e.xa.next();e.Ca.set(r,new sb(n)),e.Da=e.Da.insert(n,r),uw(e.remoteStore,new Cg(Ep(vp(n.path)),r,"TargetPurposeLimboResolution",fd._e))}}async function Tb(e,t,n){const r=wh(e),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach(((e,a)=>{o.push(r.Na(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=vv.Ki(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.ya.u_(i),await async function(e,t){const n=wh(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>td.forEach(t,(t=>td.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>td.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!od(e))throw e;fh("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function kb(e,t){const n=wh(e);if(!n.currentUser.isEqual(t)){fh("SyncEngine","User change. New user:",t.toKey());const e=await Sv(n.localStore,t);n.currentUser=t,function(e,t){e.Ma.forEach((e=>{e.forEach((e=>{e.reject(new _h(bh.CANCELLED,t))}))})),e.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Tb(n,e.us)}}function Ab(e,t){const n=wh(e),r=n.Ca.get(t);if(r&&r.pa)return Hp().add(r.key);{let e=Hp();const r=n.Sa.get(t);if(!r)return e;for(const t of r){const r=n.wa.get(t);e=e.unionWith(r.view.Ia)}return e}}async function xb(e,t){const n=wh(e),r=await Cv(n.localStore,t.query,!0),i=t.view.fa(r);return n.isPrimaryClient&&Eb(n,t.targetId,i.Va),i}async function Cb(e,t){const n=wh(e);return Rv(n.localStore,t).then((e=>Tb(n,e)))}async function Nb(e,t,n,r){const i=wh(e),s=await function(e,t){const n=wh(e),r=wh(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):td.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await Sw(i.remoteStore):"acknowledged"===n||"rejected"===n?(wb(i,t,r||null),vb(i,t),function(e,t){wh(wh(e).mutationQueue).Mn(t)}(i.localStore,t)):yh(),await Tb(i,s)):fh("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Rb(e,t,n){const r=wh(e),i=[],s=[];for(const o of t){let e;const t=r.Sa.get(o);if(t&&0!==t.length){e=await Av(r.localStore,Ep(t[0]));for(const e of t){const t=r.wa.get(e),n=await xb(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await Nv(r.localStore,o);e=await Av(r.localStore,t),await ub(r,Ob(t),o,!1,e.resumeToken)}i.push(e)}return r.ya.u_(s),i}function Ob(e){return yp(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Pb(e){return function(e){return wh(wh(e).persistence).Bi()}(wh(e).localStore)}async function Db(e,t,n,r){const i=wh(e);if(i.Oa)return void fh("SyncEngine","Ignoring unexpected query state notification.");const s=i.Sa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await Rv(i.localStore,Np(s[0])),r=Bm.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,rf.EMPTY_BYTE_STRING);await Tb(i,e,r);break}case"rejected":await xv(i.localStore,t,!0),bb(i,t,r);break;default:yh()}}async function Lb(e,t,n){const r=Mb(e);if(r.Oa){for(const e of t){if(r.Sa.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){fh("SyncEngine","Adding an already active target "+e);continue}const t=await Nv(r.localStore,e),n=await Av(r.localStore,t);await ub(r,Ob(t),n.targetId,!1,n.resumeToken),uw(r.remoteStore,n)}for(const e of n)r.Sa.has(e)&&await xv(r.localStore,e,!1).then((()=>{hw(r.remoteStore,e),bb(r,e)})).catch(ed)}}function Mb(e){const t=wh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=fb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ab.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mb.bind(null,t),t.ya.u_=Ww.bind(null,t.eventManager),t.ya.La=Gw.bind(null,t.eventManager),t}function jb(e){const t=wh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gb.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yb.bind(null,t),t}class Fb{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ew(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Ev(this.persistence,new bv,e.initialUser,this.serializer)}createPersistence(e){return new lv(uv.Hr,this.serializer)}createSharedClientState(e){return new qv}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Ub extends Fb{constructor(e,t,n){super(),this.ka=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ka.initialize(this,e),await jb(this.ka.syncEngine),await Sw(this.ka.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Ev(this.persistence,new bv,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Fy(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new dd(t,this.persistence);return new hd(e.asyncQueue,n)}createPersistence(e){const t=yv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Sy.withCacheSize(this.cacheSizeBytes):Sy.DEFAULT;return new pv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,$v(),Zv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new qv}}class Bb extends Ub{constructor(e,t){super(e,t,!1),this.ka=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ka.syncEngine;this.sharedClientState instanceof zv&&(this.sharedClientState.syncEngine={Zs:Nb.bind(null,t),Xs:Db.bind(null,t),eo:Lb.bind(null,t),Bi:Pb.bind(null,t),Ys:Cb.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=wh(e);if(Mb(n),jb(n),!0===t&&!0!==n.Oa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Rb(n,e.toArray());n.Oa=!0,await Pw(n.remoteStore,!0);for(const r of t)uw(n.remoteStore,r)}else if(!1===t&&!1!==n.Oa){const e=[];let t=Promise.resolve();n.Sa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(bb(n,i),xv(n.localStore,i,!0)))),hw(n.remoteStore,i)})),await t,await Rb(n,e),function(e){const t=wh(e);t.Ca.forEach(((e,n)=>{hw(t.remoteStore,n)})),t.va.mr(),t.Ca=new Map,t.Da=new Yd(zh.comparator)}(n),n.Oa=!1,await Pw(n.remoteStore,!1)}}(this.ka.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=$v();if(!zv.D(t))throw new _h(bh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=yv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zv(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Vb{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>pb(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=kb.bind(null,this.syncEngine),await Pw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new zw}createDatastore(e){const t=ew(e.databaseInfo.databaseId),n=function(e){return new Xv(e)}(e.databaseInfo);return function(e,t,n,r){return new sw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new aw(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>pb(this.syncEngine,e,0)),Wv.D()?new Wv:new Hv)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new ob(e,t,n,r,i,s);return o&&(a.Oa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=wh(e);fh("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await cw(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function zb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class qb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):ph("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Hb{constructor(e,t){this.Ka=e,this.serializer=t,this.metadata=new Eh,this.buffer=new Uint8Array,this.$a=new TextDecoder("utf-8"),this.Ua().then((e=>{e&&e.ra()?this.metadata.resolve(e.na.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.na))))}),(e=>this.metadata.reject(e)))}close(){return this.Ka.cancel()}async getMetadata(){return this.metadata.promise}async Ba(){return await this.getMetadata(),this.Ua()}async Ua(){const e=await this.Wa();if(null===e)return null;const t=this.$a.decode(e),n=Number(t);isNaN(n)&&this.Ga("length string (".concat(t,") is not valid number"));const r=await this.za(n);return new Xw(JSON.parse(r),e.length+n)}ja(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Wa(){for(;this.ja()<0&&!await this.Ha(););if(0===this.buffer.length)return null;const e=this.ja();e<0&&this.Ga("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async za(e){for(;this.buffer.length<e;)await this.Ha()&&this.Ga("Reached the end of bundle when more is expected.");const t=this.$a.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Ga(e){throw this.Ka.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ha(){const e=await this.Ka.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Wb{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new _h(bh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=wh(e),r={documents:t.map((e=>ag(n.serializer,e)))},i=await n.vo("BatchGetDocuments",n.serializer.databaseId,Uh.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){vh(!!t.found),t.found.name,t.found.updateTime;const n=lg(e,t.found.name),r=rg(t.found.updateTime),i=t.found.createTime?rg(t.found.createTime):jh.min(),s=new Lf({mapValue:{fields:t.found.fields}});return jf.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){vh(!!t.missing),vh(!!t.readTime);const n=lg(e,t.missing),r=rg(t.readTime);return jf.newNoDocument(n,r)}(e,t):yh()}(n.serializer,e);s.set(t.key.toString(),t)}));const o=[];return t.forEach((e=>{const t=s.get(e.toString());vh(!!t),o.push(t)})),o}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Sm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=zh.fromPath(t);this.mutations.push(new Im(n,this.precondition(n)))})),await async function(e,t){const n=wh(e),r={writes:t.map((e=>mg(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,Uh.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw yh();t=jh.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new _h(bh.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(jh.min())?um.exists(!1):um.updateTime(t):um.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(jh.min()))throw new _h(bh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return um.updateTime(t)}return um.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Gb{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Ja=n.maxAttempts,this.jo=new tw(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){this.jo.qo((async()=>{const e=new Wb(this.datastore),t=this.Xa(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.eu(e)}))))})).catch((e=>{this.eu(e)}))}))}Xa(e){try{const t=this.updateFunction(e);return!pd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget((()=>(this.Za(),Promise.resolve())))):this.deferred.reject(e)}tu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Rm(t)}return!1}}class Kb{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ch.UNAUTHENTICATED,this.clientId=Oh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{fh("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(fh("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _h(bh.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Eh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(iS){const n=jw(iS,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Qb(e,t){e.asyncQueue.verifyOperationInProgress(),fh("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Sv(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Yb(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Xb(e);fh("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Ow(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Ow(t.remoteStore,n))),e._onlineComponents=t}function Jb(e){return"FirebaseError"===e.name?e.code===bh.FAILED_PRECONDITION||e.code===bh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Xb(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){fh("FirestoreClient","Using user provided OfflineComponentProvider");try{await Qb(e,e._uninitializedComponentsProvider._offline)}catch(iS){const n=iS;if(!Jb(n))throw n;mh("Error using user provided cache. Falling back to memory cache: "+n),await Qb(e,new Fb)}}else fh("FirestoreClient","Using default OfflineComponentProvider"),await Qb(e,new Fb);return e._offlineComponents}async function $b(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(fh("FirestoreClient","Using user provided OnlineComponentProvider"),await Yb(e,e._uninitializedComponentsProvider._online)):(fh("FirestoreClient","Using default OnlineComponentProvider"),await Yb(e,new Vb))),e._onlineComponents}function Zb(e){return Xb(e).then((e=>e.persistence))}function e_(e){return Xb(e).then((e=>e.localStore))}function t_(e){return $b(e).then((e=>e.remoteStore))}function n_(e){return $b(e).then((e=>e.syncEngine))}function r_(e){return $b(e).then((e=>e.datastore))}async function i_(e){const t=await $b(e),n=t.eventManager;return n.onListen=ab.bind(null,t.syncEngine),n.onUnlisten=hb.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=lb.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=db.bind(null,t.syncEngine),n}function s_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Eh;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new qb({next:s=>{t.enqueueAndForget((()=>Hw(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new _h(bh.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new _h(bh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Jw(vp(n.path),s,{includeMetadataChanges:!0,ta:!0});return qw(e,o)}(await i_(e),e.asyncQueue,t,n,r))),r.promise}function o_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Eh;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new qb({next:n=>{t.enqueueAndForget((()=>Hw(e,o))),n.fromCache&&"server"===r.source?i.reject(new _h(bh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Jw(n,s,{includeMetadataChanges:!0,ta:!0});return qw(e,o)}(await i_(e),e.asyncQueue,t,n,r))),r.promise}function a_(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Dm().encode(e):e,function(e,t){return new Hb(e,t)}(function(e,t){if(e instanceof Uint8Array)return zb(e,t);if(e instanceof ArrayBuffer)return zb(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,ew(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=wh(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=wh(e),r=rg(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(eb(r));const i=new Zw(r,e.localStore,t.serializer);let s=await t.Ba();for(;s;){const e=await i.sa(s);e&&n._updateProgress(e),s=await t.Ba()}const o=await i.complete();return await Tb(e,o.aa,void 0),await function(e,t){const n=wh(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o._a)}catch(e){return mh("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await n_(e),i,r)}))}function l_(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const c_=new Map;function u_(e,t,n){if(!n)throw new _h(bh.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function h_(e,t,n,r){if(!0===t&&!0===r)throw new _h(bh.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function d_(e){if(!zh.isDocumentKey(e))throw new _h(bh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function f_(e){if(zh.isDocumentKey(e))throw new _h(bh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function p_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":yh()}function m_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new _h(bh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=p_(e);throw new _h(bh.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function g_(e,t){if(t<=0)throw new _h(bh.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class y_{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new _h(bh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _h(bh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}h_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=l_(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new _h(bh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new _h(bh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new _h(bh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class v_{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _h(bh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _h(bh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ih;switch(e.type){case"firstParty":return new xh(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new _h(bh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=c_.get(e);t&&(fh("ComponentProvider","Removing Datastore"),c_.delete(e),t.terminate())}(this),Promise.resolve()}}function w_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=m_(e,v_))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&mh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ch.MOCK_USER;else{t=ze(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new _h(bh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ch(s)}e._authCredentials=new Th(new Sh(t,n))}}class b_{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new b_(this.firestore,e,this._query)}}class __{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new E_(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new __(this.firestore,e,this._key)}}class E_ extends b_{constructor(e,t,n){super(e,t,vp(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new __(this.firestore,null,new zh(e))}withConverter(e){return new E_(this.firestore,e,this._path)}}function S_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=lt(e),u_("collection","path",t),e instanceof v_){const n=Uh.fromString(t,...r);return f_(n),new E_(e,null,n)}{if(!(e instanceof __||e instanceof E_))throw new _h(bh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Uh.fromString(t,...r));return f_(n),new E_(e.firestore,null,n)}}function I_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=lt(e),1===arguments.length&&(t=Oh.newId()),u_("doc","path",t),e instanceof v_){const n=Uh.fromString(t,...r);return d_(n),new __(e,null,new zh(n))}{if(!(e instanceof __||e instanceof E_))throw new _h(bh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Uh.fromString(t,...r));return d_(n),new __(e.firestore,e instanceof E_?e.converter:null,new zh(n))}}function T_(e,t){return e=lt(e),t=lt(t),(e instanceof __||e instanceof E_)&&(t instanceof __||t instanceof E_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function k_(e,t){return e=lt(e),t=lt(t),e instanceof b_&&t instanceof b_&&e.firestore===t.firestore&&kp(e._query,t._query)&&e.converter===t.converter}class A_{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new tw(this,"async_queue_retry"),this.cu=()=>{const e=Zv();e&&fh("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=Zv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const t=Zv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise((()=>{}));const t=new Eh;return this.hu((()=>this.iu&&this.au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.ru.push(e),this.Pu())))}async Pu(){if(0!==this.ru.length){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(rS){if(!od(rS))throw rS;fh("AsyncQueue","Operation failed with retryable error: "+rS)}this.ru.length>0&&this.jo.qo((()=>this.Pu()))}}hu(e){const t=this.nu.then((()=>(this._u=!0,e().catch((e=>{this.ou=e,this._u=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ph("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this._u=!1,e))))));return this.nu=t,t}enqueueAfterDelay(e,t,n){this.lu(),this.uu.indexOf(e)>-1&&(t=0);const r=Mw.createAndSchedule(this,e,t,n,(e=>this.Iu(e)));return this.su.push(r),r}lu(){this.ou&&yh()}verifyOperationInProgress(){}async Tu(){let e;do{e=this.nu,await e}while(e!==this.nu)}Eu(e){for(const t of this.su)if(t.timerId===e)return!0;return!1}du(e){return this.Tu().then((()=>{this.su.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.su)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tu()}))}Au(e){this.uu.push(e)}Iu(e){const t=this.su.indexOf(e);this.su.splice(t,1)}}function x_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class C_{constructor(){this._progressObserver={},this._taskCompletionResolver=new Eh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class N_ extends v_{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new A_,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||O_(this),this._firestoreClient.terminate()}}function R_(e){return e._firestoreClient||O_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function O_(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new df(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,l_(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Kb(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function P_(e,t,n){const r=new Eh;return e.asyncQueue.enqueue((async()=>{try{await Qb(e,n),await Yb(e,t),r.resolve()}catch(e){const n=e;if(!Jb(n))throw n;mh("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function D_(e){return function(e){const t=new Eh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=wh(e);gw(n.remoteStore)||fh("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=wh(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ma.get(e)||[];r.push(t),n.Ma.set(e,r)}catch(e){const n=jw(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await n_(e),t))),t.promise}(R_(e=m_(e,N_)))}function L_(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Zb(e),n=await t_(e);return t.setNetworkEnabled(!0),function(e){const t=wh(e);return t.v_.delete(0),lw(t)}(n)}))}(R_(e=m_(e,N_)))}function M_(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Zb(e),n=await t_(e);return t.setNetworkEnabled(!1),async function(e){const t=wh(e);t.v_.add(0),await cw(t),t.x_.set("Offline")}(n)}))}(R_(e=m_(e,N_)))}function j_(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=wh(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await e_(e),t)))}(R_(e=m_(e,N_)),t).then((t=>t?new b_(e,null,t.query):null))}function F_(e){if(e._initialized||e._terminated)throw new _h(bh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class U_{constructor(e){this._byteString=e}static fromBase64String(e){try{return new U_(rf.fromBase64String(e))}catch(e){throw new _h(bh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new U_(rf.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class B_{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new _h(bh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vh(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class V_{constructor(e){this._methodName=e}}class z_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _h(bh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _h(bh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ph(this._lat,e._lat)||Ph(this._long,e._long)}}const q_=/^__.*__$/;class H_{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new wm(e,this.data,this.fieldMask,t,this.fieldTransforms):new vm(e,this.data,t,this.fieldTransforms)}}class W_{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new wm(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function G_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yh()}}class K_{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new K_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.pu(e),r}yu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.Ru(),r}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return fE(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(G_(this.Vu)&&q_.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class Q_{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ew(e)}Cu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new K_({Vu:e,methodName:t,Du:n,path:Vh.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Y_(e){const t=e._freezeSettings(),n=ew(e._databaseId);return new Q_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function J_(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Cu(s.merge||s.mergeFields?2:0,t,n,i);cE("Data must be an object, but it was:",o,r);const a=aE(r,o);let l,c;if(s.merge)l=new tf(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=uE(t,r,n);if(!o.contains(i))throw new _h(bh.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));pE(e,i)||e.push(i)}l=new tf(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new H_(new Lf(a),l,c)}class X_ extends V_{_toFieldTransform(e){if(2!==e.Vu)throw 1===e.Vu?e.Su("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Su("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof X_}}function $_(e,t,n){return new K_({Vu:3,Du:t.settings.Du,methodName:e._methodName,gu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Z_ extends V_{_toFieldTransform(e){return new lm(e.path,new em)}isEqual(e){return e instanceof Z_}}class eE extends V_{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=$_(this,e,!0),n=this.vu.map((e=>oE(e,t))),r=new tm(n);return new lm(e.path,r)}isEqual(e){return e instanceof eE&&et(this.vu,e.vu)}}class tE extends V_{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=$_(this,e,!0),n=this.vu.map((e=>oE(e,t))),r=new rm(n);return new lm(e.path,r)}isEqual(e){return e instanceof tE&&et(this.vu,e.vu)}}class nE extends V_{constructor(e,t){super(e),this.Fu=t}_toFieldTransform(e){const t=new sm(e.serializer,Yp(e.serializer,this.Fu));return new lm(e.path,t)}isEqual(e){return e instanceof nE&&this.Fu===e.Fu}}function rE(e,t,n,r){const i=e.Cu(1,t,n);cE("Data must be an object, but it was:",i,r);const s=[],o=Lf.empty();Kd(r,((e,r)=>{const a=dE(t,e,n);r=lt(r);const l=i.yu(a);if(r instanceof X_)s.push(a);else{const e=oE(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new tf(s);return new W_(o,a,i.fieldTransforms)}function iE(e,t,n,r,i,s){const o=e.Cu(1,t,n),a=[uE(t,r,n)],l=[i];if(s.length%2!=0)throw new _h(bh.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(uE(t,s[d])),l.push(s[d+1]);const c=[],u=Lf.empty();for(let d=a.length-1;d>=0;--d)if(!pE(c,a[d])){const e=a[d];let t=l[d];t=lt(t);const n=o.yu(e);if(t instanceof X_)c.push(e);else{const r=oE(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new tf(c);return new W_(u,h,o.fieldTransforms)}function sE(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return oE(n,e.Cu(r?4:3,t))}function oE(e,t){if(lE(e=lt(e)))return cE("Unsupported field value:",t,e),aE(e,t);if(e instanceof V_)return function(e,t){if(!G_(t.Vu))throw t.Su("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Su("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&4!==t.Vu)throw t.Su("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=oE(i,t.wu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=lt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Yp(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Mh.fromDate(e);return{timestampValue:eg(t.serializer,n)}}if(e instanceof Mh){const n=new Mh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:eg(t.serializer,n)}}if(e instanceof z_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof U_)return{bytesValue:tg(t.serializer,e._byteString)};if(e instanceof __){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Su("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:ig(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Su("Unsupported field value: ".concat(p_(e)))}(e,t)}function aE(e,t){const n={};return Qd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Kd(e,((e,r)=>{const i=oE(r,t.fu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function lE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Mh||e instanceof z_||e instanceof U_||e instanceof __||e instanceof V_)}function cE(e,t,n){if(!lE(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=p_(n);throw"an object"===r?t.Su(e+" a custom object"):t.Su(e+" "+r)}}function uE(e,t,n){if((t=lt(t))instanceof B_)return t._internalPath;if("string"==typeof t)return dE(e,t);throw fE("Field path arguments must be of type string or ",e,!1,void 0,n)}const hE=new RegExp("[~\\*/\\[\\]]");function dE(e,t,n){if(t.search(hE)>=0)throw fE("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new B_(...t.split("."))._internalPath}catch(ra){throw fE("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function fE(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new _h(bh.INVALID_ARGUMENT,a+e+l)}function pE(e,t){return e.some((e=>e.isEqual(t)))}class mE{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new __(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class gE extends mE{data(){return super.data()}}function yE(e,t){return"string"==typeof t?dE(e,t):t instanceof B_?t._internalPath:t._delegate._internalPath}function vE(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new _h(bh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wE{}class bE extends wE{}function _E(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof wE&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof SE)).length,n=e.filter((e=>e instanceof EE)).length;if(t>1||t>0&&n>0)throw new _h(bh.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class EE extends bE{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new EE(e,t,n)}_apply(e){const t=this._parse(e);return RE(e._query,t),new b_(e.firestore,e.converter,Ip(e._query,t))}_parse(e){const t=Y_(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new _h(bh.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){NE(o,s);const t=[];for(const n of o)t.push(CE(r,e,n));a={arrayValue:{values:t}}}else a=CE(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||NE(o,s),a=sE(n,t,o,"in"===s||"not-in"===s);return Hf.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class SE extends wE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new SE(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Wf.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)RE(n,i),n=Ip(n,i)}(e._query,t),new b_(e.firestore,e.converter,Ip(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class IE extends bE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new IE(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new _h(bh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new _h(bh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vf(t,n)}(e._query,this._field,this._direction);return new b_(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new gp(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class TE extends bE{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new TE(e,t,n)}_apply(e){return new b_(e.firestore,e.converter,Tp(e._query,this._limit,this._limitType))}}class kE extends bE{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new kE(e,t,n)}_apply(e){const t=xE(e,this.type,this._docOrFields,this._inclusive);return new b_(e.firestore,e.converter,function(e,t){return new gp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class AE extends bE{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new AE(e,t,n)}_apply(e){const t=xE(e,this.type,this._docOrFields,this._inclusive);return new b_(e.firestore,e.converter,function(e,t){return new gp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function xE(e,t,n,r){if(n[0]=lt(n[0]),n[0]instanceof mE)return function(e,t,n,r,i){if(!r)throw new _h(bh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of _p(e))if(o.field.isKeyField())s.push(Sf(t,r.key));else{const e=r.data.field(o.field);if(cf(e))throw new _h(bh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new _h(bh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new Ff(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Y_(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new _h(bh.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new _h(bh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!bp(e)&&-1!==s.indexOf("/"))throw new _h(bh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(Uh.fromString(s));if(!zh.isDocumentKey(n))throw new _h(bh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new zh(n);a.push(Sf(t,i))}else{const e=sE(n,r,s);a.push(e)}}return new Ff(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function CE(e,t,n){if("string"==typeof(n=lt(n))){if(""===n)throw new _h(bh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bp(t)&&-1!==n.indexOf("/"))throw new _h(bh.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Uh.fromString(n));if(!zh.isDocumentKey(r))throw new _h(bh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Sf(e,new zh(r))}if(n instanceof __)return Sf(e,n._key);throw new _h(bh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(p_(n),"."))}function NE(e,t){if(!Array.isArray(e)||0===e.length)throw new _h(bh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function RE(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new _h(bh.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new _h(bh.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class OE{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(gf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return af(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw yh()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Kd(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new z_(af(e.latitude),af(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=uf(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(hf(e));default:return null}}convertTimestamp(e){const t=of(e);return new Mh(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Uh.fromString(e);vh(xg(n));const r=new ff(n.get(1),n.get(3)),i=new zh(n.popFirst(5));return r.isEqual(t)||ph("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function PE(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class DE extends OE{constructor(e){super(),this.firestore=e}convertBytes(e){return new U_(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new __(this.firestore,null,t)}}class LE{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ME extends mE{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new jE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(yE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class jE extends ME{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class FE{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new LE(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new jE(this._firestore,this._userDataWriter,n.key,n,new LE(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new _h(bh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new jE(e._firestore,e._userDataWriter,n.doc.key,n.doc,new LE(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new jE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new LE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:UE(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function UE(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yh()}}function BE(e,t){return e instanceof ME&&t instanceof ME?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof FE&&t instanceof FE&&e._firestore===t._firestore&&k_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class VE extends OE{constructor(e){super(),this.firestore=e}convertBytes(e){return new U_(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new __(this.firestore,null,t)}}function zE(e){e=m_(e,__);const t=m_(e.firestore,N_),n=R_(t),r=new VE(t);return function(e,t){const n=new Eh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=wh(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new _h(bh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=jw(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await e_(e),t,n))),n.promise}(n,e._key).then((n=>new ME(t,r,e._key,n,new LE(null!==n&&n.hasLocalMutations,!0),e.converter)))}function qE(e){e=m_(e,b_);const t=m_(e.firestore,N_),n=R_(t),r=new VE(t);return function(e,t){const n=new Eh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Cv(e,t,!0),i=new rb(t,r.hs),s=i.Ta(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=jw(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await e_(e),t,n))),n.promise}(n,e._query).then((n=>new FE(t,r,e,n)))}function HE(e,t,n){e=m_(e,__);const r=m_(e.firestore,N_),i=PE(e.converter,t,n);return QE(r,[J_(Y_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,um.none())])}function WE(e,t,n){e=m_(e,__);const r=m_(e.firestore,N_),i=Y_(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=lt(t))||t instanceof B_?iE(i,"updateDoc",e._key,t,n,a):rE(i,"updateDoc",e._key,t),QE(r,[s.toMutation(e._key,um.exists(!0))])}function GE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=lt(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||x_(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(x_(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,h,d;if(e instanceof __)h=m_(e.firestore,N_),d=vp(e._key.path),u={next:t=>{n[l]&&n[l](YE(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=m_(e,b_);h=m_(t.firestore,N_),d=t._query;const r=new VE(h);u={next:e=>{n[l]&&n[l](new FE(h,r,t,e))},error:n[l+1],complete:n[l+2]},vE(e._query)}return function(e,t,n,r){const i=new qb(r),s=new Jw(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>qw(await i_(e),s))),()=>{i.Qa(),e.asyncQueue.enqueueAndForget((async()=>Hw(await i_(e),s)))}}(R_(h),d,c,u)}function KE(e,t){return function(e,t){const n=new qb(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){wh(e).W_.add(t),t.next()}(await i_(e),n))),()=>{n.Qa(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){wh(e).W_.delete(t)}(await i_(e),n)))}}(R_(e=m_(e,N_)),x_(t)?t:{next:t})}function QE(e,t){return function(e,t){const n=new Eh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=jb(e);try{const e=await function(e,t){const n=wh(e),r=Mh.now(),i=t.reduce(((e,t)=>e.add(t.key)),Hp());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Lp(),l=Hp();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=gm(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new wm(e.key,t,Mf(t.value.mapValue),um.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Fp(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Fa[e.currentUser.toKey()];r||(r=new Yd(Ph)),r=r.insert(t,n),e.Fa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Tb(r,e.changes),await Sw(r.remoteStore)}catch(e){const t=jw(e,"Failed to persist write");n.reject(t)}}(await n_(e),t,n))),n.promise}(R_(e),t)}function YE(e,t,n){const r=n.docs.get(t._key),i=new VE(e);return new ME(e,i,t._key,r,new LE(n.hasPendingWrites,n.fromCache),t.converter)}const JE={maxAttempts:5};class XE{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Y_(e)}set(e,t,n){this._verifyNotCommitted();const r=$E(e,this._firestore),i=PE(r.converter,t,n),s=J_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,um.none())),this}update(e,t,n){this._verifyNotCommitted();const r=$E(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=lt(t))||t instanceof B_?iE(this._dataReader,"WriteBatch.update",r._key,t,n,o):rE(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,um.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=$E(e,this._firestore);return this._mutations=this._mutations.concat(new Sm(t._key,um.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _h(bh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $E(e,t){if((e=lt(e)).firestore!==t)throw new _h(bh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class ZE extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Y_(e)}get(e){const t=$E(e,this._firestore),n=new DE(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return yh();const r=e[0];if(r.isFoundDocument())return new mE(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new mE(this._firestore,n,t._key,null,t.converter);throw yh()}))}set(e,t,n){const r=$E(e,this._firestore),i=PE(r.converter,t,n),s=J_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=$E(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=lt(t))||t instanceof B_?iE(this._dataReader,"Transaction.update",r._key,t,n,o):rE(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=$E(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=$E(e,this._firestore),n=new VE(this._firestore);return super.get(e).then((e=>new ME(this._firestore,n,t._key,e._document,new LE(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){uh=e}(Zt),Kt(new ct("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new N_(new kh(e.getProvider("auth-internal")),new Nh(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new _h(bh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ff(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),sn(lh,"4.5.0",e),sn(lh,"4.5.0","esm2017")}();const eS=en({apiKey:"AIzaSyCvUEw6HEs8c9TfRtEuz70eZ-5yJbCzwvg",authDomain:"qna-ai.firebaseapp.com",projectId:"qna-ai",storageBucket:"qna-ai.appspot.com",messagingSenderId:"804249272893",appId:"1:804249272893:web:0a5f49dcb51e5da94f6054",measurementId:"G-4T64NYM9TG"}),tS=zo(eS);!function(e,t){const n="string"==typeof e?e:t||"(default)",r=Qt("object"==typeof e?e:tn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=Fe(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&w_(r,...e)}}(eS);function nS(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let rS={data:""},iS=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||rS,sS=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,oS=/\/\*[^]*?\*\/|  +/g,aS=/\n+/g,lS=(e,t)=>{let n="",r="",i="";for(let s in e){let o=e[s];"@"==s[0]?"i"==s[1]?n=s+" "+o+";":r+="f"==s[1]?lS(o,s):s+"{"+lS(o,"k"==s[1]?"":t)+"}":"object"==typeof o?r+=lS(o,t?t.replace(/([^,])+/g,(e=>s.replace(/(^:.*)|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):s):null!=o&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=lS.p?lS.p(s,o):s+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},cS={},uS=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+uS(e[n]);return t}return e},hS=(e,t,n,r,i)=>{let s=uS(e),o=cS[s]||(cS[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!cS[o]){let t=s!==e?e:(e=>{let t,n,r=[{}];for(;t=sS.exec(e.replace(oS,""));)t[4]?r.shift():t[3]?(n=t[3].replace(aS," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(aS," ").trim();return r[0]})(e);cS[o]=lS(i?{["@keyframes "+o]:t}:t,n?"":"."+o)}let a=n&&cS.g?cS.g:null;return n&&(cS.g=cS[o]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(cS[o],t,r,a),o},dS=(e,t,n)=>e.reduce(((e,r,i)=>{let s=t[i];if(s&&s.call){let e=s(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":lS(e,""):!1===e?"":e}return e+r+(null==s?"":s)}),"");function fS(e){let t=this||{},n=e.call?e(t.p):e;return hS(n.unshift?n.raw?dS(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,iS(t.target),t.g,t.o,t.k)}fS.bind({g:1});let pS,mS,gS,yS=fS.bind({k:1});function vS(e,t){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:mS&&mS()},a),n.o=/ *go\d+/.test(l),a.className=fS.apply(n,r)+(l?" "+l:""),t&&(a.ref=o);let c=e;return e[0]&&(c=a.as||e,delete a.as),gS&&c[0]&&gS(a),pS(c,a)}return t?t(i):i}}var wS,bS,_S,ES,SS,IS,TS,kS,AS,xS,CS,NS,RS,OS,PS,DS,LS=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,MS=(()=>{let e=0;return()=>(++e).toString()})(),jS=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),FS=new Map,US=e=>{if(FS.has(e))return;let t=setTimeout((()=>{FS.delete(e),qS({type:4,toastId:e})}),1e3);FS.set(e,t)},BS=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return t.toast.id&&(e=>{let t=FS.get(e);t&&clearTimeout(t)})(t.toast.id),{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:n}=t;return e.toasts.find((e=>e.id===n.id))?BS(e,{type:1,toast:n}):BS(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?US(r):e.toasts.forEach((e=>{US(e.id)})),{...e,toasts:e.toasts.map((e=>e.id===r||void 0===r?{...e,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+i})))}}},VS=[],zS={toasts:[],pausedAt:void 0},qS=e=>{zS=BS(zS,e),VS.forEach((e=>{e(zS)}))},HS={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},WS=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||MS()}}(t,e,n);return qS({type:2,toast:r}),r.id},GS=(e,t)=>WS("blank")(e,t);GS.error=WS("error"),GS.success=WS("success"),GS.loading=WS("loading"),GS.custom=WS("custom"),GS.dismiss=e=>{qS({type:3,toastId:e})},GS.remove=e=>qS({type:4,toastId:e}),GS.promise=(e,t,n)=>{let r=GS.loading(t.loading,{...n,...null==n?void 0:n.loading});return e.then((e=>(GS.success(LS(t.success,e),{id:r,...n,...null==n?void 0:n.success}),e))).catch((e=>{GS.error(LS(t.error,e),{id:r,...n,...null==n?void 0:n.error})})),e};var KS=(e,t)=>{qS({type:1,toast:{id:e,height:t}})},QS=()=>{qS({type:5,time:Date.now()})},YS=e=>{let{toasts:t,pausedAt:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,i.useState)(zS);(0,i.useEffect)((()=>(VS.push(n),()=>{let e=VS.indexOf(n);e>-1&&VS.splice(e,1)})),[t]);let r=t.toasts.map((t=>{var n,r;return{...e,...e[t.type],...t,duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||HS[t.type],style:{...e.style,...null==(r=e[t.type])?void 0:r.style,...t.style}}}));return{...t,toasts:r}}(e);(0,i.useEffect)((()=>{if(n)return;let e=Date.now(),r=t.map((t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((()=>GS.dismiss(t.id)),n);t.visible&&GS.dismiss(t.id)}));return()=>{r.forEach((e=>e&&clearTimeout(e)))}}),[t,n]);let r=(0,i.useCallback)((()=>{n&&qS({type:6,time:Date.now()})}),[n]),s=(0,i.useCallback)(((e,n)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:s}=n||{},o=t.filter((t=>(t.position||s)===(e.position||s)&&t.height)),a=o.findIndex((t=>t.id===e.id)),l=o.filter(((e,t)=>t<a&&e.visible)).length;return o.filter((e=>e.visible)).slice(...r?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+i),0)}),[t]);return{toasts:t,handlers:{updateHeight:KS,startPause:QS,endPause:r,calculateOffset:s}}},JS=yS(wS||(wS=nS(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),XS=yS(bS||(bS=nS(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),$S=yS(_S||(_S=nS(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),ZS=vS("div")(ES||(ES=nS(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),(e=>e.primary||"#ff4b4b"),JS,XS,(e=>e.secondary||"#fff"),$S),eI=yS(SS||(SS=nS(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),tI=vS("div")(IS||(IS=nS(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),(e=>e.secondary||"#e0e0e0"),(e=>e.primary||"#616161"),eI),nI=yS(TS||(TS=nS(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),rI=yS(kS||(kS=nS(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),iI=vS("div")(AS||(AS=nS(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),(e=>e.primary||"#61d345"),nI,rI,(e=>e.secondary||"#fff")),sI=vS("div")(xS||(xS=nS(["\n  position: absolute;\n"]))),oI=vS("div")(CS||(CS=nS(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),aI=yS(NS||(NS=nS(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),lI=vS("div")(RS||(RS=nS(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),aI),cI=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:s}=t;return void 0!==n?"string"==typeof n?i.createElement(lI,null,n):n:"blank"===r?null:i.createElement(oI,null,i.createElement(tI,{...s}),"loading"!==r&&i.createElement(sI,null,"error"===r?i.createElement(ZS,{...s}):i.createElement(iI,{...s})))},uI=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),hI=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),dI=vS("div")(OS||(OS=nS(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),fI=vS("div")(PS||(PS=nS(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),pI=i.memo((e=>{let{toast:t,position:n,style:r,children:s}=e,o=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=jS()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[uI(n),hI(n)];return{animation:t?"".concat(yS(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(yS(i)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},a=i.createElement(cI,{toast:t}),l=i.createElement(fI,{...t.ariaProps},LS(t.message,t));return i.createElement(dI,{className:t.className,style:{...o,...r,...t.style}},"function"==typeof s?s({icon:a,message:l}):i.createElement(i.Fragment,null,a,l))}));!function(e,t,n,r){lS.p=t,pS=e,mS=n,gS=r}(i.createElement);var mI=e=>{let{id:t,className:n,style:r,onHeightUpdate:s,children:o}=e,a=i.useCallback((e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;s(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[t,s]);return i.createElement("div",{ref:a,className:n,style:r},o)},gI=fS(DS||(DS=nS(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),yI=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:s,children:o,containerStyle:a,containerClassName:l}=e,{toasts:c,handlers:u}=YS(r);return i.createElement("div",{style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...a},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map((e=>{let r=e.position||n,a=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:jS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)"),...r,...i}})(r,u.calculateOffset(e,{reverseOrder:t,gutter:s,defaultPosition:n}));return i.createElement(mI,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?gI:"",style:a},"custom"===e.type?LS(e.message,e):o?o(e):i.createElement(pI,{toast:e,position:r}))})))},vI=GS,wI=n(579);const bI=(0,i.createContext)(),_I=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(localStorage.getItem("user_id")||""),[s,o]=(0,i.useState)(localStorage.getItem("display_name")||"");return(0,i.useEffect)((()=>{localStorage.setItem("user_id",n)}),[n]),(0,i.useEffect)((()=>{localStorage.setItem("display_name",s)}),[s]),(0,wI.jsx)(bI.Provider,{value:{user_id:n,setUser_id:r,display_name:s,setDisplay_name:o},children:t})};const EI=function(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(""),{setUser_id:a}=i.useContext(bI),{setDisplay_name:l}=i.useContext(bI),[c,u]=(0,i.useState)(!1),h=te();return(0,wI.jsxs)("div",{className:"login-container",children:[(0,wI.jsxs)("div",{className:"login-card",children:[(0,wI.jsx)("h1",{children:"Login"}),(0,wI.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e&&n?(o(""),u(!0),zi(tS,e,n).then((e=>{const t=e.user;a(t.uid),l(t.displayName),t.getIdToken().then((e=>{console.log("Token:",e)})),console.log(t),h("/QnA-Input")})).catch((e=>{console.error("Error signing in:",e),o("Invalid email or password. Please try again."),u(!1),vI.error("Invalid email or password. Please try again.")}))):o("Please fill in all fields")},children:[(0,wI.jsxs)("div",{className:"form-group",children:[(0,wI.jsx)("label",{children:"Email:"}),(0,wI.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value)})]}),(0,wI.jsxs)("div",{className:"form-group",children:[(0,wI.jsx)("label",{children:"Password:"}),(0,wI.jsx)("input",{type:"password",value:n,onChange:e=>r(e.target.value)})]}),(0,wI.jsx)("div",{className:"submit-buttons",children:(0,wI.jsx)("button",{type:"submit",disabled:c,children:"Login"})})]}),(0,wI.jsx)("div",{className:"google-button",children:(0,wI.jsx)("a",{className:"glassIco",onClick:()=>{const e=new fi;Gs(tS,e).then((e=>{const t=e.user;console.log(t),a(t.uid),l(t.displayName),t.getIdToken().then((e=>{console.log("Token:",e)})),h("/QnA-Input")})).catch((e=>{console.error("Error signing in with Google:",e),o("Error signing in with Google. Please try again."),vI.error("Error signing in with Google. Please try again.")}))},children:(0,wI.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",width:"20",height:"20",children:(0,wI.jsx)("path",{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"})})})}),(0,wI.jsxs)("div",{className:"hyperlinks",children:[(0,wI.jsxs)("p",{children:["Don't have an account? ",(0,wI.jsx)(Ae,{to:"/signup",children:"Signup"})]}),(0,wI.jsx)("p",{children:(0,wI.jsx)(Ae,{to:"/forgot",children:(0,wI.jsx)("span",{children:"Forgot Password?"})})}),(0,wI.jsx)("p",{children:s})]})]}),(0,wI.jsx)("div",{className:"blob"})]})};const SI=function(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(""),[a,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1),h=te(),d=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),f=e=>/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/.test(e);return(0,wI.jsxs)("div",{className:"login-container",children:[(0,wI.jsxs)("div",{className:"login-card",children:[(0,wI.jsx)("h1",{children:"Signup"}),(0,wI.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e&&n&&s?d(e)?n!==s?l("Passwords do not match"):f(n)?(l(""),u(!0),Vi(tS,e,n).then((()=>{console.log("Signup successful"),h("/login"),vI.success("Signup successful")})).catch((e=>{l(e.message),u(!1),vI.error(e.message)}))):l("Password should be at least 8 characters long and contain at least one uppercase letter, one lowercase letter, and one number."):l("Please enter a valid email address"):l("Please fill in all fields")},children:[(0,wI.jsxs)("div",{className:"form-group",children:[(0,wI.jsx)("label",{children:"Email:"}),(0,wI.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value)})]}),(0,wI.jsxs)("div",{className:"form-group",children:[(0,wI.jsx)("label",{children:"Password:"}),(0,wI.jsx)("input",{type:"password",value:n,onChange:e=>r(e.target.value)})]}),(0,wI.jsxs)("div",{className:"form-group",children:[(0,wI.jsx)("label",{children:"Confirm Password:"}),(0,wI.jsx)("input",{type:"password",value:s,onChange:e=>o(e.target.value)})]}),(0,wI.jsx)("div",{className:"submit-buttons",children:(0,wI.jsx)("button",{type:"submit",disabled:c,children:"Signup"})})]}),(0,wI.jsxs)("div",{className:"hyperlinks",children:[(0,wI.jsxs)("p",{children:["Already have an account? ",(0,wI.jsx)(Ae,{to:"/login",children:"Login"})]}),(0,wI.jsx)("p",{children:a})]})]}),(0,wI.jsx)("div",{className:"blob"})]})};function II(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kI(e,t,n){return t&&TI(e.prototype,t),n&&TI(e,n),e}function AI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xI(Object(n),!0).forEach((function(t){AI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function NI(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&OI(e,t)}function RI(e){return RI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},RI(e)}function OI(e,t){return OI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},OI(e,t)}function PI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DI(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(rS){return!1}}();return function(){var n,r=RI(e);if(t){var i=RI(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?PI(e):t}(this,n)}}function LI(e,t,n){return LI="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=RI(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},LI(e,t,n||e)}function MI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,s=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}return n}(e,t)||FI(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jI(e){return function(e){if(Array.isArray(e))return UI(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||FI(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FI(e,t){if(e){if("string"===typeof e)return UI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?UI(e,t):void 0}}function UI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var BI={el:document,name:"scroll",offset:[0,0],repeat:!1,smooth:!1,initPosition:{x:0,y:0},direction:"vertical",gestureDirection:"vertical",reloadOnContextChange:!1,lerp:.1,class:"is-inview",scrollbarContainer:!1,scrollbarClass:"c-scrollbar",scrollingClass:"has-scroll-scrolling",draggingClass:"has-scroll-dragging",smoothClass:"has-scroll-smooth",initClass:"has-scroll-init",getSpeed:!1,getDirection:!1,scrollFromAnywhere:!1,multiplier:1,firefoxMultiplier:50,touchMultiplier:2,resetNativeScroll:!0,tablet:{smooth:!1,direction:"vertical",gestureDirection:"vertical",breakpoint:1024},smartphone:{smooth:!1,direction:"vertical",gestureDirection:"vertical"}},VI=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};II(this,e),Object.assign(this,BI,t),this.smartphone=BI.smartphone,t.smartphone&&Object.assign(this.smartphone,t.smartphone),this.tablet=BI.tablet,t.tablet&&Object.assign(this.tablet,t.tablet),this.namespace="locomotive",this.html=document.documentElement,this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.els={},this.currentElements={},this.listeners={},this.hasScrollTicking=!1,this.hasCallEventSet=!1,this.checkScroll=this.checkScroll.bind(this),this.checkResize=this.checkResize.bind(this),this.checkEvent=this.checkEvent.bind(this),this.instance={scroll:{x:0,y:0},limit:{x:this.html.offsetWidth,y:this.html.offsetHeight},currentElements:this.currentElements},this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",this.isMobile&&(this.direction=this[this.context].direction),"horizontal"===this.direction?this.directionAxis="x":this.directionAxis="y",this.getDirection&&(this.instance.direction=null),this.getDirection&&(this.instance.speed=0),this.html.classList.add(this.initClass),window.addEventListener("resize",this.checkResize,!1)}return kI(e,[{key:"init",value:function(){this.initEvents()}},{key:"checkScroll",value:function(){this.dispatchScroll()}},{key:"checkResize",value:function(){var e=this;this.resizeTick||(this.resizeTick=!0,requestAnimationFrame((function(){e.resize(),e.resizeTick=!1})))}},{key:"resize",value:function(){}},{key:"checkContext",value:function(){if(this.reloadOnContextChange){this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||this.windowWidth<this.tablet.breakpoint,this.isTablet=this.isMobile&&this.windowWidth>=this.tablet.breakpoint;var e=this.context;if(this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",e!=this.context)("desktop"==e?this.smooth:this[e].smooth)!=("desktop"==this.context?this.smooth:this[this.context].smooth)&&window.location.reload()}}},{key:"initEvents",value:function(){var e=this;this.scrollToEls=this.el.querySelectorAll("[data-".concat(this.name,"-to]")),this.setScrollTo=this.setScrollTo.bind(this),this.scrollToEls.forEach((function(t){t.addEventListener("click",e.setScrollTo,!1)}))}},{key:"setScrollTo",value:function(e){e.preventDefault(),this.scrollTo(e.currentTarget.getAttribute("data-".concat(this.name,"-href"))||e.currentTarget.getAttribute("href"),{offset:e.currentTarget.getAttribute("data-".concat(this.name,"-offset"))})}},{key:"addElements",value:function(){}},{key:"detectElements",value:function(e){var t=this,n=this.instance.scroll.y,r=n+this.windowHeight,i=this.instance.scroll.x,s=i+this.windowWidth;Object.entries(this.els).forEach((function(o){var a=MI(o,2),l=a[0],c=a[1];if(!c||c.inView&&!e||("horizontal"===t.direction?s>=c.left&&i<c.right&&t.setInView(c,l):r>=c.top&&n<c.bottom&&t.setInView(c,l)),c&&c.inView)if("horizontal"===t.direction){var u=c.right-c.left;c.progress=(t.instance.scroll.x-(c.left-t.windowWidth))/(u+t.windowWidth),(s<c.left||i>c.right)&&t.setOutOfView(c,l)}else{var h=c.bottom-c.top;c.progress=(t.instance.scroll.y-(c.top-t.windowHeight))/(h+t.windowHeight),(r<c.top||n>c.bottom)&&t.setOutOfView(c,l)}})),this.hasScrollTicking=!1}},{key:"setInView",value:function(e,t){this.els[t].inView=!0,e.el.classList.add(e.class),this.currentElements[t]=e,e.call&&this.hasCallEventSet&&(this.dispatchCall(e,"enter"),e.repeat||(this.els[t].call=!1))}},{key:"setOutOfView",value:function(e,t){var n=this;this.els[t].inView=!1,Object.keys(this.currentElements).forEach((function(e){e===t&&delete n.currentElements[e]})),e.call&&this.hasCallEventSet&&this.dispatchCall(e,"exit"),e.repeat&&e.el.classList.remove(e.class)}},{key:"dispatchCall",value:function(e,t){this.callWay=t,this.callValue=e.call.split(",").map((function(e){return e.trim()})),this.callObj=e,1==this.callValue.length&&(this.callValue=this.callValue[0]);var n=new Event(this.namespace+"call");this.el.dispatchEvent(n)}},{key:"dispatchScroll",value:function(){var e=new Event(this.namespace+"scroll");this.el.dispatchEvent(e)}},{key:"setEvents",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]);var n=this.listeners[e];n.push(t),1===n.length&&this.el.addEventListener(this.namespace+e,this.checkEvent,!1),"call"===e&&(this.hasCallEventSet=!0,this.detectElements(!0))}},{key:"unsetEvents",value:function(e,t){if(this.listeners[e]){var n=this.listeners[e],r=n.indexOf(t);r<0||(n.splice(r,1),0===n.index&&this.el.removeEventListener(this.namespace+e,this.checkEvent,!1))}}},{key:"checkEvent",value:function(e){var t=this,n=e.type.replace(this.namespace,""),r=this.listeners[n];r&&0!==r.length&&r.forEach((function(e){switch(n){case"scroll":return e(t.instance);case"call":return e(t.callValue,t.callWay,t.callObj);default:return e()}}))}},{key:"startScroll",value:function(){}},{key:"stopScroll",value:function(){}},{key:"setScroll",value:function(e,t){this.instance.scroll={x:0,y:0}}},{key:"destroy",value:function(){var e=this;window.removeEventListener("resize",this.checkResize,!1),Object.keys(this.listeners).forEach((function(t){e.el.removeEventListener(e.namespace+t,e.checkEvent,!1)})),this.listeners={},this.scrollToEls.forEach((function(t){t.removeEventListener("click",e.setScrollTo,!1)})),this.html.classList.remove(this.initClass)}}]),e}(),zI="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};function qI(e,t){return e(t={exports:{}},t.exports),t.exports}var HI=qI((function(e,t){e.exports={polyfill:function(){var e=window,t=document;if(!("scrollBehavior"in t.documentElement.style)||!0===e.__forceSmoothScrollPolyfill__){var n,r=e.HTMLElement||e.Element,i=468,s={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:r.prototype.scroll||l,scrollIntoView:r.prototype.scrollIntoView},o=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,a=(n=e.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(n)?1:0);e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?p.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):s.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!==typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(c(arguments[0])?s.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!==typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):p.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},r.prototype.scroll=r.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==c(arguments[0])){var e=arguments[0].left,t=arguments[0].top;p.call(this,this,"undefined"===typeof e?this.scrollLeft:~~e,"undefined"===typeof t?this.scrollTop:~~t)}else{if("number"===typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");s.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!==typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},r.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):s.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},r.prototype.scrollIntoView=function(){if(!0!==c(arguments[0])){var n=function(e){for(;e!==t.body&&!1===d(e);)e=e.parentNode||e.host;return e}(this),r=n.getBoundingClientRect(),i=this.getBoundingClientRect();n!==t.body?(p.call(this,n,n.scrollLeft+i.left-r.left,n.scrollTop+i.top-r.top),"fixed"!==e.getComputedStyle(n).position&&e.scrollBy({left:r.left,top:r.top,behavior:"smooth"})):e.scrollBy({left:i.left,top:i.top,behavior:"smooth"})}else s.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function l(e,t){this.scrollLeft=e,this.scrollTop=t}function c(e){if(null===e||"object"!==typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"===typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function u(e,t){return"Y"===t?e.clientHeight+a<e.scrollHeight:"X"===t?e.clientWidth+a<e.scrollWidth:void 0}function h(t,n){var r=e.getComputedStyle(t,null)["overflow"+n];return"auto"===r||"scroll"===r}function d(e){var t=u(e,"Y")&&h(e,"Y"),n=u(e,"X")&&h(e,"X");return t||n}function f(t){var n,r,s,a=(o()-t.startTime)/i;n=function(e){return.5*(1-Math.cos(Math.PI*e))}(a=a>1?1:a),r=t.startX+(t.x-t.startX)*n,s=t.startY+(t.y-t.startY)*n,t.method.call(t.scrollable,r,s),r===t.x&&s===t.y||e.requestAnimationFrame(f.bind(e,t))}function p(n,r,i){var a,c,u,h,d=o();n===t.body?(a=e,c=e.scrollX||e.pageXOffset,u=e.scrollY||e.pageYOffset,h=s.scroll):(a=n,c=n.scrollLeft,u=n.scrollTop,h=l),f({scrollable:a,method:h,startTime:d,startX:c,startY:u,x:r,y:i})}}}})),WI=(HI.polyfill,function(e){NI(n,e);var t=DI(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return II(this,n),(e=t.call(this,r)).resetNativeScroll&&(history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0)),window.addEventListener("scroll",e.checkScroll,!1),void 0===window.smoothscrollPolyfill&&(window.smoothscrollPolyfill=HI,window.smoothscrollPolyfill.polyfill()),e}return kI(n,[{key:"init",value:function(){this.instance.scroll.y=window.pageYOffset,this.addElements(),this.detectElements(),LI(RI(n.prototype),"init",this).call(this)}},{key:"checkScroll",value:function(){var e=this;LI(RI(n.prototype),"checkScroll",this).call(this),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.instance.scroll.y=window.pageYOffset,Object.entries(this.els).length&&(this.hasScrollTicking||(requestAnimationFrame((function(){e.detectElements()})),this.hasScrollTicking=!0))}},{key:"addDirection",value:function(){window.pageYOffset>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):window.pageYOffset<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up")}},{key:"addSpeed",value:function(){window.pageYOffset!=this.instance.scroll.y?this.instance.speed=(window.pageYOffset-this.instance.scroll.y)/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"resize",value:function(){Object.entries(this.els).length&&(this.windowHeight=window.innerHeight,this.updateElements())}},{key:"addElements",value:function(){var e=this;this.els={},this.el.querySelectorAll("[data-"+this.name+"]").forEach((function(t,n){t.getBoundingClientRect();var r,i,s,o=t.dataset[e.name+"Class"]||e.class,a="string"===typeof t.dataset[e.name+"Id"]?t.dataset[e.name+"Id"]:n,l="string"===typeof t.dataset[e.name+"Offset"]?t.dataset[e.name+"Offset"].split(","):e.offset,c=t.dataset[e.name+"Repeat"],u=t.dataset[e.name+"Call"],h=t.dataset[e.name+"Target"],d=(s=void 0!==h?document.querySelector("".concat(h)):t).getBoundingClientRect();r=d.top+e.instance.scroll.y,i=d.left+e.instance.scroll.x;var f=r+s.offsetHeight,p=i+s.offsetWidth;c="false"!=c&&(void 0!=c||e.repeat);var m=e.getRelativeOffset(l),g={el:t,targetEl:s,id:a,class:o,top:r+=m[0],bottom:f-=m[1],left:i,right:p,offset:l,progress:0,repeat:c,inView:!1,call:u};e.els[a]=g,t.classList.contains(o)&&e.setInView(e.els[a],a)}))}},{key:"updateElements",value:function(){var e=this;Object.entries(this.els).forEach((function(t){var n=MI(t,2),r=n[0],i=n[1],s=i.targetEl.getBoundingClientRect().top+e.instance.scroll.y,o=s+i.targetEl.offsetHeight,a=e.getRelativeOffset(i.offset);e.els[r].top=s+a[0],e.els[r].bottom=o-a[1]})),this.hasScrollTicking=!1}},{key:"getRelativeOffset",value:function(e){var t=[0,0];if(e)for(var n=0;n<e.length;n++)"string"==typeof e[n]?e[n].includes("%")?t[n]=parseInt(e[n].replace("%","")*this.windowHeight/100):t[n]=parseInt(e[n]):t[n]=e[n];return t}},{key:"scrollTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=parseInt(t.offset)||0,r=!!t.callback&&t.callback;if("string"===typeof e){if("top"===e)e=this.html;else if("bottom"===e)e=this.html.offsetHeight-window.innerHeight;else if(!(e=document.querySelector(e)))return}else if("number"===typeof e)e=parseInt(e);else if(!e||!e.tagName)return void console.warn("`target` parameter is not valid");n="number"!==typeof e?e.getBoundingClientRect().top+n+this.instance.scroll.y:e+n;var i=function(){return parseInt(window.pageYOffset)===parseInt(n)};if(r){if(i())return void r();window.addEventListener("scroll",(function e(){i()&&(window.removeEventListener("scroll",e),r())}))}window.scrollTo({top:n,behavior:0===t.duration?"auto":"smooth"})}},{key:"update",value:function(){this.addElements(),this.detectElements()}},{key:"destroy",value:function(){LI(RI(n.prototype),"destroy",this).call(this),window.removeEventListener("scroll",this.checkScroll,!1)}}]),n}(VI)),GI=Object.getOwnPropertySymbols,KI=Object.prototype.hasOwnProperty,QI=Object.prototype.propertyIsEnumerable;var YI=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(s){return!1}}()?Object.assign:function(e,t){for(var n,r,i=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var o in n=Object(arguments[s]))KI.call(n,o)&&(i[o]=n[o]);if(GI){r=GI(n);for(var a=0;a<r.length;a++)QI.call(n,r[a])&&(i[r[a]]=n[r[a]])}}return i};function JI(){}JI.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var s=0,o=r.length;s<o;s++)r[s].fn!==t&&r[s].fn._!==t&&i.push(r[s]);return i.length?n[e]=i:delete n[e],this}};var XI=JI,$I=qI((function(e,t){(function(){(null!==t?t:this).Lethargy=function(){function e(e,t,n,r){this.stability=null!=e?Math.abs(e):8,this.sensitivity=null!=t?1+Math.abs(t):100,this.tolerance=null!=n?1+Math.abs(n):1.1,this.delay=null!=r?r:150,this.lastUpDeltas=function(){var e,t,n;for(n=[],e=1,t=2*this.stability;1<=t?e<=t:e>=t;1<=t?e++:e--)n.push(null);return n}.call(this),this.lastDownDeltas=function(){var e,t,n;for(n=[],e=1,t=2*this.stability;1<=t?e<=t:e>=t;1<=t?e++:e--)n.push(null);return n}.call(this),this.deltasTimestamp=function(){var e,t,n;for(n=[],e=1,t=2*this.stability;1<=t?e<=t:e>=t;1<=t?e++:e--)n.push(null);return n}.call(this)}return e.prototype.check=function(e){var t;return null!=(e=e.originalEvent||e).wheelDelta?t=e.wheelDelta:null!=e.deltaY?t=-40*e.deltaY:null==e.detail&&0!==e.detail||(t=-40*e.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),t>0?(this.lastUpDeltas.push(t),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(t),this.lastDownDeltas.shift(),this.isInertia(-1))},e.prototype.isInertia=function(e){var t,n,r,i,s,o,a;return null===(t=-1===e?this.lastDownDeltas:this.lastUpDeltas)[0]?e:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&t[0]===t[2*this.stability-1])&&(r=t.slice(0,this.stability),n=t.slice(this.stability,2*this.stability),a=r.reduce((function(e,t){return e+t})),s=n.reduce((function(e,t){return e+t})),o=a/r.length,i=s/n.length,Math.abs(o)<Math.abs(i*this.tolerance)&&this.sensitivity<Math.abs(i)&&e)},e.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},e.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},e}()}).call(zI)})),ZI={hasWheelEvent:"onwheel"in document,hasMouseWheelEvent:"onmousewheel"in document,hasTouch:"ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,hasTouchWin:navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:"onkeydown"in document,isFirefox:navigator.userAgent.indexOf("Firefox")>-1},eT=Object.prototype.toString,tT=Object.prototype.hasOwnProperty;function nT(e,t){return function(){return e.apply(t,arguments)}}var rT=$I.Lethargy,iT="virtualscroll",sT=hT,oT=37,aT=38,lT=39,cT=40,uT=32;function hT(e){!function(e){if(!e)return console.warn("bindAll requires at least one argument.");var t=Array.prototype.slice.call(arguments,1);if(0===t.length)for(var n in e)tT.call(e,n)&&"function"==typeof e[n]&&"[object Function]"==eT.call(e[n])&&t.push(n);for(var r=0;r<t.length;r++){var i=t[r];e[i]=nT(e[i],e)}}(this,"_onWheel","_onMouseWheel","_onTouchStart","_onTouchMove","_onKeyDown"),this.el=window,e&&e.el&&(this.el=e.el,delete e.el),this.options=YI({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",limitInertia:!1,useKeyboard:!0,useTouch:!0},e),this.options.limitInertia&&(this._lethargy=new rT),this._emitter=new XI,this._event={y:0,x:0,deltaX:0,deltaY:0},this.touchStartX=null,this.touchStartY=null,this.bodyTouchAction=null,void 0!==this.options.passive&&(this.listenerOptions={passive:this.options.passive})}function dT(e,t,n){return(1-n)*e+n*t}function fT(e){var t={};if(window.getComputedStyle){var n=getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform,i=r.match(/^matrix3d\((.+)\)$/);return i?(t.x=i?parseFloat(i[1].split(", ")[12]):0,t.y=i?parseFloat(i[1].split(", ")[13]):0):(i=r.match(/^matrix\((.+)\)$/),t.x=i?parseFloat(i[1].split(", ")[4]):0,t.y=i?parseFloat(i[1].split(", ")[5]):0),t}}function pT(e){for(var t=[];e&&e!==document;e=e.parentNode)t.push(e);return t}hT.prototype._notify=function(e){var t=this._event;t.x+=t.deltaX,t.y+=t.deltaY,this._emitter.emit(iT,{x:t.x,y:t.y,deltaX:t.deltaX,deltaY:t.deltaY,originalEvent:e})},hT.prototype._onWheel=function(e){var t=this.options;if(!this._lethargy||!1!==this._lethargy.check(e)){var n=this._event;n.deltaX=e.wheelDeltaX||-1*e.deltaX,n.deltaY=e.wheelDeltaY||-1*e.deltaY,ZI.isFirefox&&1==e.deltaMode&&(n.deltaX*=t.firefoxMultiplier,n.deltaY*=t.firefoxMultiplier),n.deltaX*=t.mouseMultiplier,n.deltaY*=t.mouseMultiplier,this._notify(e)}},hT.prototype._onMouseWheel=function(e){if(!this.options.limitInertia||!1!==this._lethargy.check(e)){var t=this._event;t.deltaX=e.wheelDeltaX?e.wheelDeltaX:0,t.deltaY=e.wheelDeltaY?e.wheelDeltaY:e.wheelDelta,this._notify(e)}},hT.prototype._onTouchStart=function(e){var t=e.targetTouches?e.targetTouches[0]:e;this.touchStartX=t.pageX,this.touchStartY=t.pageY},hT.prototype._onTouchMove=function(e){var t=this.options;t.preventTouch&&!e.target.classList.contains(t.unpreventTouchClass)&&e.preventDefault();var n=this._event,r=e.targetTouches?e.targetTouches[0]:e;n.deltaX=(r.pageX-this.touchStartX)*t.touchMultiplier,n.deltaY=(r.pageY-this.touchStartY)*t.touchMultiplier,this.touchStartX=r.pageX,this.touchStartY=r.pageY,this._notify(e)},hT.prototype._onKeyDown=function(e){var t=this._event;t.deltaX=t.deltaY=0;var n=window.innerHeight-40;switch(e.keyCode){case oT:case aT:t.deltaY=this.options.keyStep;break;case lT:case cT:t.deltaY=-this.options.keyStep;break;case e.shiftKey:t.deltaY=n;break;case uT:t.deltaY=-n;break;default:return}this._notify(e)},hT.prototype._bind=function(){ZI.hasWheelEvent&&this.el.addEventListener("wheel",this._onWheel,this.listenerOptions),ZI.hasMouseWheelEvent&&this.el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),ZI.hasTouch&&this.options.useTouch&&(this.el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this.el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),ZI.hasPointer&&ZI.hasTouchWin&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this.el.addEventListener("MSPointerDown",this._onTouchStart,!0),this.el.addEventListener("MSPointerMove",this._onTouchMove,!0)),ZI.hasKeyDown&&this.options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},hT.prototype._unbind=function(){ZI.hasWheelEvent&&this.el.removeEventListener("wheel",this._onWheel),ZI.hasMouseWheelEvent&&this.el.removeEventListener("mousewheel",this._onMouseWheel),ZI.hasTouch&&(this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove)),ZI.hasPointer&&ZI.hasTouchWin&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this.el.removeEventListener("MSPointerMove",this._onTouchMove,!0)),ZI.hasKeyDown&&this.options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},hT.prototype.on=function(e,t){this._emitter.on(iT,e,t);var n=this._emitter.e;n&&n[iT]&&1===n[iT].length&&this._bind()},hT.prototype.off=function(e,t){this._emitter.off(iT,e,t);var n=this._emitter.e;(!n[iT]||n[iT].length<=0)&&this._unbind()},hT.prototype.reset=function(){var e=this._event;e.x=0,e.y=0},hT.prototype.destroy=function(){this._emitter.off(),this._unbind()};var mT=.1,gT="function"===typeof Float32Array;function yT(e,t){return 1-3*t+3*e}function vT(e,t){return 3*t-6*e}function wT(e){return 3*e}function bT(e,t,n){return((yT(t,n)*e+vT(t,n))*e+wT(t))*e}function _T(e,t,n){return 3*yT(t,n)*e*e+2*vT(t,n)*e+wT(t)}function ET(e){return e}var ST=function(e,t,n,r){if(!(0<=e&&e<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&n===r)return ET;for(var i=gT?new Float32Array(11):new Array(11),s=0;s<11;++s)i[s]=bT(s*mT,e,n);function o(t){for(var r=0,s=1;10!==s&&i[s]<=t;++s)r+=mT;--s;var o=r+(t-i[s])/(i[s+1]-i[s])*mT,a=_T(o,e,n);return a>=.001?function(e,t,n,r){for(var i=0;i<4;++i){var s=_T(t,n,r);if(0===s)return t;t-=(bT(t,n,r)-e)/s}return t}(t,o,e,n):0===a?o:function(e,t,n,r,i){var s,o,a=0;do{(s=bT(o=t+(n-t)/2,r,i)-e)>0?n=o:t=o}while(Math.abs(s)>1e-7&&++a<10);return o}(t,r,r+mT,e,n)}return function(e){return 0===e?0:1===e?1:bT(o(e),t,r)}},IT=38,TT=40,kT=32,AT=9,xT=33,CT=34,NT=36,RT=35,OT=function(e){NI(n,e);var t=DI(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return II(this,n),history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0),(e=t.call(this,r)).inertia&&(e.lerp=.1*e.inertia),e.isScrolling=!1,e.isDraggingScrollbar=!1,e.isTicking=!1,e.hasScrollTicking=!1,e.parallaxElements={},e.stop=!1,e.scrollbarContainer=r.scrollbarContainer,e.checkKey=e.checkKey.bind(PI(e)),window.addEventListener("keydown",e.checkKey,!1),e}return kI(n,[{key:"init",value:function(){var e=this;this.html.classList.add(this.smoothClass),this.html.setAttribute("data-".concat(this.name,"-direction"),this.direction),this.instance=CI({delta:{x:this.initPosition.x,y:this.initPosition.y},scroll:{x:this.initPosition.x,y:this.initPosition.y}},this.instance),this.vs=new sT({el:this.scrollFromAnywhere?document:this.el,mouseMultiplier:navigator.platform.indexOf("Win")>-1?1:.4,firefoxMultiplier:this.firefoxMultiplier,touchMultiplier:this.touchMultiplier,useKeyboard:!1,passive:!0}),this.vs.on((function(t){e.stop||e.isDraggingScrollbar||requestAnimationFrame((function(){e.updateDelta(t),e.isScrolling||e.startScrolling()}))})),this.setScrollLimit(),this.initScrollBar(),this.addSections(),this.addElements(),this.checkScroll(!0),this.transformElements(!0,!0),LI(RI(n.prototype),"init",this).call(this)}},{key:"setScrollLimit",value:function(){if(this.instance.limit.y=this.el.offsetHeight-this.windowHeight,"horizontal"===this.direction){for(var e=0,t=this.el.children,n=0;n<t.length;n++)e+=t[n].offsetWidth;this.instance.limit.x=e-this.windowWidth}}},{key:"startScrolling",value:function(){this.startScrollTs=Date.now(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}},{key:"stopScrolling",value:function(){cancelAnimationFrame(this.checkScrollRaf),this.startScrollTs=void 0,this.scrollToRaf&&(cancelAnimationFrame(this.scrollToRaf),this.scrollToRaf=null),this.isScrolling=!1,this.instance.scroll.y=Math.round(this.instance.scroll.y),this.html.classList.remove(this.scrollingClass)}},{key:"checkKey",value:function(e){var t=this;if(this.stop)e.keyCode==AT&&requestAnimationFrame((function(){t.html.scrollTop=0,document.body.scrollTop=0,t.html.scrollLeft=0,document.body.scrollLeft=0}));else{switch(e.keyCode){case AT:requestAnimationFrame((function(){t.html.scrollTop=0,document.body.scrollTop=0,t.html.scrollLeft=0,document.body.scrollLeft=0,t.scrollTo(document.activeElement,{offset:-window.innerHeight/2})}));break;case IT:this.isActiveElementScrollSensitive()&&(this.instance.delta[this.directionAxis]-=240);break;case TT:this.isActiveElementScrollSensitive()&&(this.instance.delta[this.directionAxis]+=240);break;case xT:this.instance.delta[this.directionAxis]-=window.innerHeight;break;case CT:this.instance.delta[this.directionAxis]+=window.innerHeight;break;case NT:this.instance.delta[this.directionAxis]-=this.instance.limit[this.directionAxis];break;case RT:this.instance.delta[this.directionAxis]+=this.instance.limit[this.directionAxis];break;case kT:this.isActiveElementScrollSensitive()&&(e.shiftKey?this.instance.delta[this.directionAxis]-=window.innerHeight:this.instance.delta[this.directionAxis]+=window.innerHeight);break;default:return}this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis]),this.stopScrolling(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}}},{key:"isActiveElementScrollSensitive",value:function(){return!(document.activeElement instanceof HTMLInputElement)&&!(document.activeElement instanceof HTMLTextAreaElement)&&!(document.activeElement instanceof HTMLButtonElement)&&!(document.activeElement instanceof HTMLSelectElement)}},{key:"checkScroll",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t||this.isScrolling||this.isDraggingScrollbar){this.hasScrollTicking||(this.checkScrollRaf=requestAnimationFrame((function(){return e.checkScroll()})),this.hasScrollTicking=!0),this.updateScroll();var r=Math.abs(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis]),i=Date.now()-this.startScrollTs;if(!this.animatingScroll&&i>100&&(r<.5&&0!=this.instance.delta[this.directionAxis]||r<.5&&0==this.instance.delta[this.directionAxis])&&this.stopScrolling(),Object.entries(this.sections).forEach((function(n){var r=MI(n,2),i=(r[0],r[1]);i.persistent||e.instance.scroll[e.directionAxis]>i.offset[e.directionAxis]&&e.instance.scroll[e.directionAxis]<i.limit[e.directionAxis]?("horizontal"===e.direction?e.transform(i.el,-e.instance.scroll[e.directionAxis],0):e.transform(i.el,0,-e.instance.scroll[e.directionAxis]),i.inView||(i.inView=!0,i.el.style.opacity=1,i.el.style.pointerEvents="all",i.el.setAttribute("data-".concat(e.name,"-section-inview"),""))):((i.inView||t)&&(i.inView=!1,i.el.style.opacity=0,i.el.style.pointerEvents="none",i.el.removeAttribute("data-".concat(e.name,"-section-inview"))),e.transform(i.el,0,0))})),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.detectElements(),this.transformElements(),this.hasScrollbar){var s=this.instance.scroll[this.directionAxis]/this.instance.limit[this.directionAxis]*this.scrollBarLimit[this.directionAxis];"horizontal"===this.direction?this.transform(this.scrollbarThumb,s,0):this.transform(this.scrollbarThumb,0,s)}LI(RI(n.prototype),"checkScroll",this).call(this),this.hasScrollTicking=!1}}},{key:"resize",value:function(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.checkContext(),this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.update()}},{key:"updateDelta",value:function(e){var t,n=this[this.context]&&this[this.context].gestureDirection?this[this.context].gestureDirection:this.gestureDirection;t="both"===n?e.deltaX+e.deltaY:"vertical"===n?e.deltaY:"horizontal"===n?e.deltaX:e.deltaY,this.instance.delta[this.directionAxis]-=t*this.multiplier,this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis])}},{key:"updateScroll",value:function(e){this.isScrolling||this.isDraggingScrollbar?this.instance.scroll[this.directionAxis]=dT(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis],this.lerp):this.instance.scroll[this.directionAxis]>this.instance.limit[this.directionAxis]?this.setScroll(this.instance.scroll[this.directionAxis],this.instance.limit[this.directionAxis]):this.instance.scroll.y<0?this.setScroll(this.instance.scroll[this.directionAxis],0):this.setScroll(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis])}},{key:"addDirection",value:function(){this.instance.delta.y>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):this.instance.delta.y<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up"),this.instance.delta.x>this.instance.scroll.x?"right"!==this.instance.direction&&(this.instance.direction="right"):this.instance.delta.x<this.instance.scroll.x&&"left"!==this.instance.direction&&(this.instance.direction="left")}},{key:"addSpeed",value:function(){this.instance.delta[this.directionAxis]!=this.instance.scroll[this.directionAxis]?this.instance.speed=(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis])/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"initScrollBar",value:function(){if(this.scrollbar=document.createElement("span"),this.scrollbarThumb=document.createElement("span"),this.scrollbar.classList.add("".concat(this.scrollbarClass)),this.scrollbarThumb.classList.add("".concat(this.scrollbarClass,"_thumb")),this.scrollbar.append(this.scrollbarThumb),this.scrollbarContainer?this.scrollbarContainer.append(this.scrollbar):document.body.append(this.scrollbar),this.getScrollBar=this.getScrollBar.bind(this),this.releaseScrollBar=this.releaseScrollBar.bind(this),this.moveScrollBar=this.moveScrollBar.bind(this),this.scrollbarThumb.addEventListener("mousedown",this.getScrollBar),window.addEventListener("mouseup",this.releaseScrollBar),window.addEventListener("mousemove",this.moveScrollBar),this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"reinitScrollBar",value:function(){if(this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"destroyScrollBar",value:function(){this.scrollbarThumb.removeEventListener("mousedown",this.getScrollBar),window.removeEventListener("mouseup",this.releaseScrollBar),window.removeEventListener("mousemove",this.moveScrollBar),this.scrollbar.remove()}},{key:"getScrollBar",value:function(e){this.isDraggingScrollbar=!0,this.checkScroll(),this.html.classList.remove(this.scrollingClass),this.html.classList.add(this.draggingClass)}},{key:"releaseScrollBar",value:function(e){this.isDraggingScrollbar=!1,this.isScrolling&&this.html.classList.add(this.scrollingClass),this.html.classList.remove(this.draggingClass)}},{key:"moveScrollBar",value:function(e){var t=this;this.isDraggingScrollbar&&requestAnimationFrame((function(){var n=100*(e.clientX-t.scrollbarBCR.left)/t.scrollbarWidth*t.instance.limit.x/100,r=100*(e.clientY-t.scrollbarBCR.top)/t.scrollbarHeight*t.instance.limit.y/100;r>0&&r<t.instance.limit.y&&(t.instance.delta.y=r),n>0&&n<t.instance.limit.x&&(t.instance.delta.x=n)}))}},{key:"addElements",value:function(){var e=this;this.els={},this.parallaxElements={},this.el.querySelectorAll("[data-".concat(this.name,"]")).forEach((function(t,n){var r,i,s,o=pT(t),a=Object.entries(e.sections).map((function(e){var t=MI(e,2);t[0];return t[1]})).find((function(e){return o.includes(e.el)})),l=t.dataset[e.name+"Class"]||e.class,c="string"===typeof t.dataset[e.name+"Id"]?t.dataset[e.name+"Id"]:"el"+n,u=t.dataset[e.name+"Repeat"],h=t.dataset[e.name+"Call"],d=t.dataset[e.name+"Position"],f=t.dataset[e.name+"Delay"],p=t.dataset[e.name+"Direction"],m="string"===typeof t.dataset[e.name+"Sticky"],g=!!t.dataset[e.name+"Speed"]&&parseFloat(t.dataset[e.name+"Speed"])/10,y="string"===typeof t.dataset[e.name+"Offset"]?t.dataset[e.name+"Offset"].split(","):e.offset,v=t.dataset[e.name+"Target"],w=(s=void 0!==v?document.querySelector("".concat(v)):t).getBoundingClientRect();null===a||a.inView?(r=w.top+e.instance.scroll.y-fT(s).y,i=w.left+e.instance.scroll.x-fT(s).x):(r=w.top-fT(a.el).y-fT(s).y,i=w.left-fT(a.el).x-fT(s).x);var b=r+s.offsetHeight,_=i+s.offsetWidth,E={x:(_-i)/2+i,y:(b-r)/2+r};if(m){var S=t.getBoundingClientRect(),I=S.top,T=S.left,k={x:T-i,y:I-r};r+=window.innerHeight,i+=window.innerWidth,b=I+s.offsetHeight-t.offsetHeight-k[e.directionAxis],E={x:((_=T+s.offsetWidth-t.offsetWidth-k[e.directionAxis])-i)/2+i,y:(b-r)/2+r}}u="false"!=u&&(void 0!=u||e.repeat);var A=[0,0];if(y)if("horizontal"===e.direction){for(var x=0;x<y.length;x++)"string"==typeof y[x]?y[x].includes("%")?A[x]=parseInt(y[x].replace("%","")*e.windowWidth/100):A[x]=parseInt(y[x]):A[x]=y[x];i+=A[0],_-=A[1]}else{for(x=0;x<y.length;x++)"string"==typeof y[x]?y[x].includes("%")?A[x]=parseInt(y[x].replace("%","")*e.windowHeight/100):A[x]=parseInt(y[x]):A[x]=y[x];r+=A[0],b-=A[1]}var C={el:t,id:c,class:l,section:a,top:r,middle:E,bottom:b,left:i,right:_,offset:y,progress:0,repeat:u,inView:!1,call:h,speed:g,delay:f,position:d,target:s,direction:p,sticky:m};e.els[c]=C,t.classList.contains(l)&&e.setInView(e.els[c],c),(!1!==g||m)&&(e.parallaxElements[c]=C)}))}},{key:"addSections",value:function(){var e=this;this.sections={};var t=this.el.querySelectorAll("[data-".concat(this.name,"-section]"));0===t.length&&(t=[this.el]),t.forEach((function(t,n){var r="string"===typeof t.dataset[e.name+"Id"]?t.dataset[e.name+"Id"]:"section"+n,i=t.getBoundingClientRect(),s={x:i.left-1.5*window.innerWidth-fT(t).x,y:i.top-1.5*window.innerHeight-fT(t).y},o={x:s.x+i.width+2*window.innerWidth,y:s.y+i.height+2*window.innerHeight},a="string"===typeof t.dataset[e.name+"Persistent"];t.setAttribute("data-scroll-section-id",r);var l={el:t,offset:s,limit:o,inView:!1,persistent:a,id:r};e.sections[r]=l}))}},{key:"transform",value:function(e,t,n,r){var i;if(r){var s=fT(e),o=dT(s.x,t,r),a=dT(s.y,n,r);i="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(o,",").concat(a,",0,1)")}else i="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(t,",").concat(n,",0,1)");e.style.webkitTransform=i,e.style.msTransform=i,e.style.transform=i}},{key:"transformElements",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.instance.scroll.x+this.windowWidth,i=this.instance.scroll.y+this.windowHeight,s={x:this.instance.scroll.x+this.windowMiddle.x,y:this.instance.scroll.y+this.windowMiddle.y};Object.entries(this.parallaxElements).forEach((function(o){var a=MI(o,2),l=(a[0],a[1]),c=!1;if(e&&(c=0),l.inView||n)switch(l.position){case"top":case"left":c=t.instance.scroll[t.directionAxis]*-l.speed;break;case"elementTop":c=(i-l.top)*-l.speed;break;case"bottom":c=(t.instance.limit[t.directionAxis]-i+t.windowHeight)*l.speed;break;case"elementLeft":c=(r-l.left)*-l.speed;break;case"right":c=(t.instance.limit[t.directionAxis]-r+t.windowHeight)*l.speed;break;default:c=(s[t.directionAxis]-l.middle[t.directionAxis])*-l.speed}l.sticky&&(c=l.inView?"horizontal"===t.direction?t.instance.scroll.x-l.left+window.innerWidth:t.instance.scroll.y-l.top+window.innerHeight:"horizontal"===t.direction?t.instance.scroll.x<l.left-window.innerWidth&&t.instance.scroll.x<l.left-window.innerWidth/2?0:t.instance.scroll.x>l.right&&t.instance.scroll.x>l.right+100&&l.right-l.left+window.innerWidth:t.instance.scroll.y<l.top-window.innerHeight&&t.instance.scroll.y<l.top-window.innerHeight/2?0:t.instance.scroll.y>l.bottom&&t.instance.scroll.y>l.bottom+100&&l.bottom-l.top+window.innerHeight),!1!==c&&("horizontal"===l.direction||"horizontal"===t.direction&&"vertical"!==l.direction?t.transform(l.el,c,0,!e&&l.delay):t.transform(l.el,0,c,!e&&l.delay))}))}},{key:"scrollTo",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=parseInt(n.offset)||0,i=isNaN(parseInt(n.duration))?1e3:parseInt(n.duration),s=n.easing||[.25,0,.35,1],o=!!n.disableLerp,a=!!n.callback&&n.callback;if(s=ST.apply(void 0,jI(s)),"string"===typeof e){if("top"===e)e=0;else if("bottom"===e)e=this.instance.limit.y;else if("left"===e)e=0;else if("right"===e)e=this.instance.limit.x;else if(!(e=document.querySelector(e)))return}else if("number"===typeof e)e=parseInt(e);else if(!e||!e.tagName)return void console.warn("`target` parameter is not valid");if("number"!==typeof e){if(!pT(e).includes(this.el))return;var l=e.getBoundingClientRect(),c=l.top,u=l.left,h=pT(e).find((function(e){return Object.entries(t.sections).map((function(e){var t=MI(e,2);t[0];return t[1]})).find((function(t){return t.el==e}))})),d=0;d=h?fT(h)[this.directionAxis]:-this.instance.scroll[this.directionAxis],r="horizontal"===this.direction?u+r-d:c+r-d}else r=e+r;var f=parseFloat(this.instance.delta[this.directionAxis]),p=Math.max(0,Math.min(r,this.instance.limit[this.directionAxis]))-f,m=function(e){o?"horizontal"===t.direction?t.setScroll(f+p*e,t.instance.delta.y):t.setScroll(t.instance.delta.x,f+p*e):t.instance.delta[t.directionAxis]=f+p*e};this.animatingScroll=!0,this.stopScrolling(),this.startScrolling();var g=Date.now();!function e(){var n=(Date.now()-g)/i;n>1?(m(1),t.animatingScroll=!1,0==i&&t.update(),a&&a()):(t.scrollToRaf=requestAnimationFrame(e),m(s(n)))}()}},{key:"update",value:function(){this.setScrollLimit(),this.addSections(),this.addElements(),this.detectElements(),this.updateScroll(),this.transformElements(!0),this.reinitScrollBar(),this.checkScroll(!0)}},{key:"startScroll",value:function(){this.stop=!1}},{key:"stopScroll",value:function(){this.stop=!0}},{key:"setScroll",value:function(e,t){this.instance=CI(CI({},this.instance),{},{scroll:{x:e,y:t},delta:{x:e,y:t},speed:0})}},{key:"destroy",value:function(){LI(RI(n.prototype),"destroy",this).call(this),this.stopScrolling(),this.html.classList.remove(this.smoothClass),this.vs.destroy(),this.destroyScrollBar(),window.removeEventListener("keydown",this.checkKey,!1)}}]),n}(VI),PT=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};II(this,e),this.options=t,Object.assign(this,BI,t),this.smartphone=BI.smartphone,t.smartphone&&Object.assign(this.smartphone,t.smartphone),this.tablet=BI.tablet,t.tablet&&Object.assign(this.tablet,t.tablet),this.smooth||"horizontal"!=this.direction||console.warn("\ud83d\udea8 `smooth:false` & `horizontal` direction are not yet compatible"),this.tablet.smooth||"horizontal"!=this.tablet.direction||console.warn("\ud83d\udea8 `smooth:false` & `horizontal` direction are not yet compatible (tablet)"),this.smartphone.smooth||"horizontal"!=this.smartphone.direction||console.warn("\ud83d\udea8 `smooth:false` & `horizontal` direction are not yet compatible (smartphone)"),this.init()}return kI(e,[{key:"init",value:function(){if(this.options.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||window.innerWidth<this.tablet.breakpoint,this.options.isTablet=this.options.isMobile&&window.innerWidth>=this.tablet.breakpoint,this.smooth&&!this.options.isMobile||this.tablet.smooth&&this.options.isTablet||this.smartphone.smooth&&this.options.isMobile&&!this.options.isTablet?this.scroll=new OT(this.options):this.scroll=new WI(this.options),this.scroll.init(),window.location.hash){var e=window.location.hash.slice(1,window.location.hash.length),t=document.getElementById(e);t&&this.scroll.scrollTo(t)}}},{key:"update",value:function(){this.scroll.update()}},{key:"start",value:function(){this.scroll.startScroll()}},{key:"stop",value:function(){this.scroll.stopScroll()}},{key:"scrollTo",value:function(e,t){this.scroll.scrollTo(e,t)}},{key:"setScroll",value:function(e,t){this.scroll.setScroll(e,t)}},{key:"on",value:function(e,t){this.scroll.setEvents(e,t)}},{key:"off",value:function(e,t){this.scroll.unsetEvents(e,t)}},{key:"destroy",value:function(){this.scroll.destroy()}}]),e}();const DT=PT;const LT=function(){const e=(0,i.useRef)(null);return(0,i.useEffect)((()=>{const t=new DT({el:e.current,smooth:!0});return()=>{t&&t.destroy()}}),[]),(0,wI.jsxs)("div",{className:"home-container","data-scroll-container":!0,ref:e,children:[(0,wI.jsxs)("div",{className:"container",children:[(0,wI.jsxs)("div",{className:"navbar",children:[(0,wI.jsx)("div",{className:"logo",children:"QnA.AI"}),(0,wI.jsxs)("div",{className:"links",children:[(0,wI.jsx)(Ae,{to:"/login",children:"Login"}),(0,wI.jsx)(Ae,{to:"/signup",children:"Sign Up"})]})]}),(0,wI.jsxs)("div",{className:"hero","data-scroll":!0,"data-scroll-speed":"1",children:[(0,wI.jsxs)("div",{className:"hero-card",children:[(0,wI.jsxs)("div",{className:"hero-text",children:[(0,wI.jsx)("h1",{children:"Your Personalized Bot Builder"}),(0,wI.jsx)("p",{children:"From the AI -- By the AI -- To the AI"}),(0,wI.jsx)("button",{children:(0,wI.jsx)(Ae,{to:"/login",children:"BUILD"})})]}),(0,wI.jsx)("div",{className:"hero-image",children:(0,wI.jsx)("img",{src:"https://i.gifer.com/SImn.gif"})})]}),(0,wI.jsx)("div",{className:"blob"})]})]}),(0,wI.jsxs)("div",{className:"container-2","data-scroll":!0,"data-scroll-speed":"1",children:[(0,wI.jsx)("div",{className:"features-heading",children:(0,wI.jsxs)("h1",{children:["Why ",(0,wI.jsx)("br",{}),"Us?"]})}),(0,wI.jsxs)("div",{className:"features",children:[(0,wI.jsxs)("div",{class:"card",children:[(0,wI.jsx)("span",{}),(0,wI.jsxs)("div",{class:"content",children:[(0,wI.jsx)("h2",{children:"Intelligent Parsing"}),(0,wI.jsx)("p",{children:"QNA.ai's advanced algorithms meticulously extract key insights from your PDFs, ensuring your bots are rich with accurate information ready to engage users."})]})]}),(0,wI.jsxs)("div",{class:"card",children:[(0,wI.jsx)("span",{}),(0,wI.jsxs)("div",{class:"content",children:[(0,wI.jsx)("h2",{children:"Tailored Bot Creation"}),(0,wI.jsx)("p",{children:"Create bespoke bots that reflect your PDF content seamlessly. With QNA.ai, customize responses, dialogue flows, and personality traits to match your brand and audience."})]})]}),(0,wI.jsxs)("div",{class:"card",children:[(0,wI.jsx)("span",{}),(0,wI.jsxs)("div",{class:"content",children:[(0,wI.jsx)("h2",{children:"Engaging User Experience"}),(0,wI.jsx)("p",{children:"Empower users with an intuitive Q&A interface. QNA.ai's bots effortlessly handle inquiries, providing instant responses and enhancing user engagement with your PDF content."})]})]})]})]}),(0,wI.jsxs)("div",{className:"container-5","data-scroll":!0,"data-scroll-speed":"1",children:[(0,wI.jsx)("div",{className:"timeline-heading",children:(0,wI.jsxs)("h1",{children:["lets ",(0,wI.jsx)("br",{}),"Begin :)"]})}),(0,wI.jsxs)("div",{className:"timeline",children:[(0,wI.jsxs)("div",{className:"timeline__event animated fadeInUp delay-3s timeline__event--type1",children:[(0,wI.jsxs)("div",{className:"timeline__event__icon ",children:[(0,wI.jsx)("i",{className:"lni-cake"}),(0,wI.jsx)("div",{className:"timeline__event__date",children:"Step 1"})]}),(0,wI.jsxs)("div",{className:"timeline__event__content ",children:[(0,wI.jsx)("div",{className:"timeline__event__title",children:"Create Profile"}),(0,wI.jsx)("div",{className:"timeline__event__description",children:(0,wI.jsx)("p",{children:"Users sign up and create a profile on the QNA.ai platform. They input their preferences, customize settings, and set up their account to tailor the bot-building experience to their needs."})})]})]}),(0,wI.jsxs)("div",{className:"timeline__event animated fadeInUp delay-2s timeline__event--type2",children:[(0,wI.jsxs)("div",{className:"timeline__event__icon",children:[(0,wI.jsx)("i",{className:"lni-burger"}),(0,wI.jsx)("div",{className:"timeline__event__date",children:"Step 2"})]}),(0,wI.jsxs)("div",{className:"timeline__event__content",children:[(0,wI.jsx)("div",{className:"timeline__event__title",children:"Upload PDF for Bot Training"}),(0,wI.jsx)("div",{className:"timeline__event__description",children:(0,wI.jsx)("p",{children:"Users upload PDF documents they want the bot to be trained on. QNA.ai's algorithms analyze the PDF content, extracting relevant information and training the bot to respond accurately to user inquiries based on the document."})})]})]}),(0,wI.jsxs)("div",{className:"timeline__event animated fadeInUp delay-1s timeline__event--type3",children:[(0,wI.jsxs)("div",{className:"timeline__event__icon",children:[(0,wI.jsx)("i",{className:"lni-slim"}),(0,wI.jsx)("div",{className:"timeline__event__date",children:"Step 3"})]}),(0,wI.jsxs)("div",{className:"timeline__event__content",children:[(0,wI.jsx)("div",{className:"timeline__event__title",children:"Interact with Bot"}),(0,wI.jsx)("div",{className:"timeline__event__description",children:(0,wI.jsx)("p",{children:"Once the bot is trained, users can interact with it through the platform. Users can ask questions related to the uploaded PDFs, and the bot provides instant, relevant responses, facilitating smooth communication and enhancing user experience."})})]})]})]})]}),(0,wI.jsxs)("div",{className:"container-3","data-scroll":!0,"data-scroll-speed":"1",children:[(0,wI.jsx)("div",{className:"about-heading",children:(0,wI.jsxs)("h1",{children:["Meet the ",(0,wI.jsx)("br",{}),"Team :)"]})}),(0,wI.jsxs)("div",{className:"about-container",children:[(0,wI.jsxs)("div",{className:"about-card",children:[(0,wI.jsxs)("div",{className:"about-content",children:[(0,wI.jsx)("div",{className:"about-img",children:(0,wI.jsx)("img",{src:"https://i.ibb.co/FJtN84y/mayur.jpg",alt:"Profile"})}),(0,wI.jsx)("div",{className:"about-cardContent",children:(0,wI.jsxs)("h3",{children:["Mayur Behere ",(0,wI.jsx)("br",{}),(0,wI.jsx)("span",{children:"Frontend Development"})]})})]}),(0,wI.jsxs)("ul",{className:"about-social-icons",children:[(0,wI.jsx)("li",{style:{"--i":1},children:(0,wI.jsx)("a",{href:"https://www.linkedin.com/in/mayur-behere-446148223/",children:(0,wI.jsx)("i",{className:"fa fa-linkedin","aria-hidden":"true"})})}),(0,wI.jsx)("li",{style:{"--i":2},children:(0,wI.jsx)("a",{href:"https://www.instagram.com/mayur_behere/",children:(0,wI.jsx)("i",{className:"fa fa-instagram","aria-hidden":"true"})})}),(0,wI.jsx)("li",{style:{"--i":3},children:(0,wI.jsx)("a",{href:"https://github.com/MayurBehere",children:(0,wI.jsx)("i",{className:"fa fa-github","aria-hidden":"true"})})})]})]}),(0,wI.jsxs)("div",{className:"about-card",children:[(0,wI.jsxs)("div",{className:"about-content",children:[(0,wI.jsx)("div",{className:"about-img",children:(0,wI.jsx)("img",{src:"https://i.ibb.co/xqztgmf/Whats-App-Image-2024-02-27-at-20-22-29-15ea6528.jpg",alt:"Profile"})}),(0,wI.jsx)("div",{className:"about-cardContent",children:(0,wI.jsxs)("h3",{children:["sahaj mishra ",(0,wI.jsx)("br",{}),(0,wI.jsx)("span",{children:"ML Development"})]})})]}),(0,wI.jsxs)("ul",{className:"about-social-icons",children:[(0,wI.jsx)("li",{style:{"--i":1},children:(0,wI.jsx)("a",{href:"#",children:(0,wI.jsx)("i",{className:"fa fa-linkedin","aria-hidden":"true"})})}),(0,wI.jsx)("li",{style:{"--i":2},children:(0,wI.jsx)("a",{href:"https://www.instagram.com/sahajm2027/?igsh=dXljZm50bmJldzFk",children:(0,wI.jsx)("i",{className:"fa fa-instagram","aria-hidden":"true"})})}),(0,wI.jsx)("li",{style:{"--i":3},children:(0,wI.jsx)("a",{href:"https://github.com/Sahaj-27",children:(0,wI.jsx)("i",{className:"fa fa-github","aria-hidden":"true"})})})]})]}),(0,wI.jsxs)("div",{className:"about-card",children:[(0,wI.jsxs)("div",{className:"about-content",children:[(0,wI.jsx)("div",{className:"about-img",children:(0,wI.jsx)("img",{src:"https://i.ibb.co/GW4yfVQ/Whats-App-Image-2024-02-27-at-20-08-36-20cb661b.jpg",alt:"Profile"})}),(0,wI.jsx)("div",{className:"about-cardContent",children:(0,wI.jsxs)("h3",{children:["Prathamesh Patil ",(0,wI.jsx)("br",{}),(0,wI.jsx)("span",{children:"Backend Development"})]})})]}),(0,wI.jsxs)("ul",{className:"about-social-icons",children:[(0,wI.jsx)("li",{style:{"--i":1},children:(0,wI.jsx)("a",{href:"https://www.linkedin.com/in/prathamesh-patil-8a403624a/",children:(0,wI.jsx)("i",{className:"fa fa-linkedin","aria-hidden":"true"})})}),(0,wI.jsx)("li",{style:{"--i":2},children:(0,wI.jsx)("a",{href:"https://www.instagram.com/_parth2003?igsh=ODN5cXV2OW1vZzZp",children:(0,wI.jsx)("i",{className:"fa fa-instagram","aria-hidden":"true"})})}),(0,wI.jsx)("li",{style:{"--i":3},children:(0,wI.jsx)("a",{href:"https://github.com/prathamesh093",children:(0,wI.jsx)("i",{className:"fa fa-github","aria-hidden":"true"})})})]})]}),(0,wI.jsxs)("div",{className:"about-card",children:[(0,wI.jsxs)("div",{className:"about-content",children:[(0,wI.jsx)("div",{className:"about-img",children:(0,wI.jsx)("img",{src:"https://unsplash.it/200/200",alt:"Profile"})}),(0,wI.jsx)("div",{className:"about-cardContent",children:(0,wI.jsxs)("h3",{children:["Gaurav Chowdhary ",(0,wI.jsx)("br",{}),(0,wI.jsx)("span",{children:"Backend Development"})]})})]}),(0,wI.jsxs)("ul",{className:"about-social-icons",children:[(0,wI.jsx)("li",{style:{"--i":1},children:(0,wI.jsx)("a",{href:"#",children:(0,wI.jsx)("i",{className:"fa fa-linkedin","aria-hidden":"true"})})}),(0,wI.jsx)("li",{style:{"--i":2},children:(0,wI.jsx)("a",{href:"#",children:(0,wI.jsx)("i",{className:"fa fa-instagram","aria-hidden":"true"})})}),(0,wI.jsx)("li",{style:{"--i":3},children:(0,wI.jsx)("a",{href:"#",children:(0,wI.jsx)("i",{className:"fa fa-github","aria-hidden":"true"})})})]})]})]})]}),(0,wI.jsx)("div",{className:"container-4","data-scroll":!0,"data-scroll-speed":"1",children:(0,wI.jsxs)("div",{className:"contact-form",children:[(0,wI.jsx)("h1",{className:"form-title",children:"Contact Us"}),(0,wI.jsxs)("form",{children:[(0,wI.jsxs)("div",{className:"form-group",children:[(0,wI.jsx)("label",{htmlFor:"name",children:"Name"}),(0,wI.jsx)("input",{type:"text",id:"name",name:"name",required:!0})]}),(0,wI.jsxs)("div",{className:"form-group",children:[(0,wI.jsx)("label",{htmlFor:"email",children:"Email"}),(0,wI.jsx)("input",{type:"email",id:"email",name:"email",required:!0})]}),(0,wI.jsxs)("div",{className:"form-group",children:[(0,wI.jsx)("label",{htmlFor:"message",children:"Message"}),(0,wI.jsx)("textarea",{id:"message",name:"message",required:!0})]}),(0,wI.jsx)("button",{type:"submit",className:"btn",children:"Submit"})]}),(0,wI.jsx)("div",{className:"blob"})]})})]})},MT=()=>{const[e,t]=(0,i.useState)(""),n=te();return(0,wI.jsxs)("div",{className:"login-container",children:[(0,wI.jsxs)("div",{className:"login-card",children:[(0,wI.jsx)("h1",{children:"Forgot Password"}),(0,wI.jsxs)("form",{onSubmit:t=>{t.preventDefault(),Fi(tS,e).then((()=>{vI.success("Password reset email sent. Please check your inbox."),n("/login")})).catch((e=>{console.error("Error sending password reset email:",e),vI.error("Error sending password reset email. Please try again.")}))},children:[(0,wI.jsxs)("div",{className:"form-group",children:[(0,wI.jsx)("label",{children:"Email:"}),(0,wI.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value)})]}),(0,wI.jsx)("div",{className:"submit-buttons",children:(0,wI.jsx)("button",{type:"submit",children:"Send Password Reset Email"})})]})]}),(0,wI.jsx)("div",{className:"blob"})]})};function jT(e,t){return function(){return e.apply(t,arguments)}}const{toString:FT}=Object.prototype,{getPrototypeOf:UT}=Object,BT=(VT=Object.create(null),e=>{const t=FT.call(e);return VT[t]||(VT[t]=t.slice(8,-1).toLowerCase())});var VT;const zT=e=>(e=e.toLowerCase(),t=>BT(t)===e),qT=e=>t=>typeof t===e,{isArray:HT}=Array,WT=qT("undefined");const GT=zT("ArrayBuffer");const KT=qT("string"),QT=qT("function"),YT=qT("number"),JT=e=>null!==e&&"object"===typeof e,XT=e=>{if("object"!==BT(e))return!1;const t=UT(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},$T=zT("Date"),ZT=zT("File"),ek=zT("Blob"),tk=zT("FileList"),nk=zT("URLSearchParams");function rk(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),HT(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let o;for(n=0;n<s;n++)o=r[n],t.call(null,e[o],o,e)}}function ik(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const sk="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ok=e=>!WT(e)&&e!==sk;const ak=(lk="undefined"!==typeof Uint8Array&&UT(Uint8Array),e=>lk&&e instanceof lk);var lk;const ck=zT("HTMLFormElement"),uk=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),hk=zT("RegExp"),dk=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};rk(n,((n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)})),Object.defineProperties(e,r)},fk="abcdefghijklmnopqrstuvwxyz",pk="0123456789",mk={DIGIT:pk,ALPHA:fk,ALPHA_DIGIT:fk+fk.toUpperCase()+pk};const gk=zT("AsyncFunction"),yk={isArray:HT,isArrayBuffer:GT,isBuffer:function(e){return null!==e&&!WT(e)&&null!==e.constructor&&!WT(e.constructor)&&QT(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||QT(e.append)&&("formdata"===(t=BT(e))||"object"===t&&QT(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&GT(e.buffer),t},isString:KT,isNumber:YT,isBoolean:e=>!0===e||!1===e,isObject:JT,isPlainObject:XT,isUndefined:WT,isDate:$T,isFile:ZT,isBlob:ek,isRegExp:hk,isFunction:QT,isStream:e=>JT(e)&&QT(e.pipe),isURLSearchParams:nk,isTypedArray:ak,isFileList:tk,forEach:rk,merge:function e(){const{caseless:t}=ok(this)&&this||{},n={},r=(r,i)=>{const s=t&&ik(n,i)||i;XT(n[s])&&XT(r)?n[s]=e(n[s],r):XT(r)?n[s]=e({},r):HT(r)?n[s]=r.slice():n[s]=r};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&rk(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return rk(t,((t,r)=>{n&&QT(t)?e[r]=jT(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],r&&!r(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==n&&UT(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:BT,kindOfTest:zT,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(HT(e))return e;let t=e.length;if(!YT(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:ck,hasOwnProperty:uk,hasOwnProp:uk,reduceDescriptors:dk,freezeMethods:e=>{dk(e,((t,n)=>{if(QT(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];QT(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return HT(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:ik,global:sk,isContextDefined:ok,ALPHABET:mk,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mk.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&QT(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(JT(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=HT(e)?[]:{};return rk(e,((e,t)=>{const s=n(e,r+1);!WT(s)&&(i[t]=s)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:gk,isThenable:e=>e&&(JT(e)||QT(e))&&QT(e.then)&&QT(e.catch)};function vk(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}yk.inherits(vk,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:yk.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const wk=vk.prototype,bk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{bk[e]={value:e}})),Object.defineProperties(vk,bk),Object.defineProperty(wk,"isAxiosError",{value:!0}),vk.from=(e,t,n,r,i,s)=>{const o=Object.create(wk);return yk.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),vk.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const _k=vk;function Ek(e){return yk.isPlainObject(e)||yk.isArray(e)}function Sk(e){return yk.endsWith(e,"[]")?e.slice(0,-2):e}function Ik(e,t,n){return e?e.concat(t).map((function(e,t){return e=Sk(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Tk=yk.toFlatObject(yk,{},null,(function(e){return/^is[A-Z]/.test(e)}));const kk=function(e,t,n){if(!yk.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=yk.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!yk.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&yk.isSpecCompliantForm(t);if(!yk.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(yk.isDate(e))return e.toISOString();if(!a&&yk.isBlob(e))throw new _k("Blob is not supported. Use a Buffer instead.");return yk.isArrayBuffer(e)||yk.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(yk.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(yk.isArray(e)&&function(e){return yk.isArray(e)&&!e.some(Ek)}(e)||(yk.isFileList(e)||yk.endsWith(n,"[]"))&&(a=yk.toArray(e)))return n=Sk(n),a.forEach((function(e,r){!yk.isUndefined(e)&&null!==e&&t.append(!0===o?Ik([n],r,s):null===o?n:n+"[]",l(e))})),!1;return!!Ek(e)||(t.append(Ik(i,n,s),l(e)),!1)}const u=[],h=Object.assign(Tk,{defaultVisitor:c,convertValue:l,isVisitable:Ek});if(!yk.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!yk.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),yk.forEach(n,(function(n,s){!0===(!(yk.isUndefined(n)||null===n)&&i.call(t,n,yk.isString(s)?s.trim():s,r,h))&&e(n,r?r.concat(s):[s])})),u.pop()}}(e),t};function Ak(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function xk(e,t){this._pairs=[],e&&kk(e,this,t)}const Ck=xk.prototype;Ck.append=function(e,t){this._pairs.push([e,t])},Ck.toString=function(e){const t=e?function(t){return e.call(this,t,Ak)}:Ak;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Nk=xk;function Rk(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ok(e,t,n){if(!t)return e;const r=n&&n.encode||Rk,i=n&&n.serialize;let s;if(s=i?i(t,n):yk.isURLSearchParams(t)?t.toString():new Nk(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const Pk=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){yk.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Dk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lk={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Nk,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Mk="undefined"!==typeof window&&"undefined"!==typeof document,jk=(Fk="undefined"!==typeof navigator&&navigator.product,Mk&&["ReactNative","NativeScript","NS"].indexOf(Fk)<0);var Fk;const Uk="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Bk={...t,...Lk};const Vk=function(e){function t(e,n,r,i){let s=e[i++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),a=i>=e.length;if(s=!s&&yk.isArray(r)?r.length:s,a)return yk.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!o;r[s]&&yk.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],i)&&yk.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}(r[s])),!o}if(yk.isFormData(e)&&yk.isFunction(e.entries)){const n={};return yk.forEachEntry(e,((e,r)=>{t(function(e){return yk.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const zk={transitional:Dk,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=yk.isObject(e);i&&yk.isHTMLForm(e)&&(e=new FormData(e));if(yk.isFormData(e))return r?JSON.stringify(Vk(e)):e;if(yk.isArrayBuffer(e)||yk.isBuffer(e)||yk.isStream(e)||yk.isFile(e)||yk.isBlob(e))return e;if(yk.isArrayBufferView(e))return e.buffer;if(yk.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return kk(e,new Bk.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Bk.isNode&&yk.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=yk.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return kk(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(yk.isString(e))try{return(t||JSON.parse)(e),yk.trim(e)}catch(rS){if("SyntaxError"!==rS.name)throw rS}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||zk.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&yk.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(rS){if(n){if("SyntaxError"===rS.name)throw _k.from(rS,_k.ERR_BAD_RESPONSE,this,null,this.response);throw rS}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bk.classes.FormData,Blob:Bk.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};yk.forEach(["delete","get","head","post","put","patch"],(e=>{zk.headers[e]={}}));const qk=zk,Hk=yk.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wk=Symbol("internals");function Gk(e){return e&&String(e).trim().toLowerCase()}function Kk(e){return!1===e||null==e?e:yk.isArray(e)?e.map(Kk):String(e)}function Qk(e,t,n,r,i){return yk.isFunction(r)?r.call(this,t,n):(i&&(t=n),yk.isString(t)?yk.isString(r)?-1!==t.indexOf(r):yk.isRegExp(r)?r.test(t):void 0:void 0)}class Yk{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=Gk(t);if(!i)throw new Error("header name must be a non-empty string");const s=yk.findKey(r,i);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=Kk(e))}const s=(e,t)=>yk.forEach(e,((e,n)=>i(e,n,t)));return yk.isPlainObject(e)||e instanceof this.constructor?s(e,t):yk.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?s((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&Hk[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=Gk(e)){const n=yk.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(yk.isFunction(t))return t.call(this,e,n);if(yk.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Gk(e)){const n=yk.findKey(this,e);return!(!n||void 0===this[n]||t&&!Qk(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=Gk(e)){const i=yk.findKey(n,e);!i||t&&!Qk(0,n[i],i,t)||(delete n[i],r=!0)}}return yk.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!Qk(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return yk.forEach(this,((r,i)=>{const s=yk.findKey(n,i);if(s)return t[s]=Kk(r),void delete t[i];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();o!==i&&delete t[i],t[o]=Kk(r),n[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return yk.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&yk.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Wk]=this[Wk]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Gk(e);t[r]||(!function(e,t){const n=yk.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return yk.isArray(e)?e.forEach(r):r(e),this}}Yk.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),yk.reduceDescriptors(Yk.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),yk.freezeMethods(Yk);const Jk=Yk;function Xk(e,t){const n=this||qk,r=t||n,i=Jk.from(r.headers);let s=r.data;return yk.forEach(e,(function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)})),i.normalize(),s}function $k(e){return!(!e||!e.__CANCEL__)}function Zk(e,t,n){_k.call(this,null==e?"canceled":e,_k.ERR_CANCELED,t,n),this.name="CanceledError"}yk.inherits(Zk,_k,{__CANCEL__:!0});const eA=Zk;const tA=Bk.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];yk.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),yk.isString(r)&&o.push("path="+r),yk.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function nA(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const rA=Bk.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=yk.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};const iA=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,s=0,o=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[o];i||(i=l),n[s]=a,r[s]=l;let u=o,h=0;for(;u!==s;)h+=n[u++],u%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),l-i<t)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}};function sA(e,t){let n=0;const r=iA(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a);n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}const oA={http:null,xhr:"undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const i=Jk.from(e.headers).normalize();let s,o,{responseType:a,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}if(yk.isFormData(r))if(Bk.hasStandardBrowserEnv||Bk.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(o=i.getContentType())){const[e,...t]=o?o.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const h=nA(e.baseURL,e.url);function d(){if(!u)return;const r=Jk.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new _k("Request failed with status code "+n.status,[_k.ERR_BAD_REQUEST,_k.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),c()}),(function(e){n(e),c()}),{data:a&&"text"!==a&&"json"!==a?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),Ok(h,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(d)},u.onabort=function(){u&&(n(new _k("Request aborted",_k.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new _k("Network Error",_k.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||Dk;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new _k(t,r.clarifyTimeoutError?_k.ETIMEDOUT:_k.ECONNABORTED,e,u)),u=null},Bk.hasStandardBrowserEnv&&(l&&yk.isFunction(l)&&(l=l(e)),l||!1!==l&&rA(h))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&tA.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in u&&yk.forEach(i.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),yk.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&"json"!==a&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",sA(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",sA(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=t=>{u&&(n(!t||t.type?new eA(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(h);f&&-1===Bk.protocols.indexOf(f)?n(new _k("Unsupported protocol "+f+":",_k.ERR_BAD_REQUEST,e)):u.send(r||null)}))}};yk.forEach(oA,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(rS){}Object.defineProperty(e,"adapterName",{value:t})}}));const aA=e=>"- ".concat(e),lA=e=>yk.isFunction(e)||null===e||!1===e,cA=e=>{e=yk.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!lA(n)&&(r=oA[(t=String(n)).toLowerCase()],void 0===r))throw new _k("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+s]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(aA).join("\n"):" "+aA(e[0]):"as no adapter specified";throw new _k("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function uA(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new eA(null,e)}function hA(e){uA(e),e.headers=Jk.from(e.headers),e.data=Xk.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return cA(e.adapter||qk.adapter)(e).then((function(t){return uA(e),t.data=Xk.call(e,e.transformResponse,t),t.headers=Jk.from(t.headers),t}),(function(t){return $k(t)||(uA(e),t&&t.response&&(t.response.data=Xk.call(e,e.transformResponse,t.response),t.response.headers=Jk.from(t.response.headers))),Promise.reject(t)}))}const dA=e=>e instanceof Jk?{...e}:e;function fA(e,t){t=t||{};const n={};function r(e,t,n){return yk.isPlainObject(e)&&yk.isPlainObject(t)?yk.merge.call({caseless:n},e,t):yk.isPlainObject(t)?yk.merge({},t):yk.isArray(t)?t.slice():t}function i(e,t,n){return yk.isUndefined(t)?yk.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function s(e,t){if(!yk.isUndefined(t))return r(void 0,t)}function o(e,t){return yk.isUndefined(t)?yk.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t)=>i(dA(e),dA(t),!0)};return yk.forEach(Object.keys(Object.assign({},e,t)),(function(r){const s=l[r]||i,o=s(e[r],t[r],r);yk.isUndefined(o)&&s!==a||(n[r]=o)})),n}const pA="1.6.8",mA={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{mA[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const gA={};mA.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.8] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new _k(r(i," has been removed"+(t?" in "+t:"")),_k.ERR_DEPRECATED);return t&&!gA[i]&&(gA[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}};const yA={assertOptions:function(e,t,n){if("object"!==typeof e)throw new _k("options must be an object",_k.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const t=e[s],n=void 0===t||o(t,s,e);if(!0!==n)throw new _k("option "+s+" must be "+n,_k.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new _k("Unknown option "+s,_k.ERR_BAD_OPTION)}},validators:mA},vA=yA.validators;class wA{constructor(e){this.defaults=e,this.interceptors={request:new Pk,response:new Pk}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=fA(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&yA.assertOptions(n,{silentJSONParsing:vA.transitional(vA.boolean),forcedJSONParsing:vA.transitional(vA.boolean),clarifyTimeoutError:vA.transitional(vA.boolean)},!1),null!=r&&(yk.isFunction(r)?t.paramsSerializer={serialize:r}:yA.assertOptions(r,{encode:vA.function,serialize:vA.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&yk.merge(i.common,i[t.method]);i&&yk.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Jk.concat(s,i);const o=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,h=0;if(!a){const e=[hA.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);h<u;)c=c.then(e[h++],e[h++]);return c}u=o.length;let d=t;for(h=0;h<u;){const e=o[h++],t=o[h++];try{d=e(d)}catch(f){t.call(this,f);break}}try{c=hA.call(this,d)}catch(f){return Promise.reject(f)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(e){return Ok(nA((e=fA(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}yk.forEach(["delete","get","head","options"],(function(e){wA.prototype[e]=function(t,n){return this.request(fA(n||{},{method:e,url:t,data:(n||{}).data}))}})),yk.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(fA(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}wA.prototype[e]=t(),wA.prototype[e+"Form"]=t(!0)}));const bA=wA;class _A{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new eA(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;const t=new _A((function(t){e=t}));return{token:t,cancel:e}}}const EA=_A;const SA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(SA).forEach((e=>{let[t,n]=e;SA[n]=t}));const IA=SA;const TA=function e(t){const n=new bA(t),r=jT(bA.prototype.request,n);return yk.extend(r,bA.prototype,n,{allOwnKeys:!0}),yk.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(fA(t,n))},r}(qk);TA.Axios=bA,TA.CanceledError=eA,TA.CancelToken=EA,TA.isCancel=$k,TA.VERSION=pA,TA.toFormData=kk,TA.AxiosError=_k,TA.Cancel=TA.CanceledError,TA.all=function(e){return Promise.all(e)},TA.spread=function(e){return function(t){return e.apply(null,t)}},TA.isAxiosError=function(e){return yk.isObject(e)&&!0===e.isAxiosError},TA.mergeConfig=fA,TA.AxiosHeaders=Jk,TA.formToJSON=e=>Vk(yk.isHTMLForm(e)?new FormData(e):e),TA.getAdapter=cA,TA.HttpStatusCode=IA,TA.default=TA;const kA=TA;class AA{constructor(e,t){this._delegate=e,this.firebase=t,Wt(e,new ct("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),rn(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vt;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vt;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Wt(this._delegate,e)}_addOrOverwriteComponent(e){Gt(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const xA=new Xe("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const CA=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=en(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ze(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:sn,setLogLevel:an,onLog:on,apps:null,SDK_VERSION:Zt,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(Kt(e)&&"PUBLIC"===e.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw xA.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&Le(o,e.serviceProps),r[s]=o,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ze(n,e=e||Vt))throw xA.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(AA);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Le(n,e)},createSubscribe:st,ErrorFactory:Xe,deepExtend:Le}),n}(),NA=new wt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){NA.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&NA.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const RA=CA;function OA(){return window}!function(e){sn("@firebase/app-compat","0.2.29",e)}();async function PA(e,t,n){var r;const{BuildInfo:i}=OA();Vn(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(Vn(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return Or()?o.ibi=i.packageName:Cr()?o.apn=i.packageName:Dn(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Ro(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}function DA(e){const{cordova:t}=OA();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const LA=20;class MA extends oo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function jA(e){const t=await BA()._get(VA(e));return t&&await BA()._remove(VA(e)),t}function FA(e,t){var n,r;const i=function(e){const t=zA(e),n=t.link?decodeURIComponent(t.link):void 0,r=zA(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return zA(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=zA(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(rS){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?Ln(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function UA(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<LA;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function BA(){return wr(ls)}function VA(e){return Er("authEvent",e.config.apiKey,e.name)}function zA(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return rt(n.join("?"))}const qA=class{constructor(){this._redirectPersistence=us,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=io,this._overrideRedirectResult=$s}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new MA(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Dn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,o,a,l,c,u;const h=OA();Un("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Un("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Un("function"===typeof(null===(s=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Un("function"===typeof(null===(l=null===(a=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Un("function"===typeof(null===(u=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Ys.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:UA(),postBody:null,tenantId:e.tenantId,error:Ln(e,"no-auth-event")}}(e,n,r);await function(e,t){return BA()._set(VA(e),t)}(e,s);const o=await PA(e,s,t);return async function(e,t,n){const{cordova:r}=OA();let i=()=>{};try{await new Promise(((s,o)=>{let a=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{o(Ln(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),Cr()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await DA(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=OA(),n={};Or()?n.iosBundleId=t.packageName:Cr()?n.androidPackageName=t.packageName:Dn(e,"operation-not-supported-in-this-environment"),await co(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=OA(),s=setTimeout((async()=>{await jA(e),t.onEvent(HA())}),500),o=async n=>{clearTimeout(s);const r=await jA(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=FA(r,n.url)),t.onEvent(i||HA())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,o);const a=r,l="".concat(i.packageName.toLowerCase(),"://");OA().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&o({url:e}),"function"===typeof a)try{a(e)}catch(rS){console.error(rS)}}}};function HA(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ln("no-auth-event")}}function WA(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function GA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return!("file:"!==WA()&&"ionic:"!==WA()&&"capacitor:"!==WA()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function KA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return Ke()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/Edge\/\d+/.test(e)}(e)}function QA(){try{const e=self.localStorage,t=ds();if(e)return e.setItem(t,"1"),e.removeItem(t),!KA()||Ye()}catch(rS){return YA()&&Ye()}return!1}function YA(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function JA(){return("http:"===WA()||"https:"===WA()||We()||GA())&&!(Ge()||He())&&QA()&&!YA()}function XA(){return GA()&&"undefined"!==typeof document}const $A={LOCAL:"local",NONE:"none",SESSION:"session"},ZA=Un,ex="persistence";async function tx(e){await e._initializationPromise;const t=nx(),n=Er(ex,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function nx(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(rS){return null}}const rx=Un;class ix{constructor(){this.browserResolver=wr(Po),this.cordovaResolver=wr(qA),this.underlyingResolver=null,this._redirectPersistence=us,this._completeRedirectFn=io,this._overrideRedirectResult=$s}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return XA()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return rx(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!XA()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function sx(e){return e.unwrap()}function ox(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new ux(e,function(e,t){var n;const r=lt(e),i=t;return Un(t.customData.operationType,r,"argument-error"),Un(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),ns._fromError(r,i)}(e,t))}else if(r){const e=ax(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function ax(e){const{_tokenResponse:t}=e instanceof Je?e.customData:e;if(!t)return null;if(!(e instanceof Je)&&"temporaryProof"in t&&"phoneNumber"in t)return Fs.credentialFromResult(e);const n=t.providerId;if(!n||n===_n.PASSWORD)return null;let r;switch(n){case _n.GOOGLE:r=fi;break;case _n.FACEBOOK:r=di;break;case _n.GITHUB:r=pi;break;case _n.TWITTER:r=yi;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?mi._create(n,o):ii._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new hi(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof Je?r.credentialFromError(e):r.credentialFromResult(e)}function lx(e,t){return t.catch((t=>{throw t instanceof Je&&ox(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,ax(r)),additionalUserInfo:es(e),user:hx.getOrCreate(n)};var r}))}async function cx(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>lx(e,n.confirm(t))}}class ux{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return lx(sx(this.auth),this.resolver.resolveSignIn(e))}}class hx{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=lt(e);return is.has(t)||is.set(t,rs._fromUser(t)),is.get(t)}(e)}static getOrCreate(e){return hx.USER_MAP.has(e)||hx.USER_MAP.set(e,new hx(e)),hx.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return lx(this.auth,Ni(this._delegate,e))}async linkWithPhoneNumber(e,t){return cx(this.auth,async function(e,t,n){const r=lt(e);await ki(!1,r,"phone");const i=await js(r.auth,t,lt(n));return new Ms(i,(e=>Ni(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return lx(this.auth,async function(e,t,n){const r=lt(e);jn(r.auth,t,ci);const i=Us(r.auth,n);return new Ks(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,ix))}async linkWithRedirect(e){return await tx(Fr(this.auth)),ro(this._delegate,e,ix)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return lx(this.auth,Ri(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return cx(this.auth,async function(e,t,n){const r=lt(e),i=await js(r.auth,t,lt(n));return new Ms(i,(e=>Ri(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return lx(this.auth,async function(e,t,n){const r=lt(e);jn(r.auth,t,ci);const i=Us(r.auth,n);return new Ks(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,ix))}async reauthenticateWithRedirect(e){return await tx(Fr(this.auth)),no(this._delegate,e,ix)}sendEmailVerification(e){return Hi(this._delegate,e)}async unlink(e){return await Ii(this._delegate,e),this}updateEmail(e){return function(e,t){return Ki(lt(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Ki(lt(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Ti(lt(e),t)}(this._delegate,e)}updateProfile(e){return Gi(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Wi(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}hx.USER_MAP=new WeakMap;const dx=Un;class fx{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;dx(n,"invalid-api-key",{appName:e.name}),dx(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?ix:void 0;this._delegate=t.initialize({options:{persistence:mx(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Cn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?hx.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Gr(this._delegate,e,t)}applyActionCode(e){return Ui(this._delegate,e)}checkActionCode(e){return Bi(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Jr(lt(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ji(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return lx(this._delegate,Vi(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return qi(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=ai.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){dx(JA(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Fr(e)._initializationPromise,io(e,t,!1)}(this._delegate,ix);return e?lx(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Fr(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=px(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=px(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Fr(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){Un(t.handleCodeInApp,r,"argument-error"),t&&Mi(r,e,t)}(i,n),await Wr(r,i,"getOobCode",ti)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return Fi(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){ZA(Object.values($A).includes(t),e,"invalid-persistence-type"),Ge()?ZA(t!==$A.SESSION,e,"unsupported-persistence-type"):He()?ZA(t===$A.NONE,e,"unsupported-persistence-type"):YA()?ZA(t===$A.NONE||t===$A.LOCAL&&Ye(),e,"unsupported-persistence-type"):ZA(t===$A.NONE||QA(),e,"unsupported-persistence-type")}(this._delegate,e),e){case $A.SESSION:t=us;break;case $A.LOCAL:t=await wr(Ts)._isAvailable()?Ts:ls;break;case $A.NONE:t=_r;break;default:return Dn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return lx(this._delegate,async function(e){var t;const n=Fr(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new wi({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await vi(n,{returnSecureToken:!0}),i=await wi._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return lx(this._delegate,Ci(this._delegate,e))}signInWithCustomToken(e){return lx(this._delegate,Oi(this._delegate,e))}signInWithEmailAndPassword(e,t){return lx(this._delegate,zi(this._delegate,e,t))}signInWithEmailLink(e,t){return lx(this._delegate,async function(e,t,n){const r=lt(e),i=li.credentialWithLink(t,n||zn());return Un(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Ci(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return cx(this._delegate,async function(e,t,n){const r=Fr(e),i=await js(r,t,lt(n));return new Ms(i,(e=>Ci(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return dx(JA(),this._delegate,"operation-not-supported-in-this-environment"),lx(this._delegate,Gs(this._delegate,e,ix))}async signInWithRedirect(e){return dx(JA(),this._delegate,"operation-not-supported-in-this-environment"),await tx(this._delegate),to(this._delegate,e,ix)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Bi(lt(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function px(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&hx.getOrCreate(e)),error:t,complete:n}}function mx(e,t){const n=function(e,t){const n=nx();if(!n)return[];const r=Er(ex,e,t);switch(n.getItem(r)){case $A.NONE:return[_r];case $A.LOCAL:return[Ts,us];case $A.SESSION:return[us];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Ts)||n.push(Ts),"undefined"!==typeof window)for(const r of[ls,us])n.includes(r)||n.push(r);return n.includes(_r)||n.push(_r),n}fx.Persistence=$A;class gx{constructor(){this.providerId="phone",this._delegate=new Fs(sx(RA.auth()))}static credential(e,t){return Fs.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}gx.PHONE_SIGN_IN_METHOD=Fs.PHONE_SIGN_IN_METHOD,gx.PROVIDER_ID=Fs.PROVIDER_ID;const yx=Un;class vx{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:RA.app();var r;yx(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Ls(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var wx;(wx=RA).INTERNAL.registerComponent(new ct("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new fx(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:En,PASSWORD_RESET:Sn,RECOVER_EMAIL:In,REVERT_SECOND_FACTOR_ADDITION:Tn,VERIFY_AND_CHANGE_EMAIL:kn,VERIFY_EMAIL:An}},EmailAuthProvider:li,FacebookAuthProvider:di,GithubAuthProvider:pi,GoogleAuthProvider:fi,OAuthProvider:hi,SAMLAuthProvider:gi,PhoneAuthProvider:gx,PhoneMultiFactorGenerator:Mo,RecaptchaVerifier:vx,TwitterAuthProvider:yi,Auth:fx,AuthCredential:Yr,Error:Je}).setInstantiationMode("LAZY").setMultipleInstances(!1)),wx.registerVersion("@firebase/auth-compat","0.5.4");const bx="firebasestorage.googleapis.com",_x="storageBucket";class Ex extends Je{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Tx(e),"Firebase Storage: ".concat(t," (").concat(Tx(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ex.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Tx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Sx,Ix;function Tx(e){return"storage/"+e}function kx(){return new Ex(Sx.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ax(){return new Ex(Sx.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xx(){return new Ex(Sx.CANCELED,"User canceled the upload/download.")}function Cx(){return new Ex(Sx.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Nx(e){return new Ex(Sx.INVALID_ARGUMENT,e)}function Rx(){return new Ex(Sx.APP_DELETED,"The Firebase app was deleted.")}function Ox(e){return new Ex(Sx.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Px(e,t){return new Ex(Sx.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Dx(e){throw new Ex(Sx.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Sx||(Sx={}));class Lx{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Lx.makeFromUrl(e,t)}catch(rS){return new Lx(e,"")}if(""===n.path)return n;throw r=e,new Ex(Sx.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===bx?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Lx(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Ex(Sx.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Mx{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function jx(e){return"string"===typeof e||e instanceof String}function Fx(e){return Ux()&&e instanceof Blob}function Ux(){return"undefined"!==typeof Blob}function Bx(e,t,n,r){if(r<t)throw Nx("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Nx("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Vx(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function zx(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function qx(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Ix||(Ix={}));class Hx{constructor(e,t,n,r,i,s,o,a,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Wx(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Ix.NO_ERROR,i=n.getStatus();if(!t||qx(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Ix.ABORT;return void e(!1,new Wx(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new Wx(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(rS){r(rS)}else if(null!==i){const e=kx();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Rx():xx())}else{r(Ax())}};this.canceled_?t(0,new Wx(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){s&&clearTimeout(s)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||o)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),s=setTimeout((()=>{o=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Wx{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Gx(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Kx(){const e=Gx();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Ux())return new Blob(n);throw new Ex(Sx.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Qx(e){if("undefined"===typeof atob)throw t="base-64",new Ex(Sx.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const Yx={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Jx{constructor(e,t){this.data=e,this.contentType=t||null}}function Xx(e,t){switch(e){case Yx.RAW:return new Jx($x(t));case Yx.BASE64:case Yx.BASE64URL:return new Jx(Zx(e,t));case Yx.DATA_URL:return new Jx(function(e){const t=new eC(e);return t.base64?Zx(Yx.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(rS){throw Px(Yx.DATA_URL,"Malformed data URL.")}return $x(t)}(t.rest)}(t),new eC(t).contentType)}throw kx()}function $x(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Zx(e,t){switch(e){case Yx.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Px(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Yx.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Px(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Qx(t)}catch(rS){if(rS.message.includes("polyfill"))throw rS;throw Px(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class eC{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Px(Yx.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class tC{constructor(e,t){let n=0,r="";Fx(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Fx(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new tC(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new tC(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Ux()){const e=t.map((e=>e instanceof tC?e.data_:e));return new tC(Kx.apply(null,e))}{const e=t.map((e=>jx(e)?Xx(Yx.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new tC(r,!0)}}uploadData(){return this.data_}}function nC(e){let t;try{t=JSON.parse(e)}catch(rS){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function rC(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function iC(e,t){return t}class sC{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||iC}}let oC=null;function aC(){if(oC)return oC;const e=[];e.push(new sC("bucket")),e.push(new sC("generation")),e.push(new sC("metageneration")),e.push(new sC("name","fullPath",!0));const t=new sC("name");t.xform=function(e,t){return function(e){return!jx(e)||e.length<2?e:rC(e)}(t)},e.push(t);const n=new sC("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new sC("timeCreated")),e.push(new sC("updated")),e.push(new sC("md5Hash",null,!0)),e.push(new sC("cacheControl",null,!0)),e.push(new sC("contentDisposition",null,!0)),e.push(new sC("contentEncoding",null,!0)),e.push(new sC("contentLanguage",null,!0)),e.push(new sC("contentType",null,!0)),e.push(new sC("metadata","customMetadata",!0)),oC=e,oC}function lC(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new Lx(n,r);return t._makeStorageReference(i)}})}(r,e),r}function cC(e,t,n){const r=nC(t);if(null===r)return null;return lC(e,r,n)}function uC(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const hC="prefixes",dC="items";function fC(e,t,n){const r=nC(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[hC])for(const i of n[hC]){const n=i.replace(/\/$/,""),s=e._makeStorageReference(new Lx(t,n));r.prefixes.push(s)}if(n[dC])for(const i of n[dC]){const n=e._makeStorageReference(new Lx(t,i.name));r.items.push(n)}return r}(e,t,r)}class pC{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function mC(e){if(!e)throw kx()}function gC(e,t){return function(n,r){const i=cC(e,r,t);return mC(null!==i),i}}function yC(e,t){return function(n,r){const i=cC(e,r,t);return mC(null!==i),function(e,t,n,r){const i=nC(t);if(null===i)return null;if(!jx(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return Vx("/b/"+o(i)+"/o/"+o(s),n,r)+zx({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function vC(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Ex(Sx.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Ex(Sx.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new Ex(Sx.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Ex(Sx.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function wC(e){const t=vC(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new Ex(Sx.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function bC(e,t,n){const r=Vx(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new pC(r,"GET",gC(e,n),i);return s.errorHandler=wC(t),s}function _C(e,t,n,r,i){const s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=Vx(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,l=new pC(o,"GET",function(e,t){return function(n,r){const i=fC(e,t,r);return mC(null!==i),i}}(e,t.bucket),a);return l.urlParams=s,l.errorHandler=vC(t),l}function EC(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function SC(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const l=EC(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+uC(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",h=tC.getBlob(c,r,u);if(null===h)throw Cx();const d={name:l.fullPath},f=Vx(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new pC(f,"POST",gC(e,n),p);return m.urlParams=d,m.headers=o,m.body=h.uploadData(),m.errorHandler=vC(t),m}class IC{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function TC(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(rS){mC(!1)}return mC(!!n&&-1!==(t||["active"]).indexOf(n)),n}const kC=262144;function AC(e,t,n,r,i,s,o,a){const l=new IC(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new Ex(Sx.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const h=l.current,d=h+u;let f="";f=0===u?"finalize":c===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(l.current)},m=r.slice(h,d);if(null===m)throw Cx();const g=t.maxUploadRetryTime,y=new pC(n,"POST",(function(e,n){const i=TC(e,["active","final"]),o=l.current+u,a=r.size();let c;return c="final"===i?gC(t,s)(e,n):null,new IC(o,a,"final"===i,c)}),g);return y.headers=p,y.body=m.uploadData(),y.progressCallback=a||null,y.errorHandler=vC(e),y}const xC={STATE_CHANGED:"state_changed"},CC={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function NC(e){switch(e){case"running":case"pausing":case"canceling":return CC.RUNNING;case"paused":return CC.PAUSED;case"success":return CC.SUCCESS;case"canceled":return CC.CANCELED;default:return CC.ERROR}}class RC{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function OC(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let PC=null;class DC{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ix.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Ix.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Ix.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw Dx("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Dx("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Dx("cannot .getStatus() before sending");try{return this.xhr_.status}catch(rS){return-1}}getResponse(){if(!this.sent_)throw Dx("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Dx("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class LC extends DC{initXhr(){this.xhr_.responseType="text"}}function MC(){return PC?PC():new LC}class jC{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=aC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(Sx.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(qx(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=Ax()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(Sx.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o=EC(t,r,i),a={name:o.fullPath},l=Vx(s,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=uC(o,n),h=e.maxUploadRetryTime,d=new pC(l,"POST",(function(e){let t;TC(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(rS){mC(!1)}return mC(jx(t)),t}),h);return d.urlParams=a,d.headers=c,d.body=u,d.errorHandler=vC(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,MC,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,s=new pC(n,"POST",(function(e){const t=TC(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(rS){mC(!1)}n||mC(!1);const i=Number(n);return mC(!isNaN(i)),new IC(i,r.size(),"final"===t)}),i);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=vC(t),s}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,MC,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=kC*this._chunkMultiplier,t=new IC(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let s;try{s=AC(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(rS){return this._error=rS,void this._transition("error")}const o=this._ref.storage._makeRequest(s,MC,r,i,!1);this._request=o,o.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(kC*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=bC(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,MC,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=SC(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,MC,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=xx(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=NC(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new RC(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(NC(this._state)){case CC.SUCCESS:OC(this._resolve.bind(null,this.snapshot))();break;case CC.CANCELED:case CC.ERROR:OC(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(NC(this._state)){case CC.RUNNING:case CC.PAUSED:e.next&&OC(e.next.bind(e,this.snapshot))();break;case CC.SUCCESS:e.complete&&OC(e.complete.bind(e))();break;default:e.error&&OC(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class FC{constructor(e,t){this._service=e,this._location=t instanceof Lx?t:Lx.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new FC(e,t)}get root(){const e=new Lx(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rC(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Lx(this._location.bucket,e);return new FC(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw Ox(e)}}function UC(e){const t={prefixes:[],items:[]};return BC(e,t).then((()=>t))}async function BC(e,t,n){const r={pageToken:n},i=await VC(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await BC(e,t,i.nextPageToken)}function VC(e,t){null!=t&&"number"===typeof t.maxResults&&Bx("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=_C(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,MC)}function zC(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=Vx(t.fullServerUrl(),e.host,e._protocol),s=uC(n,r),o=e.maxOperationRetryTime,a=new pC(i,"PATCH",gC(e,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=wC(t),a}(e.storage,e._location,t,aC());return e.storage.makeRequestWithTokens(n,MC)}function qC(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Vx(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new pC(r,"GET",yC(e,n),i);return s.errorHandler=wC(t),s}(e.storage,e._location,aC());return e.storage.makeRequestWithTokens(t,MC).then((e=>{if(null===e)throw new Ex(Sx.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function HC(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=Vx(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new pC(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=wC(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,MC)}function WC(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Lx(e._location.bucket,n);return new FC(e.storage,r)}function GC(e,t){if(e instanceof YC){const n=e;if(null==n._bucket)throw new Ex(Sx.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_x+"' property when initializing the app?");const r=new FC(n,n._bucket);return null!=t?GC(r,t):r}return void 0!==t?WC(e,t):e}function KC(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof YC)return new FC(e,t);throw Nx("To use ref(service, url), the first argument must be a Storage instance.")}return GC(e,t)}function QC(e,t){const n=null===t||void 0===t?void 0:t[_x];return null==n?null:Lx.makeFromBucketSpec(n,e)}class YC{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=bx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Lx.makeFromBucketSpec(r,this._host):QC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Lx.makeFromBucketSpec(this._url,e):this._bucket=QC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Bx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Bx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new FC(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Mx(Rx());{const s=function(e,t,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=zx(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Hx(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const JC="@firebase/storage",XC="0.12.2",$C="storage";function ZC(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new jC(e,new tC(t),n)}(e=lt(e),t,n)}function eN(e){return function(e){e._throwIfRoot("getMetadata");const t=bC(e.storage,e._location,aC());return e.storage.makeRequestWithTokens(t,MC)}(e=lt(e))}function tN(e,t){return KC(e=lt(e),t)}function nN(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:ze(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function rN(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new YC(r,i,s,n,Zt)}Kt(new ct($C,rN,"PUBLIC").setMultipleInstances(!0)),sn(JC,XC,""),sn(JC,XC,"esm2017");class iN{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class sN{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new iN(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new iN(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"===typeof t?e=>t(new iN(e,this,this._ref)):{next:t.next?e=>t.next(new iN(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class oN{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new aN(e,this._service)))}get items(){return this._delegate.items.map((e=>new aN(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class aN{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return WC(e,t)}(this._delegate,e);return new aN(t,this.storage)}get root(){return new aN(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new aN(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new sN(ZC(this._delegate,e,t),this)}putString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yx.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");const r=Xx(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new sN(new jC(this._delegate,new tC(r.data,!0),i),this)}listAll(){return function(e){return UC(e=lt(e))}(this._delegate).then((e=>new oN(e,this.storage)))}list(e){return function(e,t){return VC(e=lt(e),t)}(this._delegate,e||void 0).then((e=>new oN(e,this.storage)))}getMetadata(){return eN(this._delegate)}updateMetadata(e){return function(e,t){return zC(e=lt(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return qC(e=lt(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return HC(e=lt(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw Ox(e)}}class lN{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(cN(e))throw Nx("ref() expected a child path but got a URL, use refFromURL instead.");return new aN(tN(this._delegate,e),this)}refFromURL(e){if(!cN(e))throw Nx("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Lx.makeFromUrl(e,this._delegate.host)}catch(rS){throw Nx("refFromUrl() expected a valid full URL but got an invalid one.")}return new aN(tN(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};nN(this._delegate,e,t,n)}}function cN(e){return/^[A-Za-z]+:\/\//.test(e)}function uN(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new lN(r,i)}!function(e){const t={TaskState:CC,TaskEvent:xC,StringFormat:Yx,Storage:lN,Reference:aN};e.INTERNAL.registerComponent(new ct("storage-compat",uN,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.5")}(RA);function hN(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new _h("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function dN(){if("undefined"===typeof Uint8Array)throw new _h("unimplemented","Uint8Arrays are not available in this environment.")}function fN(){if("undefined"==typeof atob)throw new _h("unimplemented","Blobs are unavailable in Firestore in this environment.")}class pN{constructor(e){this._delegate=e}static fromBase64String(e){return fN(),new pN(U_.fromBase64String(e))}static fromUint8Array(e){return dN(),new pN(U_.fromUint8Array(e))}toBase64(){return fN(),this._delegate.toBase64()}toUint8Array(){return dN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function mN(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class gN{enableIndexedDbPersistence(e,t){return function(e,t){F_(e=m_(e,N_));const n=R_(e);if(n._uninitializedComponentsProvider)throw new _h(bh.FAILED_PRECONDITION,"SDK cache is already specified.");mh("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new Vb;return P_(n,i,new Ub(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){F_(e=m_(e,N_));const t=R_(e);if(t._uninitializedComponentsProvider)throw new _h(bh.FAILED_PRECONDITION,"SDK cache is already specified.");mh("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new Vb;return P_(t,r,new Bb(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new _h(bh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Eh;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!rd.D())return Promise.resolve();const t=e+"main";await rd.delete(t)}(yv(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class yN{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof ff||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||mh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w_(this._delegate,e,t,n)}enableNetwork(){return L_(this._delegate)}disableNetwork(){return M_(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,h_("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return D_(this._delegate)}onSnapshotsInSync(e){return KE(this._delegate,e)}get app(){if(!this._appCompat)throw new _h("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new RN(this,S_(this._delegate,e))}catch(rS){throw SN(rS,"collection()","Firestore.collection()")}}doc(e){try{return new EN(this,I_(this._delegate,e))}catch(rS){throw SN(rS,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xN(this,function(e,t){if(e=m_(e,v_),u_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new _h(bh.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new b_(e,null,function(e){return new gp(Uh.emptyPath(),e)}(t))}(this._delegate,e))}catch(rS){throw SN(rS,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=m_(e,N_);const r=Object.assign(Object.assign({},JE),n);return function(e){if(e.maxAttempts<1)throw new _h(bh.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Eh;return e.asyncQueue.enqueueAndForget((async()=>{const i=await r_(e);new Gb(e.asyncQueue,i,n,t,r).Ya()})),r.promise}(R_(e),(n=>t(new ZE(e,n))),r)}(this._delegate,(t=>e(new wN(this,t))))}batch(){return R_(this._delegate),new bN(new XE(this._delegate,(e=>QE(this._delegate,e))))}loadBundle(e){return function(e,t){const n=R_(e=m_(e,N_)),r=new C_;return a_(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return j_(this._delegate,e).then((e=>e?new xN(this,e):null))}}class vN extends OE{constructor(e){super(),this.firestore=e}convertBytes(e){return new pN(new U_(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return EN.forKey(t,this.firestore,null)}}class wN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new vN(e)}get(e){const t=ON(e);return this._delegate.get(t).then((e=>new kN(this._firestore,new ME(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=ON(e);return n?(hN("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=ON(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=ON(e);return this._delegate.delete(t),this}}class bN{constructor(e){this._delegate=e}set(e,t,n){const r=ON(e);return n?(hN("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=ON(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=ON(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class _N{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new jE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new AN(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=_N.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new _N(e,new vN(e),t),r.set(t,i)),i}}_N.INSTANCES=new WeakMap;class EN{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vN(e)}static forPath(e,t,n){if(e.length%2!==0)throw new _h("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new EN(t,new __(t._delegate,n,new zh(e)))}static forKey(e,t,n){return new EN(t,new __(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new RN(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new RN(this.firestore,S_(this._delegate,e))}catch(rS){throw SN(rS,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=lt(e))instanceof __&&T_(this._delegate,e)}set(e,t){t=hN("DocumentReference.set",t);try{return t?HE(this._delegate,e,t):HE(this._delegate,e)}catch(rS){throw SN(rS,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?WE(this._delegate,e):WE(this._delegate,e,t,...r)}catch(rS){throw SN(rS,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return QE(m_(e.firestore,N_),[new Sm(e._key,um.none())])}(this._delegate)}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=IN(t),i=TN(t,(e=>new kN(this.firestore,new ME(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return GE(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?zE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=m_(e,__);const t=m_(e.firestore,N_);return s_(R_(t),e._key,{source:"server"}).then((n=>YE(t,e,n)))}(this._delegate):function(e){e=m_(e,__);const t=m_(e.firestore,N_);return s_(R_(t),e._key).then((n=>YE(t,e,n)))}(this._delegate),t.then((e=>new kN(this.firestore,new ME(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new EN(this.firestore,e?this._delegate.withConverter(_N.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function SN(e,t,n){return e.message=e.message.replace(t,n),e}function IN(e){for(const t of e)if("object"===typeof t&&!mN(t))return t;return{}}function TN(e,t){var n,r;let i;return i=mN(e[0])?e[0]:mN(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class kN{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new EN(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return BE(this._delegate,e._delegate)}}class AN extends kN{data(e){const t=this._delegate.data(e);return this._delegate._converter||function(e,t){e||yh()}(void 0!==t),t}}class xN{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vN(e)}where(e,t,n){try{return new xN(this.firestore,_E(this._delegate,function(e,t,n){const r=t,i=yE("where",e);return EE._create(i,r,n)}(e,t,n)))}catch(rS){throw SN(rS,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new xN(this.firestore,_E(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=yE("orderBy",e);return IE._create(n,t)}(e,t)))}catch(rS){throw SN(rS,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xN(this.firestore,_E(this._delegate,function(e){return g_("limit",e),TE._create("limit",e,"F")}(e)))}catch(rS){throw SN(rS,"limit()","Query.limit()")}}limitToLast(e){try{return new xN(this.firestore,_E(this._delegate,function(e){return g_("limitToLast",e),TE._create("limitToLast",e,"L")}(e)))}catch(rS){throw SN(rS,"limitToLast()","Query.limitToLast()")}}startAt(){try{return new xN(this.firestore,_E(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return kE._create("startAt",t,!0)}(...arguments)))}catch(rS){throw SN(rS,"startAt()","Query.startAt()")}}startAfter(){try{return new xN(this.firestore,_E(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return kE._create("startAfter",t,!1)}(...arguments)))}catch(rS){throw SN(rS,"startAfter()","Query.startAfter()")}}endBefore(){try{return new xN(this.firestore,_E(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return AE._create("endBefore",t,!1)}(...arguments)))}catch(rS){throw SN(rS,"endBefore()","Query.endBefore()")}}endAt(){try{return new xN(this.firestore,_E(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return AE._create("endAt",t,!0)}(...arguments)))}catch(rS){throw SN(rS,"endAt()","Query.endAt()")}}isEqual(e){return k_(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?qE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=m_(e,b_);const t=m_(e.firestore,N_),n=R_(t),r=new VE(t);return o_(n,e._query,{source:"server"}).then((n=>new FE(t,r,e,n)))}(this._delegate):function(e){e=m_(e,b_);const t=m_(e.firestore,N_),n=R_(t),r=new VE(t);return vE(e._query),o_(n,e._query).then((n=>new FE(t,r,e,n)))}(this._delegate),t.then((e=>new NN(this.firestore,new FE(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=IN(t),i=TN(t,(e=>new NN(this.firestore,new FE(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return GE(this._delegate,r,i)}withConverter(e){return new xN(this.firestore,e?this._delegate.withConverter(_N.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class CN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new AN(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class NN{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new xN(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new AN(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new CN(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new AN(this._firestore,n))}))}isEqual(e){return BE(this._delegate,e._delegate)}}class RN extends xN{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new EN(this.firestore,e):null}doc(e){try{return new EN(this.firestore,void 0===e?I_(this._delegate):I_(this._delegate,e))}catch(rS){throw SN(rS,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=m_(e.firestore,N_),r=I_(e),i=PE(e.converter,t);return QE(n,[J_(Y_(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,um.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new EN(this.firestore,e)))}isEqual(e){return T_(this._delegate,e._delegate)}withConverter(e){return new RN(this.firestore,e?this._delegate.withConverter(_N.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ON(e){return m_(e,__)}class PN{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new B_(...t)}static documentId(){return new PN(Vh.keyField().canonicalString())}isEqual(e){return(e=lt(e))instanceof B_&&this._delegate._internalPath.isEqual(e._internalPath)}}class DN{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Z_("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new DN(e)}static delete(){const e=new X_("deleteField");return e._methodName="FieldValue.delete",new DN(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new eE("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new DN(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new tE("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new DN(e)}static increment(e){const t=function(e){return new nE("increment",e)}(e);return t._methodName="FieldValue.increment",new DN(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const LN={Firestore:yN,GeoPoint:z_,Timestamp:Mh,Blob:pN,Transaction:wN,WriteBatch:bN,DocumentReference:EN,DocumentSnapshot:kN,Query:xN,QueryDocumentSnapshot:AN,QuerySnapshot:NN,CollectionReference:RN,FieldPath:PN,FieldValue:DN,setLogLevel:function(e){!function(e){hh.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new ct("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},LN)))}(e,((e,t)=>new yN(e,t,new gN))),e.registerVersion("@firebase/firestore-compat","0.3.27")}(RA);var MN=n(237),jN=i,FN=Symbol.for("react-redux-context"),UN="undefined"!==typeof globalThis?globalThis:{};function BN(){var e;if(!jN.createContext)return{};const t=null!==(e=UN[FN])&&void 0!==e?e:UN[FN]=new Map;let n=t.get(jN.createContext);return n||(n=jN.createContext(null),t.set(jN.createContext,n)),n}var VN=BN(),zN=()=>{throw new Error("uSES not initialized!")};function qN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:VN;return function(){return jN.useContext(e)}}var HN=qN(),WN=zN,GN=(e,t)=>e===t;function KN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:VN;const t=e===VN?HN:qN(e),n=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:r=GN,devModeChecks:i={}}="function"===typeof n?{equalityFn:n}:n;const{store:s,subscription:o,getServerState:a,stabilityCheck:l,identityFunctionCheck:c}=t(),u=(jN.useRef(!0),jN.useCallback({[e.name]:t=>e(t)}[e.name],[e,l,i.stabilityCheck])),h=WN(o.addNestedSub,s.getState,a||s.getState,u,r);return jN.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var QN=KN();Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference");function YN(e){e()}var JN={notify(){},get:()=>[]};function XN(e,t){let n,r=JN,i=0,s=!1;function o(){c.onStateChange&&c.onStateChange()}function a(){i++,n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){YN((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=JN)}const c={addNestedSub:function(e){a();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,a())},tryUnsubscribe:function(){s&&(s=!1,l())},getListeners:()=>r};return c}var $N=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?jN.useLayoutEffect:jN.useEffect;Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var ZN=function(e){let{store:t,context:n,children:r,serverState:i,stabilityCheck:s="once",identityFunctionCheck:o="once"}=e;const a=jN.useMemo((()=>{const e=XN(t);return{store:t,subscription:e,getServerState:i?()=>i:void 0,stabilityCheck:s,identityFunctionCheck:o}}),[t,i,s,o]),l=jN.useMemo((()=>t.getState()),[t]);$N((()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,l]);const c=n||VN;return jN.createElement(c.Provider,{value:a},r)};function eR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:VN;const t=e===VN?HN:qN(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var tR=eR();function nR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:VN;const t=e===VN?tR:eR(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var rR,iR=nR();function sR(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}rR=MN.useSyncExternalStoreWithSelector,WN=rR,(e=>{e})(i.useSyncExternalStore);var oR=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),aR=()=>Math.random().toString(36).substring(7).split("").join("."),lR={INIT:"@@redux/INIT".concat(aR()),REPLACE:"@@redux/REPLACE".concat(aR()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(aR())};function cR(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function uR(e,t,n){if("function"!==typeof e)throw new Error(sR(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(sR(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(sR(1));return n(uR)(e,t)}let r=e,i=t,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach(((e,t)=>{o.set(t,e)})))}function u(){if(l)throw new Error(sR(3));return i}function h(e){if("function"!==typeof e)throw new Error(sR(4));if(l)throw new Error(sR(5));let t=!0;c();const n=a++;return o.set(n,e),function(){if(t){if(l)throw new Error(sR(6));t=!1,c(),o.delete(n),s=null}}}function d(e){if(!cR(e))throw new Error(sR(7));if("undefined"===typeof e.type)throw new Error(sR(8));if("string"!==typeof e.type)throw new Error(sR(17));if(l)throw new Error(sR(9));try{l=!0,i=r(i,e)}finally{l=!1}return(s=o).forEach((e=>{e()})),e}d({type:lR.INIT});return{dispatch:d,subscribe:h,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(sR(10));r=e,d({type:lR.REPLACE})},[oR]:function(){const e=h;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(sR(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[oR](){return this}}}}}var hR="persist:",dR="persist/FLUSH",fR="persist/REHYDRATE",pR="persist/PAUSE",mR="persist/PERSIST",gR="persist/PURGE",yR="persist/REGISTER";function vR(e){return vR="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vR(e)}function wR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _R(e,t,n,r){r.debug;var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wR(n,!0).forEach((function(t){bR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wR(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return e&&"object"===vR(e)&&Object.keys(e).forEach((function(r){"_persist"!==r&&t[r]===n[r]&&(i[r]=e[r])})),i}function ER(e){var t,n=e.blacklist||null,r=e.whitelist||null,i=e.transforms||[],s=e.throttle||0,o="".concat(void 0!==e.keyPrefix?e.keyPrefix:hR).concat(e.key),a=e.storage;t=!1===e.serialize?function(e){return e}:"function"===typeof e.serialize?e.serialize:SR;var l=e.writeFailHandler||null,c={},u={},h=[],d=null,f=null;function p(){if(0===h.length)return d&&clearInterval(d),void(d=null);var e=h.shift(),n=i.reduce((function(t,n){return n.in(t,e,c)}),c[e]);if(void 0!==n)try{u[e]=t(n)}catch(r){console.error("redux-persist/createPersistoid: error serializing state",r)}else delete u[e];0===h.length&&(Object.keys(u).forEach((function(e){void 0===c[e]&&delete u[e]})),f=a.setItem(o,t(u)).catch(g))}function m(e){return(!r||-1!==r.indexOf(e)||"_persist"===e)&&(!n||-1===n.indexOf(e))}function g(e){l&&l(e)}return{update:function(e){Object.keys(e).forEach((function(t){m(t)&&c[t]!==e[t]&&-1===h.indexOf(t)&&h.push(t)})),Object.keys(c).forEach((function(t){void 0===e[t]&&m(t)&&-1===h.indexOf(t)&&void 0!==c[t]&&h.push(t)})),null===d&&(d=setInterval(p,s)),c=e},flush:function(){for(;0!==h.length;)p();return f||Promise.resolve()}}}function SR(e){return JSON.stringify(e)}function IR(e){var t,n=e.transforms||[],r="".concat(void 0!==e.keyPrefix?e.keyPrefix:hR).concat(e.key),i=e.storage;e.debug;return t=!1===e.deserialize?function(e){return e}:"function"===typeof e.deserialize?e.deserialize:TR,i.getItem(r).then((function(e){if(e)try{var r={},i=t(e);return Object.keys(i).forEach((function(e){r[e]=n.reduceRight((function(t,n){return n.out(t,e,i)}),t(i[e]))})),r}catch(s){throw s}}))}function TR(e){return JSON.parse(e)}function kR(e){0}function AR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AR(n,!0).forEach((function(t){CR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AR(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NR(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RR(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function OR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OR(n,!0).forEach((function(t){DR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OR(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function DR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LR={registry:[],bootstrapped:!1},MR=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LR,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yR:return PR({},e,{registry:[].concat(RR(e.registry),[t.key])});case fR:var n=e.registry.indexOf(t.key),r=RR(e.registry);return r.splice(n,1),PR({},e,{registry:r,bootstrapped:0===r.length});default:return e}};var jR=n(901);const FR={botName:"",fileNames:[]},UR="SET_BOT_NAME",BR="SET_FILE_NAMES";const VR=function(e,t){var n=void 0!==e.version?e.version:-1,r=(e.debug,void 0===e.stateReconciler?_R:e.stateReconciler),i=e.getStoredState||IR,s=void 0!==e.timeout?e.timeout:5e3,o=null,a=!1,l=!0,c=function(e){return e._persist.rehydrated&&o&&!l&&o.update(e),e};return function(u,h){var d=u||{},f=d._persist,p=NR(d,["_persist"]);if(h.type===mR){var m=!1,g=function(t,n){m||(h.rehydrate(e.key,t,n),m=!0)};if(s&&setTimeout((function(){!m&&g(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))}),s),l=!1,o||(o=ER(e)),f)return xR({},t(p,h),{_persist:f});if("function"!==typeof h.rehydrate||"function"!==typeof h.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(e.key),i(e).then((function(t){var r=e.migrate||function(e,t){return Promise.resolve(e)};r(t,n).then((function(e){g(e)}),(function(e){g(void 0,e)}))}),(function(e){g(void 0,e)})),xR({},t(p,h),{_persist:{version:n,rehydrated:!1}})}if(h.type===gR)return a=!0,h.result(function(e){var t=e.storage,n="".concat(void 0!==e.keyPrefix?e.keyPrefix:hR).concat(e.key);return t.removeItem(n,kR)}(e)),xR({},t(p,h),{_persist:f});if(h.type===dR)return h.result(o&&o.flush()),xR({},t(p,h),{_persist:f});if(h.type===pR)l=!0;else if(h.type===fR){if(a)return xR({},p,{_persist:xR({},f,{rehydrated:!0})});if(h.key===e.key){var y=t(p,h),v=h.payload,w=xR({},!1!==r&&void 0!==v?r(v,u,y,e):y,{_persist:xR({},f,{rehydrated:!0})});return c(w)}}if(!f)return t(u,h);var b=t(p,h);return b===p?u:c(xR({},b,{_persist:f}))}}({key:"root",storage:jR.A},(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:FR,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case UR:return{...e,botName:t.payload};case BR:return{...e,fileNames:t.payload};default:return e}})),zR=uR(VR),qR=function(e,t,n){var r=n||!1,i=uR(MR,LR,t&&t.enhancer?t.enhancer:void 0),s=function(e){i.dispatch({type:yR,key:e})},o=function(t,n,s){var o={type:fR,payload:n,err:s,key:t};e.dispatch(o),i.dispatch(o),r&&a.getState().bootstrapped&&(r(),r=!1)},a=PR({},i,{purge:function(){var t=[];return e.dispatch({type:gR,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:dR,result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:pR})},persist:function(){e.dispatch({type:mR,register:s,rehydrate:o})}});return t&&t.manualPersist||a.persist(),a}(zR),HR=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(!1),a=(0,i.useRef)(),l=te(),{display_name:c}=i.useContext(bI),u=n=>{let r=[];try{r=Array.from(n.target.files)}catch(o){r=Array.from(n.target.files).slice(0,6)}const i=[".pdf",".jpeg",".jpg",".png",".bmp",".docx",".pptx",".xlsx"],s=r.filter((e=>i.includes(e.name.substring(e.name.lastIndexOf("."))))).filter((t=>!e.map((e=>e.name)).includes(t.name)));if(s.length!==r.length)return void vI.error("Invalid file format or file with same name already exists");if(e.length+s.length>10)return void vI.error("Maximum number of files allowed is 10");r.reduce(((e,t)=>e+t.size),0)/1048576+e.reduce(((e,t)=>e+t.size),0)/1048576<=10?t([...e,...r]):vI.error("Total file size exceeds 10MB")},h=iR();return(0,wI.jsxs)("div",{className:"main-container",children:[(0,wI.jsxs)("div",{className:"left-section",children:[(0,wI.jsx)("div",{className:"logo-section",children:(0,wI.jsx)("div",{className:"logo-main",children:"QnA.AI"})}),(0,wI.jsxs)("div",{className:"left-instructions",children:[(0,wI.jsx)("h1",{children:"Instructions"}),(0,wI.jsxs)("ul",{children:[(0,wI.jsx)("li",{children:"Upload (or drag and drop) the files to get started"}),(0,wI.jsx)("li",{children:"Supported files: .pdf, .jpeg, .png, .bmp, .docx, .pptx, .xlsx"}),(0,wI.jsx)("li",{children:"Maximum allowed size of a individual file: 10MB"}),(0,wI.jsx)("li",{children:"Maximum number of files allowed: 10"})]}),(0,wI.jsxs)("p",{children:[(0,wI.jsx)(Ae,{to:"/Prev-Chats",children:(0,wI.jsxs)("span",{children:["Previous Chats ",(0,wI.jsx)("br",{})," "]})}),(0,wI.jsx)("br",{}),(0,wI.jsx)(Ae,{to:"#",onClick:async()=>{(function(e){return lt(e).signOut()})(zo()).then((()=>{vI.success("Logged out successfully"),l("/login")})).catch((e=>{vI.error("Error logging out: ",e)}))},children:(0,wI.jsx)("span",{children:"LogOut "})})]})]}),(0,wI.jsx)("div",{className:"profile-menu",children:(0,wI.jsxs)("div",{className:"profile-name",children:[c||"Guest",(0,wI.jsx)("span",{children:" :) "})]})})]}),(0,wI.jsxs)("div",{className:"right-section",children:[(0,wI.jsx)("div",{className:"blob"}),(0,wI.jsx)("div",{className:"input-field",children:e.length>0?(0,wI.jsxs)("div",{className:"uploads",children:[(0,wI.jsx)("ul",{children:e.map(((n,r)=>(0,wI.jsxs)("li",{children:[n.name,(0,wI.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABRCSURBVHic7d1Lr2xpXcfxH82lCdFojBHpdqJAn9OIfUVARD1NgxMGBH0BzEx4BypxKt6iM+NETBwwYmCiCSQaZaDGW7gkEEKiEQzQF6BPN9AKAh4Hdap7n3P2pWpXrfU8/+f5fJI1YkDVWrXX97erqvdJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWMHdSV7R+kEc4iWtH8CB7k7yo0n+O8n1xo8FgDG9Osl7k1xL8lCSn0ry8pv/23eS/HuSTyb52yR/ET1axOuT/HqSjyf5UpL/S3LjxPGlJB9O8v4kr2nzEAEYxJuSfCTJd3Nra847vp3kz5Pc3+DxDunxJP+U3S/A9iJ8KMkbGzxeAOr64Wz6cfsvmfsc303yR0letfJjH8brknw0l78AN5J8P8nvpPhnNQCs4pEk/5nDunPy+EyS+1Z9BgN4T5LncryL8IlsPkIAgNNcy3G7sz2ezmZYsIP3Jflejn8RnkhydcXnAUAN70jyfI7fne3xVDbvanOO92SZ+BsBAJxm6fhvj08neeVKz6mc12WZt1+MAABOs1b8t8fvrvO06jn0C3/7jgD/mQbAvNaO/41s/m7Aa9d4cpU8nnUvghEAMK8W8d8ef7LC8ytl3//O3wgA4DIeS7v430jyzfj7AC94fdpdCCMAYB6t4789fmXpJ3qRu1o/gJt+tfH//49n8zecjQCAcT2W5K/Sx2/fj7V+AL34eNqvMe8EAIyrl9/8t8dfL/t06/hy2l+M7fFUkp9e9ukCsKJfyOZz99Z9OXl8ZtFnXMQrs/l7/a0vxsnDOwEAY+jtN//t8bUln3QV96T9hTACAMbTa/xvZPPvA0zvh9L+Qpx1+DgAoKYe3/Y/eXxquadex0tz2L+5bAQAcFLv8b+R5GOLPfsd9fCfAX4/my8B9urHkvxNfBwAUMFj2cT1B1o/kAt8tvUD6MWH036NXXT4TgBA33r+zP/2490LnYNy3p/2F2OX46kkb1zoHABweRXe9t8e15PcvcxpqOc1Sb6d9hdll8M7AQB9uZY6v/nfSPIHi5yFwj6U9hdl1+PJGAEAPbiWWvH/Vjb/+TsnvDH9/UEgIwCgX9dSK/43kvzmEidiBB9M+4uzz+E7AQBtVPrMf3v8c5KXL3EyRvCKJJ9I+4u0z/FkkjcscTIAONW1bN5Kb33/3+f4Qrz1f6HXZ/NFu9YXywgA6M+11Iv/E0muLHAuhnRf+voXAnc5fBwAsKyKb/s/GX9Ndm9GAABbb4/4T8UIAED8J2UEAMxL/CdnBADMp2L8/QuyC7gSIwBgFuLPLYwAgPGJP6cyAgDGJf6cywgAGI/4sxMjAGAc4s9ejACA+sSfSzECAOoSfw5iBADUI/4chREAUIf4c1RGAED/xJ9FGAEA/RJ/FmUEAPRH/FmFEQDQD/FnVUYAQHviTxNGAEA74k9TVUfAzyxxMgBWIv50oeIIeDpGAFDT25N8I+3vo+JPEiMAYA3iT5euJPlK2r/YjABgROJP14wAgOOrGn9fup6MEQBwPOJPKUYAwOHEn5KMAIDLE39KMwIA9if+DMEIANid+DMUIwDgYj8f8WdARgDA2cSfoRkBAHcSf6ZgBAC8SPyZihEAIP5MyggAZib+TM0IAGYk/hAjAJiL+MMJRgAwA/GHUxgBwMjEH85hBAAjEn/YgREAjET8YQ9GADAC8YdLMAKAysQfDnA1RgBQj/jDERgBQCXiD0dkBAAViD8swAgAeib+sCAjAOiR+MMKjACgJ+IPKzICgB6IPzRgBAAtiT80ZAQALYg/dMAIANZUMf5PR/wZlBEArKFq/N1rGJoRACxJ/KFjRgCwBPGHAowA4JjEHwoxAoBjEH8oyAgADiH+UFjVEfDAEicD2NnbIv5QnhEA7EP8YSBGALAL8YcBXU3yRNr/sBoB0Cfxh4EZAcBpxB8mYAQAJ4k/TKTiCHgmyaNLnAyYmPjDhIwAmJv4w8SMAJiT+ANGAExG/IEXGAEwB/EH7mAEwNjEHziTEQBjEn/gQkYAjEX8gZ0ZATAG8Qf2ZgRAbeIPXJoRADWJP3AwIwBqEX/gaIwAqEH8gaMzAqBv4g8sxgiAPr0tyXNp//Mm/jAwIwD6Iv7AaowA6IP4A6u7P0YAtCT+QDNGALQh/kBzRgCsS/yBbhgBsA7xB7pjBMCyxB/olhEAyxB/oHtVR8CbljgZcAQ/F/EHijAC4DjEHyjHCIDDiD9QlhEAlyP+QHlGAOynavwfWOJkALUZAbAb8QeGYwTA+cQfGJYRAKcTf2B4RgDcSvyBaRgBsCH+wHQeSPLVtL+ZGQG0UjH+/nQ2cBQVR8D1GAEcTvyB6RkBzEb8AW4yApiF+APcxghgdOIPcAYjgFGJP8AFjABGI/4AOzICGIX4A+zJCKA68Qe4JCOAqsQf4EBGANWIP8CRGAFUIf4AR2YE0DvxB1iIEUCvxB9gYQ/GCKAvj2YT09avM/EHhmcE0AvxB1iZEUBr4g/QiBFAK+IP0JgRwNrEH6ATRgBrEX+AzlQdAT+7xMlgEeIP0CkjgKWIP0DnjACOTfwBijACOBbxByjGCOBQVePvy6XA9IwALkv8AYozAtiX+AMMwghgV+IPMBgjgIuIP8CgjADOIv4AgzMCuJ34A0zCCGBL/AEmYwQg/gCTMgLmVTH+/gVJgCMyAuYj/gAkMQJmIv4A3MIIGJ/4A3AqI2Bc4g/AuYyA8Yg/ADsxAsbxSMQfgD0YAfU9kuTraX9dxB+gGCOgLvEH4CAPJvla2sfBCNid+ANwFA/FCKhC/AE4KiOgf+IPwCKMgH6JPwCLMgL6I/4ArMII6If4A7AqI6A98Qegiaoj4M1LnIyViT8ATRkB6xN/ALpgBKxH/AHoihGwPPEHoEtGwHKqxn+kL10CcA4j4PjEH4ASjIDjEX8ASjECDif+AJRkBFye+ANQmhGwP/EHYAhGwO7EH4ChVBwBz2bdESD+AAzJCDib+AMwNCPgTuIPwBSMgBeJPwBTMQLEH4BJzTwCxB+Aqc04AsQfADLXCBB/ADhhhhEg/gBwipFHwMMRfwA404gjQPwBYAcjjQDxB4A9jDACxB8ALqHyCBB/ADjAo0meSfs47hvS6x08jn2OZ26eawDoRsV3AiodfvMHoFtGgPgDMCkjQPwBmJQRIP4ATMoIEH8AJmUEiD8AkzICxB+ASRkB4g/ApB6OEXBR/Pf5Z4sBoAwjQPwBmJQRIP4ATMoIEH8AJjX7CBB/AKY16wgQfwCmN9sIEH8AuGmWESD+AHCb0UeA+APAGR5O8vW0j/Wxj2cj/gBwrtFGgPgDwI5GGQHiDwB7qj4CxB8ALqnqCBB/6NxdrR8AAADwoqq//XsXAAAuqXr8jQAA2NMo8TcCAGBHo8X/5Ah4yxHPEwAMY9T4GwEAcIbR428EAMBtZom/EQAAN80WfyMAgOnNGn8jAIBpzR5/IwCA6Yi/EQDAZMTfCABgMuJvBAAwGfE3AgCYzMNJvpb2ca1yGAEAlCf+RgAAkxF/IwCAyYi/EQDAZMTfCABgMuJvBAAwGfE3AgCYzKNJnkn7SO5zXL95tH4c+z7mN+94TQBgURV/8382m5BW/ANF3gkAoLmHUjf+W0YAAOxhhPhvGQEAsIOR4r9lBADAOUaM/1bV7zMYAQAsauT4bxkBAHDCDPHfMgIAIHPFf8sIAGBqM8Z/ywgAYEozx3/LCABgKuL/IiMAgCmI/52qjoC3LnEyABiP+J/NCABgSOJ/MSMAgKGI/+6MAACGIP77q3rOjAAAktQNWcv4b1U9d0YAwOSqBqyH+G9VPYdGAMCkqoarp/hvVT2XRgDAZKoGq8f4b1U9p0YAwCSqhqrn+G9VPbdGAMDgqgaqQvy3qp5jIwBgUFXDVCn+WxXP9XMxAgCGUzFIVeO/VfGcGwEAA6kYourx36p47o0AgAFUDNAo8d+qeA2MAIDCKoZntPhvVbwWRgBAQRWDM2r8typeEyMAoJCKoRk9/lsVr40RAFBAxcDMEv+titfICADoWMWwzBb/rYrXyggA6FDFoMwa/62K18wIAOhIxZDMHv+titfOCADoQMWAiP+tKl5DIwCgoYrhEP/TVbyWRgBAAxWDIf7nq3hNjQCAFVUMhfjvpuK1NQIAVlAxEOK/n4rX2AgAWFDFMIj/5VS81t9K8otLnAyAmVUMgvgfpuI1NwIAjujB1AuB+B+HEQAwqQeTfDXtb+ri344RADAZ8WfLCACYhPhzOyMAYHDiz1mMAIBBiT8XMQIABiP+7MoIABiE+LMvIwCgOPHnsowAgKLEn0MZAQDFiD/HUnUE/NISJwOgZ+LPsRkBAJ0Tf5ZiBAB0SvxZ2kOp9xozAoChiT9rqfhaMwKAIVW8IYt/bRVfc0YAMJSKN2LxH0PF154RAAyh4g1Y/MdS8TVoBAClVbzxiv+YKr4WjQCgpIo3XPEfW8XXpBEAlFLxRiv+c6j42jQCgBIq3mDFfy4VX6NGANC1ijdW8Z9TxdeqEQB0qeINVfznVvE1awQAXal4IxV/kpqvXSMA6ELFG6j4c1LF17ARADRV8cYp/pym4mvZCACaqHjDFH/OU/E1bQQAq6p4oxR/dlHxtW0EAKuoeIMUf/ZR8TVuBACLeiD1boziz2VUHQHXFjgXwOTEn9kYAcD0xJ9ZGQHAtMSf2RkBwHTEHzaMAGAa4g+3MgKA4Yk/nM4IAIYl/nA+IwAYjvjDbowAYBjiD/sxAoDyxB8uxwgAyhJ/OIwRAJQj/nAcRgBQhvjDcRkBQPfuT/JE2t98xJ/RVBzWRgBMQvxhWUYA0B3xh3UYAUA3xB/WZQQAzYk/tGEEAM2IP7RlBACrE3/ogxEArEb8oS9GALA48Yc+GQHAYsQf+mYEAEcn/lCDEQAcjfhDLUYAcDDxh5qMAODSxB9qq/gzbARAYxVvHOIPd6r4s2wEQCNXU++GIf5wtqoj4LElTgZwOvGHMVUcAc/HCIBViD+MzQgA7iD+MAcjAHiB+MNcjABA/GFSRgBMTPxhbkYATEj8gcQIgKmIP3CSEQATEH/gNEYADEz8gfMYATAg8Qd2YQTAQMQf2IcRAAMQf+AyjAAoTPyBQ1S8hxgBTK/iD674Q38q3kuMAKZV8QdW/KFfFe8pRgDTqfiDKv7Qv4r3FiOAaVT8ARV/qKPiPcYIYHgVfzDFH+qpeK8xAhhWxR9I8Ye6Kt5zjACGczXJV9L+h0v8YS5GADQk/kBLRgA0IP5AD4wAWJH4Az0xAmAF4g/0yAiABYk/0DMjABYg/kAFRgAckfgDlRgBcATiD1RkBMABxB+orOoIeMcSJwN2Jf7ACIwA2IP4AyMxAmAH4g+MqOK9zQhgNRV/QMQf2FXFe5wRwOIq/mCIP7Cvivc6I4DFVPyBEH/gsire84wAjq7iD4L4A4eqeO8zAjiaij8A4g8cS8V7oBHAwSq+8MUfOLaK90IjgEu7knovePEHlmIEMAXxB7iTEcDQxB/gbEYAQxJ/gIsZAQxF/AF2ZwQwBPEH2J8RQGniD3B5RgAliT/A4YwAShF/gOMxAihB/AGOzwiga+IPsBwjgC6JP8DyjAC6Iv4A6zEC6IL4A6zPCKAp8Qdop+I92AgYQMUXnvgDo6l4LzYCCqv4ghN/YFQV78lGQEEVX2jiD4yu4r3ZCCik4gtM/IFZVLxHGwEFVHxhiT8wm4r36ueTPL7EyeBwV5J8Oe1fJOIPcDEjgKMQf4B6jAAOIv4AdRkBXIr4A9RnBLAX8QcYhxHATsQfYDxGAOcSf4BxGQGcSvwBxmcEcAvxB5iHEUAS8QeYkREwOfEHmJcRMCnxB8AImIz4A7BVsQlGwCVUvNDiD7Csim0wAvZwJckTaX/R9jmuJ3nTEicDgFu8IcmTaX/f33cEXFvgXAzl3iRfTPuLJf4A/ao4Ap5L8tASJ2MEL0vyD2l/kfY5vO0P0EbFjwO+mORHljgZ1X0g7S/OPoff/AHauj/13gn400XORGH3ZvMZSesLI/4AtVQbAd9P8ugiZ6Ko30/7iyL+ADXdn1pfHv/IMqehnrtSZ735zB+gT5W+E/C9JK9e5jTU8ta0vxi7HH7zB+hbpXcCfm2hc7Czu1o/gCTvbv0AdvBskncl+bfWDwSAM30uyTuyeVe5d4+1fgA9+Mu0X2LnHd72B6ilwscBn1zs2Rfyr2l/IcQfYCy9j4AK71Is7r/S/kKcdvjMH6C2nr8T8L0kL13uqdfQ4wDwmz/AGHp9J+C76eN7eE39S9pfCPEHGFePI+BLiz7jHfSwPnr6HOS5JL+czSgBYAyfz+a/DvhK6wdyQvP29TAAPtX6Adz0bJJ3RvwBRvT5bO7xzcN702dbP4AevCXt34rxhT+AOfTyxcD3Lf1EK2j9p4B95g8wl9bfCfhO/LPAL/i9iD8A62k5Av5shedXxj1JvpV1L4C3/QHm1uLjgP9NcnWNJ1fJb0T8AVjX1aw7Av5wnadVy8uS/H2WP/ne9gfgpPuyzscBn0nyqpWeUzn3JPlC/OYPwLqWfifg6SSvW+3ZFHVfki/m+Cf/qSSPrvg8AKjlSpbrzyMrPo/S7k3yjzneyf9kkteu+gwAqOjY/flU9GdvL0vygSTP5/In/jtJfjvJK1d+7ADU9fIkv5XD+/PB6M9B7s3mW5PPZPcT/40kf5zkJxs8XgDG8BPZ9Od6du/PN1OkPy9p/QD2cHc2f8f5nUkeyuYtlR/M5i8JfjPJfyT5dJK/S/KxJP/T5mECMJi7k7wryePZ/O2Ae5K8Opv+PJXNlwc/l+TjST4a/QEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGAg/w/rORE1CPMsewAAAABJRU5ErkJggg==",onClick:()=>(n=>{const r=[...e];r.splice(n,1),t(r)})(r),alt:"cross-icon",className:"cross-icon"})]},r)))}),(0,wI.jsxs)("div",{className:"actions",children:[(0,wI.jsx)("button",{onClick:()=>t([]),children:"Cancel"}),s?(0,wI.jsxs)("div",{className:"bot-name",children:[(0,wI.jsx)("input",{type:"text",value:n,onChange:e=>r(e.target.value),placeholder:"Enter bot name"}),(0,wI.jsx)("button",{onClick:async()=>{const i=zo().currentUser;if(!n)return void vI.error("Please enter a bot name");if(!/^[A-Za-z0-9]+$/.test(n))return void vI.error("Bot name should contain only alphabets and numbers");if(!i)return void vI.error("Please sign in to upload files");h({type:"SET_BOT_NAME",payload:n});const s=await kA.get("http://localhost:3001/api/botname?user_id=".concat(i.uid,"&bot_name=").concat(n));if(console.log(s),200===s.status){const s=new FormData,a=e.map((e=>e.name));h((e=>({type:BR,payload:e}))(a)),s.append("user_id",i.uid),s.append("bot_name",n),a.forEach(((e,t)=>{s.append("file_names[".concat(t,"]"),e)})),e.forEach((e=>s.append("file_streams",e))),await vI.promise(kA.post("http://localhost:3001/api/analyze",s),{loading:"Uploading Files and Building the Bot ... (This may take a while)",success:()=>(t([]),r(""),o(!1),"Bot is ready to use"),error:e=>"Error building bot: "+e.message},{style:{minWidth:"250px"}}),l("/bot-chat")}else r(""),vI.error("Bot name is already taken, Please enter a different bot name")},children:"Upload"})]}):(0,wI.jsxs)(i.Fragment,{children:[(0,wI.jsx)("input",{type:"file",ref:a,multiple:!0,style:{display:"none"},onChange:u}),(0,wI.jsx)("button",{onClick:()=>a.current&&a.current.click(),children:"Add more"})," ",(0,wI.jsx)("button",{onClick:()=>o(!0),children:"Next"})]})]})]}):(0,wI.jsxs)("div",{className:"drop-area",onDragOver:e=>{e.preventDefault()},onDrop:n=>{n.preventDefault();const r=Array.from(n.dataTransfer.files),i=[".pdf",".jpeg",".jpg",".png",".bmp",".docx",".pptx",".xlsx"],s=r.filter((e=>i.includes(e.name.substring(e.name.lastIndexOf("."))))),o=s.filter((t=>!e.map((e=>e.name)).includes(t.name)));if(o.length!==r.length)return void vI.error("Invalid file format or file with same name already exists.");if(e.length+o.length>10)return void vI.error("Maximum number of files allowed is 10");s.reduce(((e,t)=>e+t.size),0)/1048576<=10?t(s):vI.error("Total file size exceeds 10MB")},children:[(0,wI.jsx)("h1",{children:"Drag and Drop files to upload"}),(0,wI.jsx)("p",{children:"or"}),(0,wI.jsx)("input",{type:"file",multiple:!0,ref:a,style:{display:"none"},onChange:u}),(0,wI.jsx)("button",{onClick:()=>a.current.click(),children:"Select Files"})]})})]})]})};const WR=n.p+"static/media/send.ef255d5fdf040cc89bc6d5457ed6169a.svg",GR=n.p+"static/media/user.4b3c862e51669da1fe8f.png",KR=n.p+"static/media/robot.b7632c9d7ff62a9a919c.png",QR=()=>{const e=QN((e=>e.botName)),t=QN((e=>e.fileNames)),[n,r]=(0,i.useState)(""),s=(0,i.useRef)(null),[o,a]=(0,i.useState)([{text:"Hello, I am QnA.AI, your personal assistant. How can I help you today?",isBot:!0}]);(0,i.useEffect)((()=>{s.current.scrollIntoView({behavior:"smooth"})}),[o]);const{display_name:l}=i.useContext(bI),c=async()=>{const t=zo().currentUser;if(!n)return;const i=n;r(""),a([...o,{text:i,isBot:!1}]),await vI.promise(kA.get("http://localhost:3001/api/response?user_id=".concat(t.uid,"&bot_name=").concat(e,"&prompt=").concat(i)),{loading:"Generating Response...",success:e=>(a([...o,{text:i,isBot:!1},{text:e.data,isBot:!0}]),"Response Generated!"),error:"Error in generating response. Please try again."},{style:{minWidth:"250px"}})};return(0,wI.jsxs)("div",{className:"bot-container",children:[(0,wI.jsxs)("div",{className:"left-container",children:[(0,wI.jsx)("div",{className:"logo-section",children:(0,wI.jsx)("div",{className:"logo-main",children:"QnA.AI"})}),(0,wI.jsx)("p",{children:(0,wI.jsx)(Ae,{to:"/QnA-Input",children:(0,wI.jsx)("span",{children:"Create a New BOT "})})}),(0,wI.jsxs)("div",{className:"prev-chats",children:[(0,wI.jsxs)("h1",{children:["Bot Name : ",e]}),(0,wI.jsx)("ul",{children:t.map(((e,t)=>(0,wI.jsx)("li",{children:(0,wI.jsx)("p",{children:e})},t)))})]}),(0,wI.jsx)("div",{className:"profile-menu",children:(0,wI.jsxs)("div",{className:"profile-name",children:[(0,wI.jsx)("span",{children:"Hii, "}),l||"Guest"]})})]}),(0,wI.jsxs)("div",{className:"right-container",children:[(0,wI.jsx)("div",{className:"blob"}),(0,wI.jsxs)("div",{className:"chat-container",children:[(0,wI.jsxs)("div",{className:"chats",children:[(0,wI.jsx)("div",{className:"chat",children:o.map(((e,t)=>(0,wI.jsxs)("div",{className:e.isBot?"chat bot":"chat",children:[(0,wI.jsx)("img",{className:"chatimg ",src:e.isBot?KR:GR,alt:""}),(0,wI.jsx)("p",{className:"txt",children:e.text})]},t)))}),(0,wI.jsx)("div",{ref:s})]}),(0,wI.jsxs)("div",{className:"chatFooter",children:[(0,wI.jsxs)("div",{className:"inp",children:[(0,wI.jsx)("input",{type:"text",placeholder:"Send a message",value:n,onKeyDown:e=>{"Enter"===e.key&&c()},onChange:e=>r(e.target.value)}),(0,wI.jsx)("button",{className:"send",onClick:c,children:(0,wI.jsx)("img",{src:WR,alt:""})})]}),(0,wI.jsx)("p",{children:" QNA.AI may produce inaccurate information"})]})]})]})]})},YR=()=>(0,wI.jsx)("div",{className:"main-container",children:(0,wI.jsxs)("div",{className:"history-container",children:[(0,wI.jsx)("h1",{children:"Previous Bots"}),(0,wI.jsx)("div",{className:"history",children:(0,wI.jsx)("div",{className:"history-item",children:(0,wI.jsx)("div",{className:"history-item-name"})})})]})});const JR=function(){const{user_id:e}=(0,i.useContext)(bI),t=e?void 0:"/login";return re([{path:"/bot-chat",element:(0,wI.jsx)(QR,{})},{path:"/QnA-Input",element:(0,wI.jsx)(HR,{})},{path:"/Prev-Chats",element:(0,wI.jsx)(YR,{})}],t)};function XR(e){return XR="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XR(e)}function $R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZR(e){return ZR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ZR(e)}function eO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tO(e,t){return tO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},tO(e,t)}function nO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rO=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=function(e,t){return!t||"object"!==XR(t)&&"function"!==typeof t?eO(e):t}(this,(e=ZR(t)).call.apply(e,[this].concat(i))),nO(eO(n),"state",{bootstrapped:!1}),nO(eO(n),"_unsubscribe",void 0),nO(eO(n),"handlePersistorState",(function(){n.props.persistor.getState().bootstrapped&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally((function(){return n.setState({bootstrapped:!0})})):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tO(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"===typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}])&&$R(n.prototype,r),i&&$R(n,i),t}(i.PureComponent);nO(rO,"defaultProps",{children:null,loading:null});const iO=function(){return(0,wI.jsx)(_I,{children:(0,wI.jsx)(ZN,{store:zR,children:(0,wI.jsx)(rO,{loading:null,persistor:qR,children:(0,wI.jsxs)("div",{className:"App",children:[(0,wI.jsx)(yI,{}),(0,wI.jsx)(Ie,{children:(0,wI.jsxs)(ve,{children:[(0,wI.jsx)(ge,{path:"/login",element:(0,wI.jsx)(EI,{})}),(0,wI.jsx)(ge,{path:"/signup",element:(0,wI.jsx)(SI,{})}),(0,wI.jsx)(ge,{path:"/forgot",element:(0,wI.jsx)(MT,{})}),(0,wI.jsx)(ge,{path:"/",element:(0,wI.jsx)(LT,{})}),(0,wI.jsx)(ge,{path:"*",element:(0,wI.jsx)(JR,{})})]})})]})})})})};o.createRoot(document.getElementById("root")).render((0,wI.jsx)(i.StrictMode,{children:(0,wI.jsx)(iO,{})}))})()})();
//# sourceMappingURL=main.3c38b754.js.map